Return-Path: <linux-stm32-bounces@st-md-mailman.stormreply.com>
X-Original-To: lists+linux-stm32@lfdr.de
Delivered-To: lists+linux-stm32@lfdr.de
Received: from stm-ict-prod-mailman-01.stormreply.prv (st-md-mailman.stormreply.com [52.209.6.89])
	by mail.lfdr.de (Postfix) with ESMTPS id 19513CF80BE
	for <lists+linux-stm32@lfdr.de>; Tue, 06 Jan 2026 12:30:44 +0100 (CET)
Received: from ip-172-31-3-47.eu-west-1.compute.internal (localhost [127.0.0.1])
	by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTP id B8A22C8F277;
	Tue,  6 Jan 2026 11:30:43 +0000 (UTC)
Received: from mail-106117.protonmail.ch (mail-106117.protonmail.ch
 [79.135.106.117])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
 (No client certificate requested)
 by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTPS id 18BCDC60463
 for <linux-stm32@st-md-mailman.stormreply.com>;
 Tue,  6 Jan 2026 11:30:41 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=geanix.com;
 s=protonmail2; t=1767699039; x=1767958239;
 bh=mpZ9a6BXZLK2t8VLw/I32vovbpQXSb2aQUMDb54O4es=;
 h=Date:To:From:Cc:Subject:Message-ID:In-Reply-To:References:
 Feedback-ID:From:To:Cc:Date:Subject:Reply-To:Feedback-ID:
 Message-ID:BIMI-Selector;
 b=mizbAzOsLh3qycHcIAVYKJQ+eFrxAa5/EfrTxq2h4TvFlUp/ck2DJTtSh2jyedtyw
 yiusH5ZdqIV3dYLmdc6cxVeixwBM/XaaBCuQDukVVfs4BhJe5sy2seNLHdLR9nf27q
 yKrmMQn/Nni3gDKD7oqyRu8LRNsJDPa5rvLyXTnTnjn4sOhlQiYxhykXPi1JSIL14r
 +bbvi+DifomcYj4aIIfg23ECZKtNfcgQBFu8LKWZX3288fYl+3J27ES1Wj3D1gKfxj
 oXmGa9gponyar1Y9QpPU58qCLEIJlaUGEMXD78WJVPOxEuRYrgPiKQZpI5sb7Da3Fu
 +ugk9btn6901A==
Date: Tue, 06 Jan 2026 11:30:34 +0000
To: =?utf-8?Q?Uwe_Kleine-K=C3=B6nig?= <ukleinek@kernel.org>
From: Sean Nyekjaer <sean@geanix.com>
Message-ID: <2e2iahbzcepbzwgk7xeta2afxmycfjgv2zofzngqjvp4on46r2@mzpi4bz4uqie>
In-Reply-To: <kemjjoyrhqglqq4p2j6kygspevq2mdbiujtnksw4rkdapoqcfy@zte2c7fhqvn3>
References: <20260106-stm32-pwm-v1-1-33e9e8a9fc33@geanix.com>
 <kemjjoyrhqglqq4p2j6kygspevq2mdbiujtnksw4rkdapoqcfy@zte2c7fhqvn3>
Feedback-ID: 134068486:user:proton
X-Pm-Message-ID: 2e006c92e9af34182a73b56e93f3230599eee605
MIME-Version: 1.0
Cc: linux-pwm@vger.kernel.org, stable@vger.kernel.org,
 linux-kernel@vger.kernel.org, Maxime Coquelin <mcoquelin.stm32@gmail.com>,
 linux-stm32@st-md-mailman.stormreply.com, linux-arm-kernel@lists.infradead.org
Subject: Re: [Linux-stm32] [PATCH] pwm: stm32: handle polarity change when
	PWM is enabled
X-BeenThere: linux-stm32@st-md-mailman.stormreply.com
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: <linux-stm32.st-md-mailman.stormreply.com>
List-Unsubscribe: <https://st-md-mailman.stormreply.com/mailman/options/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=unsubscribe>
List-Archive: <http://st-md-mailman.stormreply.com/pipermail/linux-stm32/>
List-Post: <mailto:linux-stm32@st-md-mailman.stormreply.com>
List-Help: <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=help>
List-Subscribe: <https://st-md-mailman.stormreply.com/mailman/listinfo/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: linux-stm32-bounces@st-md-mailman.stormreply.com
Sender: "Linux-stm32" <linux-stm32-bounces@st-md-mailman.stormreply.com>

SGkgVXdlLAoKT24gVHVlLCBKYW4gMDYsIDIwMjYgYXQgMTE6MjI6NTdBTSArMDEwMCwgVXdlIEts
ZWluZS1Lw7ZuaWcgd3JvdGU6Cj4gSGVsbG8gU2VhbiwKPiAKPiBPbiBUdWUsIEphbiAwNiwgMjAy
NiBhdCAwODowMTo1N0FNICswMTAwLCBTZWFuIE55ZWtqYWVyIHdyb3RlOgo+ID4gQWZ0ZXIgY29t
bWl0IDczNDZlN2EwNThhMiAoInB3bTogc3RtMzI6IEFsd2F5cyBkbyBsYXp5IGRpc2FibGluZyIp
LAo+ID4gcG9sYXJpdHkgY2hhbmdlcyBhcmUgaWdub3JlZC4gVXBkYXRlcyB0byB0aGUgVElNeF9D
Q0VSIENDeFAgYml0cyBhcmUKPiA+IGlnbm9yZWQgYnkgdGhlIGhhcmR3YXJlIHdoZW4gdGhlIG1h
c3RlciBvdXRwdXQgaXMgZW5hYmxlZCB2aWEgdGhlCj4gPiBUSU14X0JEVFIgTU9FIGJpdC4KPiA+
IAo+ID4gSGFuZGxlIHBvbGFyaXR5IGNoYW5nZXMgYnkgdGVtcG9yYXJpbHkgZGlzYWJsaW5nIHRo
ZSBQV00gd2hlbiByZXF1aXJlZCwKPiA+IGluIGxpbmUgd2l0aCBhcHBseSgpIGltcGxlbWVudGF0
aW9ucyB1c2VkIGJ5IG90aGVyIFBXTSBkcml2ZXJzLgo+ID4gCj4gPiBGaXhlczogNzM0NmU3YTA1
OGEyICgicHdtOiBzdG0zMjogQWx3YXlzIGRvIGxhenkgZGlzYWJsaW5nIikKPiA+IENjOiBzdGFi
bGVAdmdlci5rZXJuZWwub3JnCj4gPiBTaWduZWQtb2ZmLWJ5OiBTZWFuIE55ZWtqYWVyIDxzZWFu
QGdlYW5peC5jb20+Cj4gPiAtLS0KPiA+IFRoaXMgcGF0Y2ggaXMgb25seSBhcHBsaWNhYmxlIGZv
ciBzdGFibGUgdHJlZSdzIDw9IDYuMTIKPiA+IEhvdyB0byBleHBsaWNpdGx5IHN0YXRlIHRoYXQg
YW5kIHdoYXQgaXMgdGhlIHByb2NlZHVyZT8KPiAKPiBJIGhhdmVuJ3QgY2hlY2tlZCBpbiBkZXRh
aWwgeWV0IGJ1dCBJIHdvbmRlciBpZiB0aGUgcHJvYmxlbSBhbHNvIGV4aXN0cwo+IGluIG5ld2Vy
IGtlcm5lbHMuIEFsc28gSSB0aGluayB0aGF0IGNoYW5naW5nIHRoZSBwb2xhcml0eSB3aXRoIHRo
ZQo+IGhhcmR3YXJlIG9uIGhhcHBlbmQgYmVmb3JlIDczNDZlN2EwNThhMjsgaW4gdGhhdCBjYXNl
IHlvdSBibGFtZWQgdGhlCj4gd3JvbmcgY29tbWl0LgoKRm9yIHlvdXIgcmVmZXJlbmNlIGkgYmlz
ZWN0ZWQgdG8gdGhhdCBjb21taXQuCgo+IAo+IFNvIGV2ZW4gaWYgd2UgZGVjaWRlIHRvIGFwcGx5
IGEgc21hbGwgdGFyZ2V0dGVkIGZpeCBmb3IgdGhlIGlzc3VlIHlvdQo+IHJlcG9ydCB0byBzdGFi
bGUgd2l0aG91dCBhbiBlcXVpdmFsZW50IGNvbW1pdCBpbiBtYWlubGluZSAoZHVlIHRvIHRoZQo+
IHJld29yayB0aGUgZHJpdmVyIHNhdyBpbiB2Ni4xMy1yYzF+MTU3XjJ+OV4yfjMgKCJwd206IHN0
bTMyOgo+IEltcGxlbWVudGF0aW9uIG9mIHRoZSB3YXZlZm9ybSBjYWxsYmFja3MiKSksIEkgcmVm
dXNlIHRvIGRvIHRoYXQgaWYgdGhlCj4gcHJvYmxlbSBzdGlsbCBleGlzdHMgaW4gbWFpbmxpbmUu
Cj4gCgpJIGhhdmUgdHJpZWQgdG8gYm9vdCBzdGFibGUvbWFzdGVyIDYuMTkuMC1yYzQsIG15IGJh
Y2tsaWdodCBpcyBvbiEKSW4gc3RtMzJfcHdtX3dyaXRlX3dhdmVmb3JtKCkgVElNeF9DQ0VSIGlz
IHNldCBiZWZvcmUgTU9FIGlzIHNldC4KCj4gPiAtLS0KPiA+ICBkcml2ZXJzL3B3bS9wd20tc3Rt
MzIuYyB8IDE0ICsrKysrKysrKysrLS0tCj4gPiAgMSBmaWxlIGNoYW5nZWQsIDExIGluc2VydGlv
bnMoKyksIDMgZGVsZXRpb25zKC0pCj4gPiAKPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3B3bS9w
d20tc3RtMzIuYyBiL2RyaXZlcnMvcHdtL3B3bS1zdG0zMi5jCj4gPiBpbmRleCBlYjI0MDU0Zjk3
Mjk3MzRkYTIxZWI5NmYyZTM3YWYwMzMzOWUzNDQwLi5kNWY3OWU4N2EwNjUzZTE3MTBkNDZlNmJm
OTI2OGE1OTYzODk0M2ZlIDEwMDY0NAo+ID4gLS0tIGEvZHJpdmVycy9wd20vcHdtLXN0bTMyLmMK
PiA+ICsrKyBiL2RyaXZlcnMvcHdtL3B3bS1zdG0zMi5jCj4gPiBAQCAtNDUyLDE1ICs0NTIsMjMg
QEAgc3RhdGljIGludCBzdG0zMl9wd21fYXBwbHkoc3RydWN0IHB3bV9jaGlwICpjaGlwLCBzdHJ1
Y3QgcHdtX2RldmljZSAqcHdtLAo+ID4gIAo+ID4gIAllbmFibGVkID0gcHdtLT5zdGF0ZS5lbmFi
bGVkOwo+ID4gIAo+ID4gKwlpZiAoc3RhdGUtPnBvbGFyaXR5ICE9IHB3bS0+c3RhdGUucG9sYXJp
dHkpIHsKPiA+ICsJCWlmIChlbmFibGVkKSB7Cj4gPiArCQkJc3RtMzJfcHdtX2Rpc2FibGUocHJp
diwgcHdtLT5od3B3bSk7Cj4gPiArCQkJZW5hYmxlZCA9IGZhbHNlOwo+ID4gKwkJfQo+ID4gKwo+
ID4gKwkJcmV0ID0gc3RtMzJfcHdtX3NldF9wb2xhcml0eShwcml2LCBwd20tPmh3cHdtLCBzdGF0
ZS0+cG9sYXJpdHkpOwo+ID4gKwkJaWYgKHJldCkKPiA+ICsJCQlyZXR1cm4gcmV0Owo+ID4gKwl9
Cj4gPiArCj4gPiAgCWlmICghc3RhdGUtPmVuYWJsZWQpIHsKPiA+ICAJCWlmIChlbmFibGVkKQo+
ID4gIAkJCXN0bTMyX3B3bV9kaXNhYmxlKHByaXYsIHB3bS0+aHdwd20pOwo+ID4gIAkJcmV0dXJu
IDA7Cj4gPiAgCX0KPiA+ICAKPiA+IC0JaWYgKHN0YXRlLT5wb2xhcml0eSAhPSBwd20tPnN0YXRl
LnBvbGFyaXR5KQo+ID4gLQkJc3RtMzJfcHdtX3NldF9wb2xhcml0eShwcml2LCBwd20tPmh3cHdt
LCBzdGF0ZS0+cG9sYXJpdHkpOwo+ID4gLQo+ID4gIAlyZXQgPSBzdG0zMl9wd21fY29uZmlnKHBy
aXYsIHB3bS0+aHdwd20sCj4gPiAgCQkJICAgICAgIHN0YXRlLT5kdXR5X2N5Y2xlLCBzdGF0ZS0+
cGVyaW9kKTsKPiA+ICAJaWYgKHJldCkKPiAKPiBJIHdvdWxkIHByZWZlciB0aGUgZm9sbG93aW5n
IGNoYW5nZToKPiAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9wd20vcHdtLXN0bTMyLmMgYi9kcml2
ZXJzL3B3bS9wd20tc3RtMzIuYwo+IGluZGV4IGViMjQwNTRmOTcyOS4uNWYxMThjMjBmMWNhIDEw
MDY0NAo+IC0tLSBhL2RyaXZlcnMvcHdtL3B3bS1zdG0zMi5jCj4gKysrIGIvZHJpdmVycy9wd20v
cHdtLXN0bTMyLmMKPiBAQCAtNDUyLDEyICs0NTIsMTYgQEAgc3RhdGljIGludCBzdG0zMl9wd21f
YXBwbHkoc3RydWN0IHB3bV9jaGlwICpjaGlwLCBzdHJ1Y3QgcHdtX2RldmljZSAqcHdtLAo+ICAK
PiAgCWVuYWJsZWQgPSBwd20tPnN0YXRlLmVuYWJsZWQ7Cj4gIAo+IC0JaWYgKCFzdGF0ZS0+ZW5h
YmxlZCkgewo+ICsJLyogVGhlIGhhcmR3YXJlIG11c3QgYmUgZGlzYWJsZWQgdG8gaG9ub3IgcG9s
YXJpdHkgY2hhbmdlcy4gKi8KPiArCWlmICghc3RhdGUtPmVuYWJsZWQgfHwgc3RhdGUtPnBvbGFy
aXR5ICE9IHB3bS0+c3RhdGUucG9sYXJpdHkpIHsKPiAgCQlpZiAoZW5hYmxlZCkKPiAgCQkJc3Rt
MzJfcHdtX2Rpc2FibGUocHJpdiwgcHdtLT5od3B3bSk7Cj4gLQkJcmV0dXJuIDA7Cj4gKwkJZW5h
YmxlZCA9IGZhbHNlOwo+ICAJfQo+ICAKPiArCWlmICghc3RhdGUtPmVuYWJsZWQpCj4gKwkJcmV0
dXJuIDA7Cj4gKwo+ICAJaWYgKHN0YXRlLT5wb2xhcml0eSAhPSBwd20tPnN0YXRlLnBvbGFyaXR5
KQo+ICAJCXN0bTMyX3B3bV9zZXRfcG9sYXJpdHkocHJpdiwgcHdtLT5od3B3bSwgc3RhdGUtPnBv
bGFyaXR5KTsKPiAgCj4gTWF5YmUgaXQncyBqdXN0IG1lLCBidXQgSSB0aGluayB0aGUgcmVzdWx0
aW5nIGNvZGUgaXMgc2ltcGxlciB3aXRoIHRoaXMKPiBodW5rLgoKRmluZSB3aXRoIG1lLCBJIGp1
c3QgbG9va2VkIGF0IHRoZSBvdGhlciBQV00gZHJpdmVycyBhbmQgY29weS9wYXN0ZWQKZnJvbSB0
aGVtIDopCgo+IAo+IEkgaGF2ZSBoYXJkd2FyZSB1c2luZyB0aGlzIGRyaXZlciwgd2lsbCBzZXQg
aXQgdXAgbGF0ZXIgdGhpcyB3ZWVrIGZvcgo+IHRlc3RpbmcuCgpWZXJ5IGNvb2wsIGxvb2tpbmcg
Zm9yd2FyZCB0byBoZWFyIGlmIHlvdSBjYW4gcmUtcHJvZHVjZS4KCj4gCj4gQmVzdCByZWdhcmRz
Cj4gVXdlCgovU2VhbgoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18KTGludXgtc3RtMzIgbWFpbGluZyBsaXN0CkxpbnV4LXN0bTMyQHN0LW1kLW1haWxtYW4u
c3Rvcm1yZXBseS5jb20KaHR0cHM6Ly9zdC1tZC1tYWlsbWFuLnN0b3JtcmVwbHkuY29tL21haWxt
YW4vbGlzdGluZm8vbGludXgtc3RtMzIK
