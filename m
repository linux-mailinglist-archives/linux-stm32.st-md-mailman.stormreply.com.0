Return-Path: <linux-stm32-bounces@st-md-mailman.stormreply.com>
X-Original-To: lists+linux-stm32@lfdr.de
Delivered-To: lists+linux-stm32@lfdr.de
Received: from stm-ict-prod-mailman-01.stormreply.prv (st-md-mailman.stormreply.com [52.209.6.89])
	by mail.lfdr.de (Postfix) with ESMTPS id 662D3546945
	for <lists+linux-stm32@lfdr.de>; Fri, 10 Jun 2022 17:20:17 +0200 (CEST)
Received: from ip-172-31-3-47.eu-west-1.compute.internal (localhost [127.0.0.1])
	by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTP id 0A01EC5F1D7;
	Fri, 10 Jun 2022 15:20:17 +0000 (UTC)
Received: from mail-lf1-f47.google.com (mail-lf1-f47.google.com
 [209.85.167.47])
 (using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
 (No client certificate requested)
 by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTPS id 0779AC5F1D3
 for <linux-stm32@st-md-mailman.stormreply.com>;
 Fri, 10 Jun 2022 15:20:15 +0000 (UTC)
Received: by mail-lf1-f47.google.com with SMTP id be31so43388035lfb.10
 for <linux-stm32@st-md-mailman.stormreply.com>;
 Fri, 10 Jun 2022 08:20:15 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20210112;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=3VGwLHfvMVJaon3UPprtUELHfGAcZPNdQ7DflWhwmt0=;
 b=P/Ka9zWOeDu6HUDB0Eg/b1uUjfyBCHZlNz2JbsuAVzY37LsgbYZTlU9CP7WjeX0rgO
 0xyS8f7u8RwFeckIVBE12JZyfROcgHkGmdHWjq3uXB0xPL9MVdnUMZ1dMsIGoKXww8cX
 s+cPr285Fp5JSvbix+6hHIPAgxAXVtg88NGtRIu2Wfw1BcRga5f+Dknh3vOZZo4+TJvR
 OkK5oz8H7/UfEqyyPjAfvAjMl8/zzcW23X4tce2R7YBWcvAbjv5c9GMccgjJZWALa+dh
 Xu7hbfj38XRZxVh9ATWJk5v10wnbnP9Nls6Prg9YUhCELEOG7bY9KQ2piNthv71iveJH
 VFYw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20210112;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=3VGwLHfvMVJaon3UPprtUELHfGAcZPNdQ7DflWhwmt0=;
 b=66Ah4t5Zqn+57RJ1/zHWZEmHQN7pNfem3EfIwFKxW6bdojK3KDHsfH5jVLMYQ0qJZD
 HZHzKjqcb8W3nzQCPpRexKv+h7IEk0zqmz6R6mcnSK0XQnvK3Egh0m7GVZZ+JSnEYH41
 oDgpEvS6b7IFeNLs102O6u0kVgbsqKfkiAxqDllk6geLN5xsK5I7ZdFG00rJs1F2QFXv
 meQkSphfbBb/nG5w89dp4rDCWJujdKmSf2K+eIp7zlmPABo0PZdKeiLc2GTeRVZU7xmi
 VxakZ4M0TgpCWOMjd966otsyrCyfpmc/ah1E0bacA2TJHkwMH3Ejl55Ut/6/Txl0Zk3Z
 iNhQ==
X-Gm-Message-State: AOAM531pNO97VYi+i7/7Zlk/cMWHPtKaLj7bnddXWi+HRDtDlC480JBm
 FAzpazEGrryU4HPthoW/WKkG+R2eNmLTeQXuRHo=
X-Google-Smtp-Source: ABdhPJywhZ2seelC5ikDyiprjiJZBSJkzhhjoe5lG2avatAtoJAI9PIkgcbzm57zOCR5jYl47QmB34X2BeJEKTlVBeE=
X-Received: by 2002:ac2:4c04:0:b0:479:6ee1:8992 with SMTP id
 t4-20020ac24c04000000b004796ee18992mr10144647lfq.35.1654874413690; Fri, 10
 Jun 2022 08:20:13 -0700 (PDT)
MIME-Version: 1.0
References: <20220610084545.547700-1-nuno.sa@analog.com>
 <20220610084545.547700-25-nuno.sa@analog.com>
In-Reply-To: <20220610084545.547700-25-nuno.sa@analog.com>
From: Andy Shevchenko <andy.shevchenko@gmail.com>
Date: Fri, 10 Jun 2022 17:19:33 +0200
Message-ID: <CAHp75Vf6dYFR8TESk6oj=SFiXmw-tBAa9Fz-jhRk57ARumxzhA@mail.gmail.com>
To: =?UTF-8?B?TnVubyBTw6E=?= <nuno.sa@analog.com>
Cc: Alexandre Belloni <alexandre.belloni@bootlin.com>,
 Daniel Lezcano <daniel.lezcano@linaro.org>, Tomer Maimon <tmaimon77@gmail.com>,
 "Rafael J. Wysocki" <rafael@kernel.org>, linux-iio <linux-iio@vger.kernel.org>,
 Linus Walleij <linus.walleij@linaro.org>, Amit Kucheria <amitk@kernel.org>,
 Tali Perry <tali.perry1@gmail.com>, Paul Cercueil <paul@crapouillou.net>,
 Miquel Raynal <miquel.raynal@bootlin.com>, Guenter Roeck <groeck@chromium.org>,
 Fabio Estevam <festevam@gmail.com>, linux-stm32@st-md-mailman.stormreply.com,
 chrome-platform@lists.linux.dev, Lars-Peter Clausen <lars@metafoo.de>,
 Benjamin Fair <benjaminfair@google.com>,
 OpenBMC Maillist <openbmc@lists.ozlabs.org>,
 Jishnu Prakash <quic_jprakash@quicinc.com>, Haibo Chen <haibo.chen@nxp.com>,
 Nancy Yuen <yuenn@google.com>, Andy Gross <agross@kernel.org>,
 dl-linux-imx <linux-imx@nxp.com>, Zhang Rui <rui.zhang@intel.com>,
 Christophe Branchereau <cbranchereau@gmail.com>,
 Saravanan Sekar <sravanhome@gmail.com>,
 Michael Hennerich <Michael.Hennerich@analog.com>,
 linux-arm-msm <linux-arm-msm@vger.kernel.org>,
 Sascha Hauer <s.hauer@pengutronix.de>,
 Nicolas Ferre <nicolas.ferre@microchip.com>,
 Lad Prabhakar <prabhakar.mahadev-lad.rj@bp.renesas.com>,
 "moderated list:ARM/Mediatek SoC support" <linux-mediatek@lists.infradead.org>,
 Eugen Hristev <eugen.hristev@microchip.com>,
 Matthias Brugger <matthias.bgg@gmail.com>,
 Gwendal Grignou <gwendal@chromium.org>,
 Bjorn Andersson <bjorn.andersson@linaro.org>,
 Benson Leung <bleung@chromium.org>,
 Pengutronix Kernel Team <kernel@pengutronix.de>,
 linux-arm Mailing List <linux-arm-kernel@lists.infradead.org>,
 Lorenzo Bianconi <lorenzo@kernel.org>, Avi Fishman <avifishman70@gmail.com>,
 Patrick Venture <venture@google.com>,
 "open list:BROADCOM NVRAM DRIVER" <linux-mips@vger.kernel.org>,
 Thara Gopinath <thara.gopinath@linaro.org>,
 Linux-Renesas <linux-renesas-soc@vger.kernel.org>,
 Arnd Bergmann <arnd@arndb.de>, Maxime Coquelin <mcoquelin.stm32@gmail.com>,
 Cai Huoqing <cai.huoqing@linux.dev>, Shawn Guo <shawnguo@kernel.org>,
 Claudiu Beznea <claudiu.beznea@microchip.com>,
 Jonathan Cameron <jic23@kernel.org>
Subject: Re: [Linux-stm32] [PATCH 24/34] iio: inkern: move to fwnode
	properties
X-BeenThere: linux-stm32@st-md-mailman.stormreply.com
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: <linux-stm32.st-md-mailman.stormreply.com>
List-Unsubscribe: <https://st-md-mailman.stormreply.com/mailman/options/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=unsubscribe>
List-Archive: <http://st-md-mailman.stormreply.com/pipermail/linux-stm32/>
List-Post: <mailto:linux-stm32@st-md-mailman.stormreply.com>
List-Help: <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=help>
List-Subscribe: <https://st-md-mailman.stormreply.com/mailman/listinfo/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: linux-stm32-bounces@st-md-mailman.stormreply.com
Sender: "Linux-stm32" <linux-stm32-bounces@st-md-mailman.stormreply.com>

T24gRnJpLCBKdW4gMTAsIDIwMjIgYXQgMTA6NDggQU0gTnVubyBTw6EgPG51bm8uc2FAYW5hbG9n
LmNvbT4gd3JvdGU6Cj4KPiBUaGlzIG1vdmVzIHRoZSBJSU8gaW4ga2VybmVsIGludGVyZmFjZSB0
byB1c2UgZndub2RlIHByb3BlcnRpZXMgYW5kIHRodXMKPiBiZSBmaXJtd2FyZSBhZ25vc3RpYy4K
Pgo+IE5vdGUgdGhhdCB0aGUgaW50ZXJmYWNlIGlzIHN0aWxsIG5vdCBmaXJtd2FyZSBhZ25vc3Rp
Yy4gQXQgdGhpcyBwb2ludCB3ZQo+IGhhdmUgYm90aCBPRiBhbmQgZndub2RlIGludGVyZmFjZXMg
c28gdGhhdCB3ZSBkb24ndCBicmVhayBhbnkgdXNlci4gT24KPiB0b3Agb2YgdGhpcyB3ZSBhbHNv
IHdhbnQgdG8gaGF2ZSBhIHBlciBkcml2ZXIgY29udmVyc2lvbiBhbmQgdGhhdCBpcyB0aGUKPiBt
YWluIHJlYXNvbiB3ZSBoYXZlIGJvdGggb2ZfeGxhdGUoKSBhbmQgZndub2RlX3hsYXRlKCkgc3Vw
cG9ydC4KClJldmlld2VkLWJ5OiBBbmR5IFNoZXZjaGVua28gPGFuZHkuc2hldmNoZW5rb0BnbWFp
bC5jb20+ClRoYW5rcyEKCkEgZmV3IG5pdC1waWNrcyBiZWxvdywgdGhvdWdoLgoKPiBTaWduZWQt
b2ZmLWJ5OiBOdW5vIFPDoSA8bnVuby5zYUBhbmFsb2cuY29tPgo+IC0tLQo+ICBkcml2ZXJzL2lp
by9pbmtlcm4uYyAgICAgICAgIHwgMTQ1ICsrKysrKysrKysrKysrKysrKystLS0tLS0tLS0tLS0t
LS0tCj4gIGluY2x1ZGUvbGludXgvaWlvL2NvbnN1bWVyLmggfCAgMzYgKysrKystLS0tCj4gIGlu
Y2x1ZGUvbGludXgvaWlvL2lpby5oICAgICAgfCAgIDUgKysKPiAgMyBmaWxlcyBjaGFuZ2VkLCAx
MDUgaW5zZXJ0aW9ucygrKSwgODEgZGVsZXRpb25zKC0pCj4KPiBkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9paW8vaW5rZXJuLmMgYi9kcml2ZXJzL2lpby9pbmtlcm4uYwo+IGluZGV4IGRkZTQ3MzI0Yjgy
Ni4uMWQ1MTliMGNhY2VhIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvaWlvL2lua2Vybi5jCj4gKysr
IGIvZHJpdmVycy9paW8vaW5rZXJuLmMKPiBAQCAtNSw2ICs1LDcgQEAKPiAgICovCj4gICNpbmNs
dWRlIDxsaW51eC9lcnIuaD4KPiAgI2luY2x1ZGUgPGxpbnV4L2V4cG9ydC5oPgo+ICsjaW5jbHVk
ZSA8bGludXgvcHJvcGVydHkuaD4KPiAgI2luY2x1ZGUgPGxpbnV4L3NsYWIuaD4KPiAgI2luY2x1
ZGUgPGxpbnV4L211dGV4Lmg+Cj4gICNpbmNsdWRlIDxsaW51eC9vZi5oPgo+IEBAIC0xMTcsMTUg
KzExOCwxMyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGlpb19jaGFuX3NwZWMKPiAgICAgICAgIHJl
dHVybiBjaGFuOwo+ICB9Cj4KPiAtI2lmZGVmIENPTkZJR19PRgo+IC0KPiAgc3RhdGljIGludCBp
aW9fZGV2X25vZGVfbWF0Y2goc3RydWN0IGRldmljZSAqZGV2LCBjb25zdCB2b2lkICpkYXRhKQo+
ICB7Cj4gLSAgICAgICByZXR1cm4gZGV2LT5vZl9ub2RlID09IGRhdGEgJiYgZGV2LT50eXBlID09
ICZpaW9fZGV2aWNlX3R5cGU7Cj4gKyAgICAgICByZXR1cm4gZGV2aWNlX21hdGNoX2Z3bm9kZShk
ZXYsIGRhdGEpICYmIGRldi0+dHlwZSA9PSAmaWlvX2RldmljZV90eXBlOwo+ICB9Cj4KPiAgLyoq
Cj4gLSAqIF9fb2ZfaWlvX3NpbXBsZV94bGF0ZSAtIHRyYW5zbGF0ZSBpaW9zcGVjIHRvIHRoZSBJ
SU8gY2hhbm5lbCBpbmRleAo+ICsgKiBfX2Z3bm9kZV9paW9fc2ltcGxlX3hsYXRlIC0gdHJhbnNs
YXRlIGlpb3NwZWMgdG8gdGhlIElJTyBjaGFubmVsIGluZGV4Cj4gICAqIEBpbmRpb19kZXY6IHBv
aW50ZXIgdG8gdGhlIGlpb19kZXYgc3RydWN0dXJlCj4gICAqIEBpaW9zcGVjOiAgIElJTyBzcGVj
aWZpZXIgYXMgZm91bmQgaW4gdGhlIGRldmljZSB0cmVlCj4gICAqCj4gQEAgLTEzNCwxNCArMTMz
LDE0IEBAIHN0YXRpYyBpbnQgaWlvX2Rldl9ub2RlX21hdGNoKHN0cnVjdCBkZXZpY2UgKmRldiwg
Y29uc3Qgdm9pZCAqZGF0YSkKPiAgICogd2hldGhlciBJSU8gaW5kZXggaXMgbGVzcyB0aGFuIG51
bV9jaGFubmVscyAodGhhdCBpcyBzcGVjaWZpZWQgaW4gdGhlCj4gICAqIGlpb19kZXYpLgo+ICAg
Ki8KPiAtc3RhdGljIGludCBfX29mX2lpb19zaW1wbGVfeGxhdGUoc3RydWN0IGlpb19kZXYgKmlu
ZGlvX2RldiwKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cnVjdCBv
Zl9waGFuZGxlX2FyZ3MgKmlpb3NwZWMpCj4gK3N0YXRpYyBpbnQgX19md25vZGVfaWlvX3NpbXBs
ZV94bGF0ZShzdHJ1Y3QgaWlvX2RldiAqaW5kaW9fZGV2LAo+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBjb25zdCBzdHJ1Y3QgZndub2RlX3JlZmVyZW5jZV9hcmdzICppaW9z
cGVjKQo+ICB7Cj4gLSAgICAgICBpZiAoIWlpb3NwZWMtPmFyZ3NfY291bnQpCj4gKyAgICAgICBp
ZiAoIWlpb3NwZWMtPm5hcmdzKQo+ICAgICAgICAgICAgICAgICByZXR1cm4gMDsKPgo+ICAgICAg
ICAgaWYgKGlpb3NwZWMtPmFyZ3NbMF0gPj0gaW5kaW9fZGV2LT5udW1fY2hhbm5lbHMpIHsKPiAt
ICAgICAgICAgICAgICAgZGV2X2VycigmaW5kaW9fZGV2LT5kZXYsICJpbnZhbGlkIGNoYW5uZWwg
aW5kZXggJXVcbiIsCj4gKyAgICAgICAgICAgICAgIGRldl9lcnIoJmluZGlvX2Rldi0+ZGV2LCAi
aW52YWxpZCBjaGFubmVsIGluZGV4ICVsbHVcbiIsCj4gICAgICAgICAgICAgICAgICAgICAgICAg
aWlvc3BlYy0+YXJnc1swXSk7Cj4gICAgICAgICAgICAgICAgIHJldHVybiAtRUlOVkFMOwo+ICAg
ICAgICAgfQo+IEBAIC0xNDksMzQgKzE0OCw1NiBAQCBzdGF0aWMgaW50IF9fb2ZfaWlvX3NpbXBs
ZV94bGF0ZShzdHJ1Y3QgaWlvX2RldiAqaW5kaW9fZGV2LAo+ICAgICAgICAgcmV0dXJuIGlpb3Nw
ZWMtPmFyZ3NbMF07Cj4gIH0KPgo+IC1zdGF0aWMgaW50IF9fb2ZfaWlvX2NoYW5uZWxfZ2V0KHN0
cnVjdCBpaW9fY2hhbm5lbCAqY2hhbm5lbCwKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHN0cnVjdCBkZXZpY2Vfbm9kZSAqbnAsIGludCBpbmRleCkKPiArLyoKPiArICogU2ltcGxl
IGhlbHBlciB0byBjb3B5IGZ3bm9kZV9yZWZlcmVuY2VfYXJncyBpbnRvIG9mX3BoYW5kbGVfYXJn
cyBzbyB3ZQo+ICsgKiBjYW4gcGFzcyBpdCB0byBvZl94bGF0ZSgpLiBVbHRpbWF0ZSBnb2FsIGlz
IHRvIGRyb3AgdGhpcyB0b2dldGhlciB3aXRoCj4gKyAqIG9mX3hsYXRlKCkuCj4gKyAqLwo+ICtz
dGF0aWMgaW50IF9fZndub2RlX3RvX29mX3hsYXRlKHN0cnVjdCBpaW9fZGV2ICppbmRpb19kZXYs
Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJ1Y3QgZndub2RlX3Jl
ZmVyZW5jZV9hcmdzICppaW9zcGVjKQo+ICt7Cj4gKyAgICAgICBzdHJ1Y3Qgb2ZfcGhhbmRsZV9h
cmdzIG9mX2FyZ3M7Cj4gKyAgICAgICB1bnNpZ25lZCBpbnQgaTsKPiArCj4gKyAgICAgICBvZl9h
cmdzLmFyZ3NfY291bnQgPSBpaW9zcGVjLT5uYXJnczsKPiArICAgICAgIG9mX2FyZ3MubnAgPSB0
b19vZl9ub2RlKGlpb3NwZWMtPmZ3bm9kZSk7Cj4gKwo+ICsgICAgICAgZm9yIChpID0gMDsgaSA8
IE1BWF9QSEFORExFX0FSR1M7IGkrKykKPiArICAgICAgICAgICAgICAgb2ZfYXJncy5hcmdzW2ld
ID0gaSA8IGlpb3NwZWMtPm5hcmdzID8gaWlvc3BlYy0+YXJnc1tpXSA6IDA7Cj4gKwo+ICsgICAg
ICAgcmV0dXJuIGluZGlvX2Rldi0+aW5mby0+b2ZfeGxhdGUoaW5kaW9fZGV2LCAmb2ZfYXJncyk7
Cj4gK30KCkFoLCBub3cgSSByZWFsaXplZCB0aGF0IGl0J3MgYSBiaXQgbW9yZSBjb21wbGljYXRl
ZCB0aGFuIGp1c3QgdG9fb2Zfbm9kZSgpIDotKQoKPiArc3RhdGljIGludCBfX2Z3bm9kZV9paW9f
Y2hhbm5lbF9nZXQoc3RydWN0IGlpb19jaGFubmVsICpjaGFubmVsLAo+ICsgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBmd25vZGVfaGFuZGxlICpmd25vZGUsIGludCBp
bmRleCkKPiAgewo+ICAgICAgICAgc3RydWN0IGRldmljZSAqaWRldjsKPiAgICAgICAgIHN0cnVj
dCBpaW9fZGV2ICppbmRpb19kZXY7Cj4gICAgICAgICBpbnQgZXJyOwo+IC0gICAgICAgc3RydWN0
IG9mX3BoYW5kbGVfYXJncyBpaW9zcGVjOwo+ICsgICAgICAgc3RydWN0IGZ3bm9kZV9yZWZlcmVu
Y2VfYXJncyBpaW9zcGVjOwoKQXQgdGhlIHNhbWUgcG9pbnQgeW91IGNhbiBtb3ZlIGl0IHVwIGlu
IHRoZSBibG9jayB0byBtYWtlIGEgbG9uZyBsaW5lIGZpcnN0LgoKPiAtICAgICAgIGVyciA9IG9m
X3BhcnNlX3BoYW5kbGVfd2l0aF9hcmdzKG5wLCAiaW8tY2hhbm5lbHMiLAo+IC0gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiNpby1jaGFubmVsLWNlbGxzIiwKPiAtICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4LCAmaWlvc3BlYyk7Cj4g
KyAgICAgICBlcnIgPSBmd25vZGVfcHJvcGVydHlfZ2V0X3JlZmVyZW5jZV9hcmdzKGZ3bm9kZSwg
ImlvLWNoYW5uZWxzIiwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIiNpby1jaGFubmVsLWNlbGxzIiwgMCwKPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgsICZpaW9zcGVjKTsKPiAgICAgICAgIGlm
IChlcnIpCj4gICAgICAgICAgICAgICAgIHJldHVybiBlcnI7Cj4KPiAtICAgICAgIGlkZXYgPSBi
dXNfZmluZF9kZXZpY2UoJmlpb19idXNfdHlwZSwgTlVMTCwgaWlvc3BlYy5ucCwKPiArICAgICAg
IGlkZXYgPSBidXNfZmluZF9kZXZpY2UoJmlpb19idXNfdHlwZSwgTlVMTCwgaWlvc3BlYy5md25v
ZGUsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlpb19kZXZfbm9kZV9tYXRjaCk7
CgpXb25kZXJpbmcgaWYgdGhpcwpodHRwczovL2VsaXhpci5ib290bGluLmNvbS9saW51eC92NS4x
OS1yYzEvQy9pZGVudC9idXNfZmluZF9kZXZpY2VfYnlfZndub2RlCmNhbiBiZSB1dGlsaXplZCAo
eWVzLCBJIG5vdGljZWQgaWlvX2RldmljZV90eXBlIGFib3ZlKS4KCj4gICAgICAgICBpZiAoaWRl
diA9PSBOVUxMKSB7Cj4gLSAgICAgICAgICAgICAgIG9mX25vZGVfcHV0KGlpb3NwZWMubnApOwo+
ICsgICAgICAgICAgICAgICBmd25vZGVfaGFuZGxlX3B1dChpaW9zcGVjLmZ3bm9kZSk7Cj4gICAg
ICAgICAgICAgICAgIHJldHVybiAtRVBST0JFX0RFRkVSOwo+ICAgICAgICAgfQo+Cj4gICAgICAg
ICBpbmRpb19kZXYgPSBkZXZfdG9faWlvX2RldihpZGV2KTsKPiAgICAgICAgIGNoYW5uZWwtPmlu
ZGlvX2RldiA9IGluZGlvX2RldjsKPiAgICAgICAgIGlmIChpbmRpb19kZXYtPmluZm8tPm9mX3hs
YXRlKQo+IC0gICAgICAgICAgICAgICBpbmRleCA9IGluZGlvX2Rldi0+aW5mby0+b2ZfeGxhdGUo
aW5kaW9fZGV2LCAmaWlvc3BlYyk7Cj4gKyAgICAgICAgICAgICAgIGluZGV4ID0gX19md25vZGVf
dG9fb2ZfeGxhdGUoaW5kaW9fZGV2LCAmaWlvc3BlYyk7Cj4gKyAgICAgICBlbHNlIGlmIChpbmRp
b19kZXYtPmluZm8tPmZ3bm9kZV94bGF0ZSkKPiArICAgICAgICAgICAgICAgaW5kZXggPSBpbmRp
b19kZXYtPmluZm8tPmZ3bm9kZV94bGF0ZShpbmRpb19kZXYsICZpaW9zcGVjKTsKPiAgICAgICAg
IGVsc2UKPiAtICAgICAgICAgICAgICAgaW5kZXggPSBfX29mX2lpb19zaW1wbGVfeGxhdGUoaW5k
aW9fZGV2LCAmaWlvc3BlYyk7Cj4gLSAgICAgICBvZl9ub2RlX3B1dChpaW9zcGVjLm5wKTsKPiAr
ICAgICAgICAgICAgICAgaW5kZXggPSBfX2Z3bm9kZV9paW9fc2ltcGxlX3hsYXRlKGluZGlvX2Rl
diwgJmlpb3NwZWMpOwo+ICsgICAgICAgZndub2RlX2hhbmRsZV9wdXQoaWlvc3BlYy5md25vZGUp
Owo+ICAgICAgICAgaWYgKGluZGV4IDwgMCkKPiAgICAgICAgICAgICAgICAgZ290byBlcnJfcHV0
Owo+ICAgICAgICAgY2hhbm5lbC0+Y2hhbm5lbCA9ICZpbmRpb19kZXYtPmNoYW5uZWxzW2luZGV4
XTsKPiBAQCAtMTg4LDcgKzIwOSw4IEBAIHN0YXRpYyBpbnQgX19vZl9paW9fY2hhbm5lbF9nZXQo
c3RydWN0IGlpb19jaGFubmVsICpjaGFubmVsLAo+ICAgICAgICAgcmV0dXJuIGluZGV4Owo+ICB9
Cj4KPiAtc3RhdGljIHN0cnVjdCBpaW9fY2hhbm5lbCAqb2ZfaWlvX2NoYW5uZWxfZ2V0KHN0cnVj
dCBkZXZpY2Vfbm9kZSAqbnAsIGludCBpbmRleCkKPiArc3RhdGljIHN0cnVjdCBpaW9fY2hhbm5l
bCAqZndub2RlX2lpb19jaGFubmVsX2dldChzdHJ1Y3QgZndub2RlX2hhbmRsZSAqZndub2RlLAo+
ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50IGlu
ZGV4KQo+ICB7Cj4gICAgICAgICBzdHJ1Y3QgaWlvX2NoYW5uZWwgKmNoYW5uZWw7Cj4gICAgICAg
ICBpbnQgZXJyOwo+IEBAIC0yMDAsNyArMjIyLDcgQEAgc3RhdGljIHN0cnVjdCBpaW9fY2hhbm5l
bCAqb2ZfaWlvX2NoYW5uZWxfZ2V0KHN0cnVjdCBkZXZpY2Vfbm9kZSAqbnAsIGludCBpbmRleCkK
PiAgICAgICAgIGlmIChjaGFubmVsID09IE5VTEwpCj4gICAgICAgICAgICAgICAgIHJldHVybiBF
UlJfUFRSKC1FTk9NRU0pOwo+Cj4gLSAgICAgICBlcnIgPSBfX29mX2lpb19jaGFubmVsX2dldChj
aGFubmVsLCBucCwgaW5kZXgpOwo+ICsgICAgICAgZXJyID0gX19md25vZGVfaWlvX2NoYW5uZWxf
Z2V0KGNoYW5uZWwsIGZ3bm9kZSwgaW5kZXgpOwo+ICAgICAgICAgaWYgKGVycikKPiAgICAgICAg
ICAgICAgICAgZ290byBlcnJfZnJlZV9jaGFubmVsOwo+Cj4gQEAgLTIxMSw5ICsyMzMsOSBAQCBz
dGF0aWMgc3RydWN0IGlpb19jaGFubmVsICpvZl9paW9fY2hhbm5lbF9nZXQoc3RydWN0IGRldmlj
ZV9ub2RlICpucCwgaW50IGluZGV4KQo+ICAgICAgICAgcmV0dXJuIEVSUl9QVFIoZXJyKTsKPiAg
fQo+Cj4gLXN0cnVjdCBpaW9fY2hhbm5lbCAqX19vZl9paW9fY2hhbm5lbF9nZXRfYnlfbmFtZShz
dHJ1Y3QgZGV2aWNlX25vZGUgKm5wLAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBjb25zdCBjaGFyICpuYW1lLAo+IC0gICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib29sICpwYXJlbnRfbG9va3VwKQo+ICtzdHJ1
Y3QgaWlvX2NoYW5uZWwgKgo+ICtfX2Z3bm9kZV9paW9fY2hhbm5lbF9nZXRfYnlfbmFtZShzdHJ1
Y3QgZndub2RlX2hhbmRsZSAqZndub2RlLCBjb25zdCBjaGFyICpuYW1lLAo+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIGJvb2wgKnBhcmVudF9sb29rdXApCj4gIHsKPiAgICAgICAg
IHN0cnVjdCBpaW9fY2hhbm5lbCAqY2hhbjsKPiAgICAgICAgIGludCBpbmRleCA9IDA7Cj4gQEAg
LTIyMSwzMiArMjQzLDM0IEBAIHN0cnVjdCBpaW9fY2hhbm5lbCAqX19vZl9paW9fY2hhbm5lbF9n
ZXRfYnlfbmFtZShzdHJ1Y3QgZGV2aWNlX25vZGUgKm5wLAo+ICAgICAgICAgLyoKPiAgICAgICAg
ICAqIEZvciBuYW1lZCBpaW8gY2hhbm5lbHMsIGZpcnN0IGxvb2sgdXAgdGhlIG5hbWUgaW4gdGhl
Cj4gICAgICAgICAgKiAiaW8tY2hhbm5lbC1uYW1lcyIgcHJvcGVydHkuICBJZiBpdCBjYW5ub3Qg
YmUgZm91bmQsIHRoZQo+IC0gICAgICAgICogaW5kZXggd2lsbCBiZSBhbiBlcnJvciBjb2RlLCBh
bmQgb2ZfaWlvX2NoYW5uZWxfZ2V0KCkKPiArICAgICAgICAqIGluZGV4IHdpbGwgYmUgYW4gZXJy
b3IgY29kZSwgYW5kIGZ3bm9kZV9paW9fY2hhbm5lbF9nZXQoKQo+ICAgICAgICAgICogd2lsbCBm
YWlsLgo+ICAgICAgICAgICovCj4gICAgICAgICBpZiAobmFtZSkKPiAtICAgICAgICAgICAgICAg
aW5kZXggPSBvZl9wcm9wZXJ0eV9tYXRjaF9zdHJpbmcobnAsICJpby1jaGFubmVsLW5hbWVzIiwg
bmFtZSk7Cj4gKyAgICAgICAgICAgICAgIGluZGV4ID0gZndub2RlX3Byb3BlcnR5X21hdGNoX3N0
cmluZyhmd25vZGUsICJpby1jaGFubmVsLW5hbWVzIiwKPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUpOwo+Cj4gLSAgICAgICBjaGFuID0g
b2ZfaWlvX2NoYW5uZWxfZ2V0KG5wLCBpbmRleCk7Cj4gKyAgICAgICBjaGFuID0gZndub2RlX2lp
b19jaGFubmVsX2dldChmd25vZGUsIGluZGV4KTsKPiAgICAgICAgIGlmICghSVNfRVJSKGNoYW4p
IHx8IFBUUl9FUlIoY2hhbikgPT0gLUVQUk9CRV9ERUZFUikgewo+ICAgICAgICAgICAgICAgICAq
cGFyZW50X2xvb2t1cCA9IGZhbHNlOwo+ICAgICAgICAgfSBlbHNlIGlmIChuYW1lICYmIGluZGV4
ID49IDApIHsKPiAtICAgICAgICAgICAgICAgcHJfZXJyKCJFUlJPUjogY291bGQgbm90IGdldCBJ
SU8gY2hhbm5lbCAlcE9GOiVzKCVpKVxuIiwKPiAtICAgICAgICAgICAgICAgICAgICAgIG5wLCBu
YW1lID8gbmFtZSA6ICIiLCBpbmRleCk7Cj4gKyAgICAgICAgICAgICAgIHByX2VycigiRVJST1I6
IGNvdWxkIG5vdCBnZXQgSUlPIGNoYW5uZWwgJXBmdzolcyglaSlcbiIsCj4gKyAgICAgICAgICAg
ICAgICAgICAgICBmd25vZGUsIG5hbWUgPyBuYW1lIDogIiIsIGluZGV4KTsKClNpbmNlIHlvdSBh
cmUgdG91Y2hpbmcgdGhpcyBsaW5lIGNhbiB5b3Ugc3dpdGNoIHRvIG5hbWUgPzogIiIgYW5kCnBv
c3NpYmx5IG1vdmUgc29tZSBwYXJhbWV0ZXJzIHRvIHRoZSBhYm92ZSBsaW5lPwoKPiAgICAgICAg
ICAgICAgICAgKnBhcmVudF9sb29rdXAgPSBmYWxzZTsKPiAgICAgICAgIH0KPgo+ICAgICAgICAg
cmV0dXJuIGNoYW47Cj4gIH0KPgo+IC1zdHJ1Y3QgaWlvX2NoYW5uZWwgKm9mX2lpb19jaGFubmVs
X2dldF9ieV9uYW1lKHN0cnVjdCBkZXZpY2Vfbm9kZSAqbnAsCj4gLSAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyICpuYW1lKQo+ICtzdHJ1Y3Qg
aWlvX2NoYW5uZWwgKmZ3bm9kZV9paW9fY2hhbm5lbF9nZXRfYnlfbmFtZShzdHJ1Y3QgZndub2Rl
X2hhbmRsZSAqZndub2RlLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIGNvbnN0IGNoYXIgKm5hbWUpCj4gIHsKPiAgICAgICAgIHN0cnVjdCBpaW9f
Y2hhbm5lbCAqY2hhbjsKPiArICAgICAgIHN0cnVjdCBmd25vZGVfaGFuZGxlICpwYXJlbnQ7Cj4g
ICAgICAgICBib29sIHBhcmVudF9sb29rdXAgPSB0cnVlOwo+Cj4gICAgICAgICAvKiBXYWxrIHVw
IHRoZSB0cmVlIG9mIGRldmljZXMgbG9va2luZyBmb3IgYSBtYXRjaGluZyBpaW8gY2hhbm5lbCAq
Lwo+IC0gICAgICAgY2hhbiA9IF9fb2ZfaWlvX2NoYW5uZWxfZ2V0X2J5X25hbWUobnAsIG5hbWUs
ICZwYXJlbnRfbG9va3VwKTsKPiArICAgICAgIGNoYW4gPSBfX2Z3bm9kZV9paW9fY2hhbm5lbF9n
ZXRfYnlfbmFtZShmd25vZGUsIG5hbWUsICZwYXJlbnRfbG9va3VwKTsKPiAgICAgICAgIGlmICgh
cGFyZW50X2xvb2t1cCkKPiAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYW47Cj4KPiBAQCAtMjU1
LDMzICsyNzksMzQgQEAgc3RydWN0IGlpb19jaGFubmVsICpvZl9paW9fY2hhbm5lbF9nZXRfYnlf
bmFtZShzdHJ1Y3QgZGV2aWNlX25vZGUgKm5wLAo+ICAgICAgICAgICogSWYgdGhlIHBhcmVudCBu
b2RlIGhhcyBhICJpby1jaGFubmVsLXJhbmdlcyIgcHJvcGVydHksCj4gICAgICAgICAgKiB0aGVu
IHdlIGNhbiB0cnkgb25lIG9mIGl0cyBjaGFubmVscy4KPiAgICAgICAgICAqLwo+IC0gICAgICAg
bnAgPSBucC0+cGFyZW50Owo+IC0gICAgICAgd2hpbGUgKG5wKSB7Cj4gLSAgICAgICAgICAgICAg
IGlmICghb2ZfZ2V0X3Byb3BlcnR5KG5wLCAiaW8tY2hhbm5lbC1yYW5nZXMiLCBOVUxMKSkKPiAr
ICAgICAgIGZ3bm9kZV9mb3JfZWFjaF9wYXJlbnRfbm9kZShmd25vZGUsIHBhcmVudCkgewo+ICsg
ICAgICAgICAgICAgICBpZiAoIWZ3bm9kZV9wcm9wZXJ0eV9wcmVzZW50KHBhcmVudCwgImlvLWNo
YW5uZWwtcmFuZ2VzIikpIHsKPiArICAgICAgICAgICAgICAgICAgICAgICBmd25vZGVfaGFuZGxl
X3B1dChwYXJlbnQpOwo+ICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFuOwoKYnJl
YWs7ID8KCihZZXMsIEkgdW5kZXJzdGFuZCBwcm9zIGFuZCBjb25zIG9mIGVhY2ggdmFyaWFudCwg
dXAgdG8geW91KQoKPiArICAgICAgICAgICAgICAgfQo+Cj4gLSAgICAgICAgICAgICAgIGNoYW4g
PSBfX29mX2lpb19jaGFubmVsX2dldF9ieV9uYW1lKG5wLCBuYW1lLCAmcGFyZW50X2xvb2t1cCk7
Cj4gLSAgICAgICAgICAgICAgIGlmICghcGFyZW50X2xvb2t1cCkKPiArICAgICAgICAgICAgICAg
Y2hhbiA9IF9fZndub2RlX2lpb19jaGFubmVsX2dldF9ieV9uYW1lKHBhcmVudCwgbmFtZSwgJnBh
cmVudF9sb29rdXApOwo+ICsgICAgICAgICAgICAgICBpZiAoIXBhcmVudF9sb29rdXApIHsKPiAr
ICAgICAgICAgICAgICAgICAgICAgICBmd25vZGVfaGFuZGxlX3B1dChwYXJlbnQpOwo+ICAgICAg
ICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFuOwoKRGl0dG8uCgo+IC0gICAgICAgICAgICAg
ICBucCA9IG5wLT5wYXJlbnQ7Cj4gKyAgICAgICAgICAgICAgIH0KPiAgICAgICAgIH0KPgo+ICAg
ICAgICAgcmV0dXJuIGNoYW47Cj4gIH0KPiAtRVhQT1JUX1NZTUJPTF9HUEwob2ZfaWlvX2NoYW5u
ZWxfZ2V0X2J5X25hbWUpOwo+ICtFWFBPUlRfU1lNQk9MX0dQTChmd25vZGVfaWlvX2NoYW5uZWxf
Z2V0X2J5X25hbWUpOwoKV29uZGVyaW5nIGlmIHdlIG1heSBtb3ZlIHRoaXMgdG8gdGhlIElJTyBu
YW1lc3BhY2UuCgo+IC1zdGF0aWMgc3RydWN0IGlpb19jaGFubmVsICpvZl9paW9fY2hhbm5lbF9n
ZXRfYWxsKHN0cnVjdCBkZXZpY2UgKmRldikKPiArc3RhdGljIHN0cnVjdCBpaW9fY2hhbm5lbCAq
Zndub2RlX2lpb19jaGFubmVsX2dldF9hbGwoc3RydWN0IGRldmljZSAqZGV2KQo+ICB7Cj4gKyAg
ICAgICBzdHJ1Y3QgZndub2RlX2hhbmRsZSAqZndub2RlID0gZGV2X2Z3bm9kZShkZXYpOwo+ICAg
ICAgICAgc3RydWN0IGlpb19jaGFubmVsICpjaGFuczsKPiAgICAgICAgIGludCBpLCBtYXBpbmQs
IG51bW1hcHMgPSAwOwo+ICAgICAgICAgaW50IHJldDsKPgo+ICAgICAgICAgZG8gewo+IC0gICAg
ICAgICAgICAgICByZXQgPSBvZl9wYXJzZV9waGFuZGxlX3dpdGhfYXJncyhkZXYtPm9mX25vZGUs
Cj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJpby1j
aGFubmVscyIsCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICIjaW8tY2hhbm5lbC1jZWxscyIsCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIG51bW1hcHMsIE5VTEwpOwo+ICsgICAgICAgICAgICAgICByZXQg
PSBmd25vZGVfcHJvcGVydHlfZ2V0X3JlZmVyZW5jZV9hcmdzKGZ3bm9kZSwgImlvLWNoYW5uZWxz
IiwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAiI2lvLWNoYW5uZWwtY2VsbHMiLCAwLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bW1hcHMsIE5VTEwpOwo+ICAgICAgICAg
ICAgICAgICBpZiAocmV0IDwgMCkKPiAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKPiAg
ICAgICAgIH0gd2hpbGUgKCsrbnVtbWFwcyk7Cj4gQEAgLTI5NCwxMCArMzE5LDkgQEAgc3RhdGlj
IHN0cnVjdCBpaW9fY2hhbm5lbCAqb2ZfaWlvX2NoYW5uZWxfZ2V0X2FsbChzdHJ1Y3QgZGV2aWNl
ICpkZXYpCj4gICAgICAgICBpZiAoY2hhbnMgPT0gTlVMTCkKPiAgICAgICAgICAgICAgICAgcmV0
dXJuIEVSUl9QVFIoLUVOT01FTSk7Cj4KPiAtICAgICAgIC8qIFNlYXJjaCBmb3IgT0YgbWF0Y2hl
cyAqLwo+ICsgICAgICAgLyogU2VhcmNoIGZvciBGVyBtYXRjaGVzICovCj4gICAgICAgICBmb3Ig
KG1hcGluZCA9IDA7IG1hcGluZCA8IG51bW1hcHM7IG1hcGluZCsrKSB7Cj4gLSAgICAgICAgICAg
ICAgIHJldCA9IF9fb2ZfaWlvX2NoYW5uZWxfZ2V0KCZjaGFuc1ttYXBpbmRdLCBkZXYtPm9mX25v
ZGUsCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcGluZCk7
Cj4gKyAgICAgICAgICAgICAgIHJldCA9IF9fZndub2RlX2lpb19jaGFubmVsX2dldCgmY2hhbnNb
bWFwaW5kXSwgZndub2RlLCBtYXBpbmQpOwo+ICAgICAgICAgICAgICAgICBpZiAocmV0KQo+ICAg
ICAgICAgICAgICAgICAgICAgICAgIGdvdG8gZXJyb3JfZnJlZV9jaGFuczsKPiAgICAgICAgIH0K
PiBAQCAtMzEwLDE1ICszMzQsNiBAQCBzdGF0aWMgc3RydWN0IGlpb19jaGFubmVsICpvZl9paW9f
Y2hhbm5lbF9nZXRfYWxsKHN0cnVjdCBkZXZpY2UgKmRldikKPiAgICAgICAgIHJldHVybiBFUlJf
UFRSKHJldCk7Cj4gIH0KPgo+IC0jZWxzZSAvKiBDT05GSUdfT0YgKi8KPiAtCj4gLXN0YXRpYyBp
bmxpbmUgc3RydWN0IGlpb19jaGFubmVsICpvZl9paW9fY2hhbm5lbF9nZXRfYWxsKHN0cnVjdCBk
ZXZpY2UgKmRldikKPiAtewo+IC0gICAgICAgcmV0dXJuIEVSUl9QVFIoLUVOT0RFVik7Cj4gLX0K
PiAtCj4gLSNlbmRpZiAvKiBDT05GSUdfT0YgKi8KPiAtCj4gIHN0YXRpYyBzdHJ1Y3QgaWlvX2No
YW5uZWwgKmlpb19jaGFubmVsX2dldF9zeXMoY29uc3QgY2hhciAqbmFtZSwKPiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIgKmNoYW5uZWxf
bmFtZSkKPiAgewo+IEBAIC0zNzksOCArMzk0LDggQEAgc3RydWN0IGlpb19jaGFubmVsICppaW9f
Y2hhbm5lbF9nZXQoc3RydWN0IGRldmljZSAqZGV2LAo+ICAgICAgICAgc3RydWN0IGlpb19jaGFu
bmVsICpjaGFubmVsOwo+Cj4gICAgICAgICBpZiAoZGV2KSB7Cj4gLSAgICAgICAgICAgICAgIGNo
YW5uZWwgPSBvZl9paW9fY2hhbm5lbF9nZXRfYnlfbmFtZShkZXYtPm9mX25vZGUsCj4gLSAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsX25h
bWUpOwo+ICsgICAgICAgICAgICAgICBjaGFubmVsID0gZndub2RlX2lpb19jaGFubmVsX2dldF9i
eV9uYW1lKGRldl9md25vZGUoZGV2KSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsX25hbWUpOwo+ICAgICAgICAgICAgICAg
ICBpZiAoIUlTX0VSUihjaGFubmVsKSB8fCBQVFJfRVJSKGNoYW5uZWwpID09IC1FUFJPQkVfREVG
RVIpCj4gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYW5uZWw7Cj4gICAgICAgICB9
Cj4gQEAgLTQyMSwxNCArNDM2LDE0IEBAIHN0cnVjdCBpaW9fY2hhbm5lbCAqZGV2bV9paW9fY2hh
bm5lbF9nZXQoc3RydWN0IGRldmljZSAqZGV2LAo+ICB9Cj4gIEVYUE9SVF9TWU1CT0xfR1BMKGRl
dm1faWlvX2NoYW5uZWxfZ2V0KTsKPgo+IC1zdHJ1Y3QgaWlvX2NoYW5uZWwgKmRldm1fb2ZfaWlv
X2NoYW5uZWxfZ2V0X2J5X25hbWUoc3RydWN0IGRldmljZSAqZGV2LAo+IC0gICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgZGV2aWNlX25vZGUg
Km5wLAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBjb25zdCBjaGFyICpjaGFubmVsX25hbWUpCj4gK3N0cnVjdCBpaW9fY2hhbm5lbCAqZGV2bV9m
d25vZGVfaWlvX2NoYW5uZWxfZ2V0X2J5X25hbWUoc3RydWN0IGRldmljZSAqZGV2LAo+ICsgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0
IGZ3bm9kZV9oYW5kbGUgKmZ3bm9kZSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIgKmNoYW5uZWxfbmFtZSkKPiAgewo+
ICAgICAgICAgc3RydWN0IGlpb19jaGFubmVsICpjaGFubmVsOwo+ICAgICAgICAgaW50IHJldDsK
Pgo+IC0gICAgICAgY2hhbm5lbCA9IG9mX2lpb19jaGFubmVsX2dldF9ieV9uYW1lKG5wLCBjaGFu
bmVsX25hbWUpOwo+ICsgICAgICAgY2hhbm5lbCA9IGZ3bm9kZV9paW9fY2hhbm5lbF9nZXRfYnlf
bmFtZShmd25vZGUsIGNoYW5uZWxfbmFtZSk7Cj4gICAgICAgICBpZiAoSVNfRVJSKGNoYW5uZWwp
KQo+ICAgICAgICAgICAgICAgICByZXR1cm4gY2hhbm5lbDsKPgo+IEBAIC00MzgsNyArNDUzLDcg
QEAgc3RydWN0IGlpb19jaGFubmVsICpkZXZtX29mX2lpb19jaGFubmVsX2dldF9ieV9uYW1lKHN0
cnVjdCBkZXZpY2UgKmRldiwKPgo+ICAgICAgICAgcmV0dXJuIGNoYW5uZWw7Cj4gIH0KPiAtRVhQ
T1JUX1NZTUJPTF9HUEwoZGV2bV9vZl9paW9fY2hhbm5lbF9nZXRfYnlfbmFtZSk7Cj4gK0VYUE9S
VF9TWU1CT0xfR1BMKGRldm1fZndub2RlX2lpb19jaGFubmVsX2dldF9ieV9uYW1lKTsKPgo+ICBz
dHJ1Y3QgaWlvX2NoYW5uZWwgKmlpb19jaGFubmVsX2dldF9hbGwoc3RydWN0IGRldmljZSAqZGV2
KQo+ICB7Cj4gQEAgLTQ1Miw3ICs0NjcsNyBAQCBzdHJ1Y3QgaWlvX2NoYW5uZWwgKmlpb19jaGFu
bmVsX2dldF9hbGwoc3RydWN0IGRldmljZSAqZGV2KQo+ICAgICAgICAgaWYgKGRldiA9PSBOVUxM
KQo+ICAgICAgICAgICAgICAgICByZXR1cm4gRVJSX1BUUigtRUlOVkFMKTsKPgo+IC0gICAgICAg
Y2hhbnMgPSBvZl9paW9fY2hhbm5lbF9nZXRfYWxsKGRldik7Cj4gKyAgICAgICBjaGFucyA9IGZ3
bm9kZV9paW9fY2hhbm5lbF9nZXRfYWxsKGRldik7Cj4gICAgICAgICBpZiAoIUlTX0VSUihjaGFu
cykgfHwgUFRSX0VSUihjaGFucykgPT0gLUVQUk9CRV9ERUZFUikKPiAgICAgICAgICAgICAgICAg
cmV0dXJuIGNoYW5zOwo+Cj4gZGlmZiAtLWdpdCBhL2luY2x1ZGUvbGludXgvaWlvL2NvbnN1bWVy
LmggYi9pbmNsdWRlL2xpbnV4L2lpby9jb25zdW1lci5oCj4gaW5kZXggNWZhNTk1NzU4NmNmLi5h
OTZhNzE0YjVmZGMgMTAwNjQ0Cj4gLS0tIGEvaW5jbHVkZS9saW51eC9paW8vY29uc3VtZXIuaAo+
ICsrKyBiL2luY2x1ZGUvbGludXgvaWlvL2NvbnN1bWVyLmgKPiBAQCAtOSwxMSArOSwxMyBAQAo+
Cj4gICNpbmNsdWRlIDxsaW51eC90eXBlcy5oPgo+ICAjaW5jbHVkZSA8bGludXgvaWlvL3R5cGVz
Lmg+Cgo+ICsjaW5jbHVkZSA8bGludXgvb2YuaD4KCk9yZGVyaW5nLiBJSU8gaGFzIHNwZWNpYWwg
bWVhbmluZyBoZXJlLCB0aGF0J3Mgd2h5IGl0J3MgbGFzdC4KCj4gIHN0cnVjdCBpaW9fZGV2Owo+
ICBzdHJ1Y3QgaWlvX2NoYW5fc3BlYzsKPiAgc3RydWN0IGRldmljZTsKPiAgc3RydWN0IGRldmlj
ZV9ub2RlOwo+ICtzdHJ1Y3QgZndub2RlX2hhbmRsZTsKPgo+ICAvKioKPiAgICogc3RydWN0IGlp
b19jaGFubmVsIC0gZXZlcnl0aGluZyBuZWVkZWQgZm9yIGEgY29uc3VtZXIgdG8gdXNlIGEgY2hh
bm5lbAo+IEBAIC05OSwyNiArMTAxLDIwIEBAIHZvaWQgaWlvX2NoYW5uZWxfcmVsZWFzZV9hbGwo
c3RydWN0IGlpb19jaGFubmVsICpjaGFuKTsKPiAgc3RydWN0IGlpb19jaGFubmVsICpkZXZtX2lp
b19jaGFubmVsX2dldF9hbGwoc3RydWN0IGRldmljZSAqZGV2KTsKPgo+ICAvKioKPiAtICogb2Zf
aWlvX2NoYW5uZWxfZ2V0X2J5X25hbWUoKSAtIGdldCBkZXNjcmlwdGlvbiBvZiBhbGwgdGhhdCBp
cyBuZWVkZWQgdG8gYWNjZXNzIGNoYW5uZWwuCj4gLSAqIEBucDogICAgICAgICAgICAgICAgICAg
ICAgICBQb2ludGVyIHRvIGNvbnN1bWVyIGRldmljZSB0cmVlIG5vZGUKPiArICogZndub2RlX2lp
b19jaGFubmVsX2dldF9ieV9uYW1lKCkgLSBnZXQgZGVzY3JpcHRpb24gb2YgYWxsIHRoYXQgaXMg
bmVlZGVkIHRvIGFjY2VzcyBjaGFubmVsLgo+ICsgKiBAZndub2RlOiAgICAgICAgICAgIFBvaW50
ZXIgdG8gY29uc3VtZXIgRmlybXdhcmUgbm9kZQo+ICAgKiBAY29uc3VtZXJfY2hhbm5lbDogIFVu
aXF1ZSBuYW1lIHRvIGlkZW50aWZ5IHRoZSBjaGFubmVsIG9uIHRoZSBjb25zdW1lcgo+ICAgKiAg
ICAgICAgICAgICAgICAgICAgIHNpZGUuIFRoaXMgdHlwaWNhbGx5IGRlc2NyaWJlcyB0aGUgY2hh
bm5lbHMgdXNlIHdpdGhpbgo+ICAgKiAgICAgICAgICAgICAgICAgICAgIHRoZSBjb25zdW1lci4g
RS5nLiAnYmF0dGVyeV92b2x0YWdlJwo+ICAgKi8KPiAtI2lmZGVmIENPTkZJR19PRgo+IC1zdHJ1
Y3QgaWlvX2NoYW5uZWwgKm9mX2lpb19jaGFubmVsX2dldF9ieV9uYW1lKHN0cnVjdCBkZXZpY2Vf
bm9kZSAqbnAsIGNvbnN0IGNoYXIgKm5hbWUpOwo+IC0jZWxzZQo+IC1zdGF0aWMgaW5saW5lIHN0
cnVjdCBpaW9fY2hhbm5lbCAqCj4gLW9mX2lpb19jaGFubmVsX2dldF9ieV9uYW1lKHN0cnVjdCBk
ZXZpY2Vfbm9kZSAqbnAsIGNvbnN0IGNoYXIgKm5hbWUpCj4gLXsKPiAtICAgICAgIHJldHVybiBO
VUxMOwo+IC19Cj4gLSNlbmRpZgo+ICtzdHJ1Y3QgaWlvX2NoYW5uZWwgKmZ3bm9kZV9paW9fY2hh
bm5lbF9nZXRfYnlfbmFtZShzdHJ1Y3QgZndub2RlX2hhbmRsZSAqZndub2RlLAo+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIgKm5h
bWUpOwo+Cj4gIC8qKgo+IC0gKiBkZXZtX29mX2lpb19jaGFubmVsX2dldF9ieV9uYW1lKCkgLSBS
ZXNvdXJjZSBtYW5hZ2VkIHZlcnNpb24gb2Ygb2ZfaWlvX2NoYW5uZWxfZ2V0X2J5X25hbWUoKS4K
PiArICogZGV2bV9md25vZGVfaWlvX2NoYW5uZWxfZ2V0X2J5X25hbWUoKSAtIFJlc291cmNlIG1h
bmFnZWQgdmVyc2lvbiBvZgo+ICsgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBmd25vZGVfaWlvX2NoYW5uZWxfZ2V0X2J5X25hbWUoKS4KPiAgICogQGRldjogICAgICAg
ICAgICAgICBQb2ludGVyIHRvIGNvbnN1bWVyIGRldmljZS4KPiAtICogQG5wOiAgICAgICAgICAg
ICAgICAgICAgICAgIFBvaW50ZXIgdG8gY29uc3VtZXIgZGV2aWNlIHRyZWUgbm9kZQo+ICsgKiBA
Zndub2RlOiAgICAgICAgICAgIFBvaW50ZXIgdG8gY29uc3VtZXIgRmlybXdhcmUgbm9kZQo+ICAg
KiBAY29uc3VtZXJfY2hhbm5lbDogIFVuaXF1ZSBuYW1lIHRvIGlkZW50aWZ5IHRoZSBjaGFubmVs
IG9uIHRoZSBjb25zdW1lcgo+ICAgKiAgICAgICAgICAgICAgICAgICAgIHNpZGUuIFRoaXMgdHlw
aWNhbGx5IGRlc2NyaWJlcyB0aGUgY2hhbm5lbHMgdXNlIHdpdGhpbgo+ICAgKiAgICAgICAgICAg
ICAgICAgICAgIHRoZSBjb25zdW1lci4gRS5nLiAnYmF0dGVyeV92b2x0YWdlJwo+IEBAIC0xMjks
OSArMTI1LDE3IEBAIG9mX2lpb19jaGFubmVsX2dldF9ieV9uYW1lKHN0cnVjdCBkZXZpY2Vfbm9k
ZSAqbnAsIGNvbnN0IGNoYXIgKm5hbWUpCj4gICAqIFRoZSBhbGxvY2F0ZWQgaWlvIGNoYW5uZWwg
aXMgYXV0b21hdGljYWxseSByZWxlYXNlZCB3aGVuIHRoZSBkZXZpY2UgaXMKPiAgICogdW5ib3Vu
ZC4KPiAgICovCj4gLXN0cnVjdCBpaW9fY2hhbm5lbCAqZGV2bV9vZl9paW9fY2hhbm5lbF9nZXRf
YnlfbmFtZShzdHJ1Y3QgZGV2aWNlICpkZXYsCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkZXZpY2Vfbm9kZSAqbnAsCj4gLSAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIg
KmNvbnN1bWVyX2NoYW5uZWwpOwo+ICtzdHJ1Y3QgaWlvX2NoYW5uZWwgKmRldm1fZndub2RlX2lp
b19jaGFubmVsX2dldF9ieV9uYW1lKHN0cnVjdCBkZXZpY2UgKmRldiwKPiArICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBmd25vZGVf
aGFuZGxlICpmd25vZGUsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBjb25zdCBjaGFyICpjb25zdW1lcl9jaGFubmVsKTsKPiArCj4gK3N0
YXRpYyBpbmxpbmUgc3RydWN0IGlpb19jaGFubmVsCj4gKypkZXZtX29mX2lpb19jaGFubmVsX2dl
dF9ieV9uYW1lKHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0IGRldmljZV9ub2RlICpucCwKPiAr
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyICpjb25zdW1lcl9jaGFu
bmVsKQo+ICt7Cj4gKyAgICAgICByZXR1cm4gZGV2bV9md25vZGVfaWlvX2NoYW5uZWxfZ2V0X2J5
X25hbWUoZGV2LCBvZl9md25vZGVfaGFuZGxlKG5wKSwKPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdW1lcl9jaGFubmVsKTsKPiArfQo+Cj4g
IHN0cnVjdCBpaW9fY2JfYnVmZmVyOwo+ICAvKioKPiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9saW51
eC9paW8vaWlvLmggYi9pbmNsdWRlL2xpbnV4L2lpby9paW8uaAo+IGluZGV4IGQ5YjRhOWNhOWEw
Zi4uNDk0YWJiNjM0MDZlIDEwMDY0NAo+IC0tLSBhL2luY2x1ZGUvbGludXgvaWlvL2lpby5oCj4g
KysrIGIvaW5jbHVkZS9saW51eC9paW8vaWlvLmgKPiBAQCAtMTgsNiArMTgsNyBAQAo+ICAgKi8K
Pgo+ICBzdHJ1Y3Qgb2ZfcGhhbmRsZV9hcmdzOwo+ICtzdHJ1Y3QgZndub2RlX3JlZmVyZW5jZV9h
cmdzOwo+Cj4gIGVudW0gaWlvX3NoYXJlZF9ieSB7Cj4gICAgICAgICBJSU9fU0VQQVJBVEUsCj4g
QEAgLTQyOSw2ICs0MzAsOCBAQCBzdHJ1Y3QgaWlvX3RyaWdnZXI7IC8qIGZvcndhcmQgZGVjbGFy
YXRpb24gKi8KPiAgICogICAgICAgICAgICAgICAgICAgICBwcm92aWRlIGEgY3VzdG9tIG9mX3hs
YXRlIGZ1bmN0aW9uIHRoYXQgcmVhZHMgdGhlCj4gICAqICAgICAgICAgICAgICAgICAgICAgKmFy
Z3MqIGFuZCByZXR1cm5zIHRoZSBhcHByb3ByaWF0ZSBpbmRleCBpbiByZWdpc3RlcmVkCj4gICAq
ICAgICAgICAgICAgICAgICAgICAgSUlPIGNoYW5uZWxzIGFycmF5Lgo+ICsgKiBAZndub2RlX3hs
YXRlOiAgICAgIGZ3bm9kZSBiYXNlZCBmdW5jdGlvbiBwb2ludGVyIHRvIG9idGFpbiBjaGFubmVs
IHNwZWNpZmllciBpbmRleC4KPiArICogICAgICAgICAgICAgICAgICAgICBGdW5jdGlvbmFsbHkg
dGhlIHNhbWUgYXMgQG9mX3hsYXRlLgo+ICAgKiBAaHdmaWZvX3NldF93YXRlcm1hcms6IGZ1bmN0
aW9uIHBvaW50ZXIgdG8gc2V0IHRoZSBjdXJyZW50IGhhcmR3YXJlCj4gICAqICAgICAgICAgICAg
ICAgICAgICAgZmlmbyB3YXRlcm1hcmsgbGV2ZWw7IHNlZSBod2ZpZm9fKiBlbnRyaWVzIGluCj4g
ICAqICAgICAgICAgICAgICAgICAgICAgRG9jdW1lbnRhdGlvbi9BQkkvdGVzdGluZy9zeXNmcy1i
dXMtaWlvIGZvciBkZXRhaWxzIG9uCj4gQEAgLTUxMCw2ICs1MTMsOCBAQCBzdHJ1Y3QgaWlvX2lu
Zm8gewo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCAqcmVhZHZh
bCk7Cj4gICAgICAgICBpbnQgKCpvZl94bGF0ZSkoc3RydWN0IGlpb19kZXYgKmluZGlvX2RldiwK
PiAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJ1Y3Qgb2ZfcGhhbmRsZV9hcmdzICpp
aW9zcGVjKTsKPiArICAgICAgIGludCAoKmZ3bm9kZV94bGF0ZSkoc3RydWN0IGlpb19kZXYgKmlu
ZGlvX2RldiwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RydWN0IGZ3bm9k
ZV9yZWZlcmVuY2VfYXJncyAqaWlvc3BlYyk7Cj4gICAgICAgICBpbnQgKCpod2ZpZm9fc2V0X3dh
dGVybWFyaykoc3RydWN0IGlpb19kZXYgKmluZGlvX2RldiwgdW5zaWduZWQgdmFsKTsKPiAgICAg
ICAgIGludCAoKmh3Zmlmb19mbHVzaF90b19idWZmZXIpKHN0cnVjdCBpaW9fZGV2ICppbmRpb19k
ZXYsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBjb3Vu
dCk7CgotLSAKV2l0aCBCZXN0IFJlZ2FyZHMsCkFuZHkgU2hldmNoZW5rbwpfX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpMaW51eC1zdG0zMiBtYWlsaW5nIGxp
c3QKTGludXgtc3RtMzJAc3QtbWQtbWFpbG1hbi5zdG9ybXJlcGx5LmNvbQpodHRwczovL3N0LW1k
LW1haWxtYW4uc3Rvcm1yZXBseS5jb20vbWFpbG1hbi9saXN0aW5mby9saW51eC1zdG0zMgo=
