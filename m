Return-Path: <linux-stm32-bounces@st-md-mailman.stormreply.com>
X-Original-To: lists+linux-stm32@lfdr.de
Delivered-To: lists+linux-stm32@lfdr.de
Received: from stm-ict-prod-mailman-01.stormreply.prv (st-md-mailman.stormreply.com [52.209.6.89])
	by mail.lfdr.de (Postfix) with ESMTPS id E99B69C48F8
	for <lists+linux-stm32@lfdr.de>; Mon, 11 Nov 2024 23:18:19 +0100 (CET)
Received: from ip-172-31-3-47.eu-west-1.compute.internal (localhost [127.0.0.1])
	by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTP id A0C0AC78F6C;
	Mon, 11 Nov 2024 22:18:19 +0000 (UTC)
Received: from mail-qt1-f180.google.com (mail-qt1-f180.google.com
 [209.85.160.180])
 (using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
 (No client certificate requested)
 by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTPS id A97B9C78F6A
 for <linux-stm32@st-md-mailman.stormreply.com>;
 Mon, 11 Nov 2024 22:18:12 +0000 (UTC)
Received: by mail-qt1-f180.google.com with SMTP id
 d75a77b69052e-460af1a1154so33691981cf.0
 for <linux-stm32@st-md-mailman.stormreply.com>;
 Mon, 11 Nov 2024 14:18:12 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20230601; t=1731363491; x=1731968291;
 darn=st-md-mailman.stormreply.com; 
 h=content-transfer-encoding:cc:to:subject:message-id:date:from
 :in-reply-to:references:mime-version:from:to:cc:subject:date
 :message-id:reply-to;
 bh=4gUTNs8Dh8KbUYmm7/7ZTpr23lbHf0Ptz/iifQK4G1M=;
 b=Nkqy4NnNI0GW78xVGDGfN+Usy8SG83q7e4qImIqY0xRzJiLTV7LNMKwYGiz63Znd43
 fWwfwx6XzOijuVYCIBh4a9g4GiJIeLrX0mqFJZAs3l3Lw8DIXuXqRQqzPkOuR1JQ6fCa
 CD90h44X1YTTZZi13s+/NTXXy1oFaJD5jeRqAvUoKE9oxFx8YEd8WhbKCICwtqOS95X7
 9Yeoa/2GJzbyCB2Ps1IoeTsEVUFMTjnB3vTd49wK/EHmb6RNr1PxvJHUFiccZHnS4Wfg
 MKlCC8yxc+A3tM6zCEMUPU0vjWgC497Ge0hMCgveT1d4GUgYhjRVvZYO49J26KPkqM6h
 h0ew==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20230601; t=1731363491; x=1731968291;
 h=content-transfer-encoding:cc:to:subject:message-id:date:from
 :in-reply-to:references:mime-version:x-gm-message-state:from:to:cc
 :subject:date:message-id:reply-to;
 bh=4gUTNs8Dh8KbUYmm7/7ZTpr23lbHf0Ptz/iifQK4G1M=;
 b=d6oWCznengEaZE2XJ9ttAFUJXiTXDDlNPH+t7PaqrnWAzRz+O2tOMO/c4tTePZJyq8
 qllBhanI2NwCICEIjMNimLDqcZpDekn/MTPsmSm0AkxB7FRG/rQ/7V7w5OdH9OsI9yv2
 wLXURP5ZOzrahWHuJ1JV8RnSNJgaBuvT/eLvtfrP39NRURlFpeQXrNRIJesb/xmWK1ue
 V2QgKDD0doVVjrsnTI622SiutW0dnljktOurg4ZbmfApSE3oi65ufm/XaFIGgi4x8xr7
 IiJwKAnuxYYLgaqsWh+BCrLZVCPjGdkk08D/IKk3zfZ42BhfjJ676ydVV010We7sj76L
 Vcbw==
X-Forwarded-Encrypted: i=1;
 AJvYcCWioVmJQWtTrdkkolQOC9RQSjjttEMxkGP0B5IMnHrmSwgz0oqWFKOeXdoVyb1l9OfM4Z+eT4fcZQKg0Q==@st-md-mailman.stormreply.com
X-Gm-Message-State: AOJu0YzR8G9jKyCpgA9SC+1Ooz3wDTzwSCbdU6bQiTNPa/mmliRdw9Hn
 LFHOQzt06ClaOiDWX6tzi5SuAvj1ekuBXCbAmCfjzJrgII2hPE3ToVmlEd9cxLedTyuzNURbELQ
 tKFSs9dbhUhySvV5Sj9Nxwhhigds=
X-Google-Smtp-Source: AGHT+IFBSFXwho3XyINI2DcEU/Xepv/720ecvGA0qvDaPusA/yXsvod0iClvHMK0JEz9Jm2Fdz03yfn9c4Ds8BzAZio=
X-Received: by 2002:a05:622a:1b1e:b0:461:1475:6135 with SMTP id
 d75a77b69052e-463093003c5mr217546251cf.1.1731363491551; Mon, 11 Nov 2024
 14:18:11 -0800 (PST)
MIME-Version: 1.0
References: <20241111191934.17231-1-jiashengjiangcool@gmail.com>
 <8505aa28-5f88-4fcd-b3bc-cb5db89d2a08@baylibre.com>
 <CANeGvZVE6fX5hV-p1xXsGR=Z=pABzDtvV9wY_XBbLwJUWNVtyQ@mail.gmail.com>
 <b2f6db15-51a8-498d-ab5b-52f0f6a2e098@baylibre.com>
In-Reply-To: <b2f6db15-51a8-498d-ab5b-52f0f6a2e098@baylibre.com>
From: Jiasheng Jiang <jiashengjiangcool@gmail.com>
Date: Mon, 11 Nov 2024 17:18:00 -0500
Message-ID: <CANeGvZW0Ja=pwLuYqZh1KWn3Y7Oany4JvALHWcHoM-jALedSbw@mail.gmail.com>
To: David Lechner <dlechner@baylibre.com>
Cc: tgamblin@baylibre.com, lars@metafoo.de, benjamin.gaignard@linaro.org,
 linux-iio@vger.kernel.org, lee@kernel.org, linux-kernel@vger.kernel.org,
 u.kleine-koenig@baylibre.com, linux-arm-kernel@lists.infradead.org,
 mcoquelin.stm32@gmail.com, fabrice.gasnier@st.com,
 linux-stm32@st-md-mailman.stormreply.com, jic23@kernel.org
Subject: Re: [Linux-stm32] [PATCH v3] iio: trigger: stm32-timer-trigger: Add
	check for clk_enable()
X-BeenThere: linux-stm32@st-md-mailman.stormreply.com
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: <linux-stm32.st-md-mailman.stormreply.com>
List-Unsubscribe: <https://st-md-mailman.stormreply.com/mailman/options/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=unsubscribe>
List-Archive: <http://st-md-mailman.stormreply.com/pipermail/linux-stm32/>
List-Post: <mailto:linux-stm32@st-md-mailman.stormreply.com>
List-Help: <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=help>
List-Subscribe: <https://st-md-mailman.stormreply.com/mailman/listinfo/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: linux-stm32-bounces@st-md-mailman.stormreply.com
Sender: "Linux-stm32" <linux-stm32-bounces@st-md-mailman.stormreply.com>

T24gTW9uLCBOb3YgMTEsIDIwMjQgYXQgNDoxNeKAr1BNIERhdmlkIExlY2huZXIgPGRsZWNobmVy
QGJheWxpYnJlLmNvbT4gd3JvdGU6Cj4KPiBPbiAxMS8xMS8yNCAyOjM2IFBNLCBKaWFzaGVuZyBK
aWFuZyB3cm90ZToKPiA+IE9uIE1vbiwgTm92IDExLCAyMDI0IGF0IDI6NDXigK9QTSBEYXZpZCBM
ZWNobmVyIDxkbGVjaG5lckBiYXlsaWJyZS5jb20+IHdyb3RlOgo+ID4+Cj4gPj4gT24gMTEvMTEv
MjQgMToxOSBQTSwgSmlhc2hlbmcgSmlhbmcgd3JvdGU6Cj4gPj4+IEFkZCBjaGVjayBmb3IgdGhl
IHJldHVybiB2YWx1ZSBvZiBjbGtfZW5hYmxlKCkgaW4gb3JkZXIgdG8gY2F0Y2ggdGhlCj4gPj4+
IHBvdGVudGlhbCBleGNlcHRpb24uCj4gPj4+Cj4gPj4+IFNpZ25lZC1vZmYtYnk6IEppYXNoZW5n
IEppYW5nIDxqaWFzaGVuZ2ppYW5nY29vbEBnbWFpbC5jb20+Cj4gPj4+IC0tLQo+ID4+PiBDaGFu
Z2Vsb2c6Cj4gPj4+Cj4gPj4+IHYyIC0+IHYzOgo+ID4+Pgo+ID4+PiAxLiBTaW1wbGlmeSBjb2Rl
IHdpdGggY2xlYW51cCBoZWxwZXJzLgo+ID4+Pgo+ID4+PiB2MSAtPiB2MjoKPiA+Pj4KPiA+Pj4g
MS4gUmVtb3ZlIHVuc3VpdGFibGUgZGV2X2Vycl9wcm9iZSgpLgo+ID4+PiAtLS0KPiA+Pgo+ID4+
IC4uLgo+ID4+Cj4gPj4+IEBAIC00OTIsMjEgKzQ5NSwyNSBAQCBzdGF0aWMgaW50IHN0bTMyX2Nv
dW50ZXJfd3JpdGVfcmF3KHN0cnVjdCBpaW9fZGV2ICppbmRpb19kZXYsCj4gPj4+ICAgICAgICAg
ICAgICAgcmV0dXJuIC1FSU5WQUw7Cj4gPj4+Cj4gPj4+ICAgICAgIGNhc2UgSUlPX0NIQU5fSU5G
T19FTkFCTEU6Cj4gPj4+IC0gICAgICAgICAgICAgbXV0ZXhfbG9jaygmcHJpdi0+bG9jayk7Cj4g
Pj4+IC0gICAgICAgICAgICAgaWYgKHZhbCkgewo+ID4+PiAtICAgICAgICAgICAgICAgICAgICAg
aWYgKCFwcml2LT5lbmFibGVkKSB7Cj4gPj4+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHByaXYtPmVuYWJsZWQgPSB0cnVlOwo+ID4+PiAtICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBjbGtfZW5hYmxlKHByaXYtPmNsayk7Cj4gPj4+IC0gICAgICAgICAgICAgICAgICAgICB9Cj4g
Pj4+IC0gICAgICAgICAgICAgICAgICAgICByZWdtYXBfc2V0X2JpdHMocHJpdi0+cmVnbWFwLCBU
SU1fQ1IxLCBUSU1fQ1IxX0NFTik7Cj4gPj4+IC0gICAgICAgICAgICAgfSBlbHNlIHsKPiA+Pj4g
LSAgICAgICAgICAgICAgICAgICAgIHJlZ21hcF9jbGVhcl9iaXRzKHByaXYtPnJlZ21hcCwgVElN
X0NSMSwgVElNX0NSMV9DRU4pOwo+ID4+PiAtICAgICAgICAgICAgICAgICAgICAgaWYgKHByaXYt
PmVuYWJsZWQpIHsKPiA+Pj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpdi0+ZW5h
YmxlZCA9IGZhbHNlOwo+ID4+PiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGtfZGlz
YWJsZShwcml2LT5jbGspOwo+ID4+PiArCj4gPj4+ICsgICAgICAgICAgICAgc2NvcGVkX2d1YXJk
KG11dGV4LCAmcHJpdi0+bG9jaykgewo+ID4+PiArICAgICAgICAgICAgICAgICAgICAgaWYgKHZh
bCkgewo+ID4+PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXByaXYtPmVuYWJs
ZWQpIHsKPiA+Pj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcml2LT5l
bmFibGVkID0gdHJ1ZTsKPiA+Pj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICByZXQgPSBjbGtfZW5hYmxlKHByaXYtPmNsayk7Cj4gPj4+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgaWYgKHJldCkKPiA+Pj4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4gPj4+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIH0KPiA+Pj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnbWFw
X3NldF9iaXRzKHByaXYtPnJlZ21hcCwgVElNX0NSMSwgVElNX0NSMV9DRU4pOwo+ID4+PiArICAg
ICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKPiA+Pj4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgcmVnbWFwX2NsZWFyX2JpdHMocHJpdi0+cmVnbWFwLCBUSU1fQ1IxLCBUSU1fQ1IxX0NF
Tik7Cj4gPj4+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcml2LT5lbmFibGVk
KSB7Cj4gPj4+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpdi0+ZW5h
YmxlZCA9IGZhbHNlOwo+ID4+PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IGNsa19kaXNhYmxlKHByaXYtPmNsayk7Cj4gPj4+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIH0KPiA+Pj4gICAgICAgICAgICAgICAgICAgICAgIH0KPiA+Pj4gICAgICAgICAgICAgICB9
Cj4gPj4+IC0gICAgICAgICAgICAgbXV0ZXhfdW5sb2NrKCZwcml2LT5sb2NrKTsKPiA+Pj4gKwo+
ID4+PiAgICAgICAgICAgICAgIHJldHVybiAwOwo+ID4+PiAgICAgICB9Cj4gPj4KPiA+Pgo+ID4+
IEFub3RoZXIgd2F5IHRvIGRvIHRoaXMgdGhhdCBhdm9pZHMgY2hhbmdpbmcgdGhlIGluZGVudAo+
ID4+IHNvIG11Y2ggaXMgcGxhY2luZyBicmFjZXMgYXJvdW5kIHRoZSBjYXNlIGJvZHkgbGlrZSB0
aGlzLgo+ID4+IFRoaXMgYWxzbyBhdm9pZHMgdGhlIGNvbXBpbGUgZXJyb3IgZnJvbSB1c2luZyBn
dWFyZCBhZnRlcgo+ID4+IGNhc2UgZGlyZWN0bHkuCj4gPj4KPiA+Pgo+ID4+ICAgICAgICAgY2Fz
ZSBJSU9fQ0hBTl9JTkZPX0VOQUJMRTogewo+ID4+ICAgICAgICAgICAgICAgICBndWFyZChtdXRl
eCkoJnByaXYtPmxvY2spOwo+ID4+Cj4gPj4gICAgICAgICAgICAgICAgIGlmICh2YWwpIHsKPiA+
PiAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXByaXYtPmVuYWJsZWQpIHsKPiA+PiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaXYtPmVuYWJsZWQgPSB0cnVlOwo+ID4+ICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gY2xrX2VuYWJsZShwcml2LT5jbGsp
Owo+ID4+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJldCkKPiA+PiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKPiA+PiAgICAg
ICAgICAgICAgICAgICAgICAgICB9Cj4gPj4gICAgICAgICAgICAgICAgICAgICAgICAgcmVnbWFw
X3NldF9iaXRzKHByaXYtPnJlZ21hcCwgVElNX0NSMSwgVElNX0NSMV9DRU4pOwo+ID4+ICAgICAg
ICAgICAgICAgICB9IGVsc2Ugewo+ID4+ICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ21hcF9j
bGVhcl9iaXRzKHByaXYtPnJlZ21hcCwgVElNX0NSMSwgVElNX0NSMV9DRU4pOwo+ID4+ICAgICAg
ICAgICAgICAgICAgICAgICAgIGlmIChwcml2LT5lbmFibGVkKSB7Cj4gPj4gICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBwcml2LT5lbmFibGVkID0gZmFsc2U7Cj4gPj4gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBjbGtfZGlzYWJsZShwcml2LT5jbGspOwo+ID4+ICAgICAg
ICAgICAgICAgICAgICAgICAgIH0KPiA+PiAgICAgICAgICAgICAgICAgfQo+ID4+Cj4gPj4gICAg
ICAgICAgICAgICAgIHJldHVybiAwOwo+ID4+ICAgICAgICAgfQo+ID4+Cj4gPgo+ID4gTG9va3Mg
Z3JlYXQuCj4gPiBCdXQgdGhlcmUgaXMgbm8gaW5kZW50YXRpb24gYmV0d2VlbiAic3dpdGNoIiBh
bmQgImNhc2UiLgo+ID4gQXMgYSByZXN1bHQsIHRoZSBjbG9zaW5nIGJyYWNlcyBvZiAic3dpdGNo
IiBhbmQgImNhc2UiIHdpbGwKPiA+IGJlIHBsYWNlZCBpbiB0aGUgc2FtZSBjb2x1bW4uCj4gPgo+
ID4gTGlrZSB0aGlzOgo+ID4KPiA+IHN3aXRjaChtYXNrKSB7Cj4gPiBjYXNlIElJT19DSEFOX0lO
Rk9fRU5BQkxFOiB7Cj4gPgo+ID4gfQo+ID4gfQo+ID4KPiA+IC1KaWFzaGVuZwo+Cj4KPiBVc3Vh
bGx5LCB0aGVyZSBpcyBhIGRlZmF1bHQ6IGNhc2UgYXMgd2VsbCwgc28gd2UgY291bGQgbW92ZSB0
aGUKPiBmaW5hbCByZXR1cm4gYW5kIG1ha2UgaXQgbG9vayBsaWtlIHRoaXM6Cj4KPiAgICAgICAg
IHN3aXRjaCAobWFzaykgewo+ICAgICAgICAgY2FzZSBJSU9fQ0hBTl9JTkZPX1JBVzoKPiAgICAg
ICAgICAgICAgICAgcmV0dXJuIHJlZ21hcF93cml0ZShwcml2LT5yZWdtYXAsIFRJTV9DTlQsIHZh
bCk7Cj4KPiAgICAgICAgIGNhc2UgSUlPX0NIQU5fSU5GT19TQ0FMRToKPiAgICAgICAgICAgICAg
ICAgLyogZml4ZWQgc2NhbGUgKi8KPiAgICAgICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7Cj4K
PiAgICAgICAgIGNhc2UgSUlPX0NIQU5fSU5GT19FTkFCTEU6IHsKPiAgICAgICAgICAgICAgICAg
Z3VhcmQobXV0ZXgpKCZwcml2LT5sb2NrKTsKPiAgICAgICAgICAgICAgICAgaWYgKHZhbCkgewo+
ICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcHJpdi0+ZW5hYmxlZCkgewo+ICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgcHJpdi0+ZW5hYmxlZCA9IHRydWU7Cj4gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBjbGtfZW5hYmxlKHByaXYtPmNsayk7Cj4gICAgICAgICAg
ICAgICAgICAgICAgICAgfQo+ICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ21hcF9zZXRfYml0
cyhwcml2LT5yZWdtYXAsIFRJTV9DUjEsIFRJTV9DUjFfQ0VOKTsKPiAgICAgICAgICAgICAgICAg
fSBlbHNlIHsKPiAgICAgICAgICAgICAgICAgICAgICAgICByZWdtYXBfY2xlYXJfYml0cyhwcml2
LT5yZWdtYXAsIFRJTV9DUjEsIFRJTV9DUjFfQ0VOKTsKPiAgICAgICAgICAgICAgICAgICAgICAg
ICBpZiAocHJpdi0+ZW5hYmxlZCkgewo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
cHJpdi0+ZW5hYmxlZCA9IGZhbHNlOwo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
Y2xrX2Rpc2FibGUocHJpdi0+Y2xrKTsKPiAgICAgICAgICAgICAgICAgICAgICAgICB9Cj4gICAg
ICAgICAgICAgICAgIH0KPiAgICAgICAgICAgICAgICAgcmV0dXJuIDA7Cj4gICAgICAgICB9Cj4g
ICAgICAgICAgICAgICAgIGRlZmF1bHQ6Cj4gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJu
IC1FSU5WQUw7Cj4gICAgICAgICB9Cj4KPgo+IEFuZCBpdCBpcyB1bnVzdWFsLCBidXQgSSBmb3Vu
ZCBrdm1fYXJtX3BtdV92M19nZXRfYXR0cigpIHRoYXQKPiBhbHNvIGhhcyB0aGlzIGRvdWJsZSBp
bmxpbmUgYnJhY2UgYXQgdGhlIGVuZCBvZiBhIHN3aXRjaCBzdGF0ZW1lbnQuCj4KPiAgICAgICAg
IH0KPiAgICAgICAgIH0KPgo+IFNvIGV2ZW4gaWYgaXQgZG9lc24ndCBsb29rIHNvIG5pY2UsIGl0
IGRvZXMgc2VlbSB0byBiZSB0aGUKPiAiY29ycmVjdCIgc3R5bGUuCgpUaGFua3MsIEkgd2lsbCBz
dWJtaXQgYSB2NCBwYXRjaC4KCi1KaWFzaGVuZwpfX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fXwpMaW51eC1zdG0zMiBtYWlsaW5nIGxpc3QKTGludXgtc3RtMzJA
c3QtbWQtbWFpbG1hbi5zdG9ybXJlcGx5LmNvbQpodHRwczovL3N0LW1kLW1haWxtYW4uc3Rvcm1y
ZXBseS5jb20vbWFpbG1hbi9saXN0aW5mby9saW51eC1zdG0zMgo=
