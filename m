Return-Path: <linux-stm32-bounces@st-md-mailman.stormreply.com>
X-Original-To: lists+linux-stm32@lfdr.de
Delivered-To: lists+linux-stm32@lfdr.de
Received: from stm-ict-prod-mailman-01.stormreply.prv (st-md-mailman.stormreply.com [52.209.6.89])
	by mail.lfdr.de (Postfix) with ESMTPS id BD1EDA97408
	for <lists+linux-stm32@lfdr.de>; Tue, 22 Apr 2025 19:55:13 +0200 (CEST)
Received: from ip-172-31-3-47.eu-west-1.compute.internal (localhost [127.0.0.1])
	by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTP id 63BB6C78034;
	Tue, 22 Apr 2025 17:55:13 +0000 (UTC)
Received: from smtp.smtpout.orange.fr (smtp-18.smtpout.orange.fr
 [80.12.242.18])
 (using TLSv1.2 with cipher AES128-GCM-SHA256 (128/128 bits))
 (No client certificate requested)
 by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTPS id 9907FC6C83D
 for <linux-stm32@st-md-mailman.stormreply.com>;
 Tue, 22 Apr 2025 17:55:11 +0000 (UTC)
Received: from [192.168.1.37] ([90.11.132.44]) by smtp.orange.fr with ESMTPA
 id 7HpquBgvsJby27HptuKR9x; Tue, 22 Apr 2025 19:55:11 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=wanadoo.fr;
 s=t20230301; t=1745344511;
 bh=qHWt4pZ1VXASLNsb4uqGnAGvHepdPrEexGPZ0W0j1Mk=;
 h=Message-ID:Date:MIME-Version:Subject:From:To;
 b=J2Es+qjoheXsjvjS1lVN2OCPyR8/TtNEUx8DBVLyZOtTbFiEhvPkNdHvL/51sMmPw
 eI2PMl7nflgaFlguc8DaDIj+AUZ3RkAGZ6r8HsmwA6/wYX2o6hZqJ2lMcYetoNrJjL
 1JZ5PxKMYWR/8Ympb7gb8q06wBihys9yph5vd+NmTxme+x8HXzWgM8YFJhv/GpZFZK
 KmuQKIIyySNd+y7M0PxWzxUozMfcqpkNs3LOJ/EVNqFPd6rR2FNERctJMiwb62ywYi
 lnjlaO1+Syxd65UhUfDJ4Oid0ghM6h+uZ5gPSqC0BdKsExN2sxozKG0/6wuM1vZiZR
 Ya5pJ8rKIHpCQ==
X-ME-Helo: [192.168.1.37]
X-ME-Auth: bWFyaW9uLmphaWxsZXRAd2FuYWRvby5mcg==
X-ME-Date: Tue, 22 Apr 2025 19:55:11 +0200
X-ME-IP: 90.11.132.44
Message-ID: <07f67b94-adc1-41a9-b7f7-9e1f8f751290@wanadoo.fr>
Date: Tue, 22 Apr 2025 19:55:06 +0200
MIME-Version: 1.0
User-Agent: Mozilla Thunderbird
References: <20250422-upstream_ospi_v6-v10-0-6f4942a04e10@foss.st.com>
 <20250422-upstream_ospi_v6-v10-2-6f4942a04e10@foss.st.com>
Content-Language: en-US, fr-FR
From: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
To: patrice.chotard@foss.st.com
In-Reply-To: <20250422-upstream_ospi_v6-v10-2-6f4942a04e10@foss.st.com>
Cc: devicetree@vger.kernel.org, conor+dt@kernel.org, p.zabel@pengutronix.de,
 robh@kernel.org, catalin.marinas@arm.com, krzk@kernel.org,
 linux-kernel@vger.kernel.org, mcoquelin.stm32@gmail.com, krzk+dt@kernel.org,
 will@kernel.org, linux-stm32@st-md-mailman.stormreply.com,
 linux-arm-kernel@lists.infradead.org
Subject: Re: [Linux-stm32] [PATCH v10 2/3] memory: Add STM32 Octo Memory
	Manager driver
X-BeenThere: linux-stm32@st-md-mailman.stormreply.com
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: <linux-stm32.st-md-mailman.stormreply.com>
List-Unsubscribe: <https://st-md-mailman.stormreply.com/mailman/options/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=unsubscribe>
List-Archive: <http://st-md-mailman.stormreply.com/pipermail/linux-stm32/>
List-Post: <mailto:linux-stm32@st-md-mailman.stormreply.com>
List-Help: <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=help>
List-Subscribe: <https://st-md-mailman.stormreply.com/mailman/listinfo/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: linux-stm32-bounces@st-md-mailman.stormreply.com
Sender: "Linux-stm32" <linux-stm32-bounces@st-md-mailman.stormreply.com>

TGUgMjIvMDQvMjAyNSDDoCAxMDo0NCwgUGF0cmljZSBDaG90YXJkIGEgw6ljcml0wqA6Cj4gT2N0
byBNZW1vcnkgTWFuYWdlciBkcml2ZXIgKE9NTSkgbWFuYWdlczoKPiAgICAtIHRoZSBtdXhpbmcg
YmV0d2VlbiAyIE9TUEkgYnVzc2VzIGFuZCAyIG91dHB1dCBwb3J0cy4KPiAgICAgIFRoZXJlIGFy
ZSA0IHBvc3NpYmxlIG11eGluZyBjb25maWd1cmF0aW9uczoKPiAgICAgICAgLSBkaXJlY3QgbW9k
ZSAobm8gbXVsdGlwbGV4aW5nKTogT1NQSTEgb3V0cHV0IGlzIG9uIHBvcnQgMSBhbmQgT1NQSTIK
PiAgICAgICAgICBvdXRwdXQgaXMgb24gcG9ydCAyCj4gICAgICAgIC0gT1NQSTEgYW5kIE9TUEky
IGFyZSBtdWx0aXBsZXhlZCBvdmVyIHRoZSBzYW1lIG91dHB1dCBwb3J0IDEKPiAgICAgICAgLSBz
d2FwcGVkIG1vZGUgKG5vIG11bHRpcGxleGluZyksIE9TUEkxIG91dHB1dCBpcyBvbiBwb3J0IDIs
Cj4gICAgICAgICAgT1NQSTIgb3V0cHV0IGlzIG9uIHBvcnQgMQo+ICAgICAgICAtIE9TUEkxIGFu
ZCBPU1BJMiBhcmUgbXVsdGlwbGV4ZWQgb3ZlciB0aGUgc2FtZSBvdXRwdXQgcG9ydCAyCj4gICAg
LSB0aGUgc3BsaXQgb2YgdGhlIG1lbW9yeSBhcmVhIHNoYXJlZCBiZXR3ZWVuIHRoZSAyIE9TUEkg
aW5zdGFuY2VzLgo+ICAgIC0gY2hpcCBzZWxlY3Qgc2VsZWN0aW9uIG92ZXJyaWRlLgo+ICAgIC0g
dGhlIHRpbWUgYmV0d2VlbiAyIHRyYW5zYWN0aW9ucyBpbiBtdWx0aXBsZXhlZCBtb2RlLgo+ICAg
IC0gY2hlY2sgZmlyZXdhbGwgYWNjZXNzLgoKSGksCgoyIHNtYWxsIHF1ZXN0aW9ucyBiZWxvdy4K
Cj4gK3N0YXRpYyBpbnQgc3RtMzJfb21tX2Rpc2FibGVfY2hpbGQoc3RydWN0IGRldmljZSAqZGV2
KQo+ICt7Cj4gKwlzdHJ1Y3Qgc3RtMzJfb21tICpvbW0gPSBkZXZfZ2V0X2RydmRhdGEoZGV2KTsK
PiArCXN0cnVjdCByZXNldF9jb250cm9sICpyZXNldDsKPiArCWludCByZXQ7Cj4gKwl1OCBpOwo+
ICsKPiArCXJldCA9IHN0bTMyX29tbV90b2dnbGVfY2hpbGRfY2xvY2soZGV2LCB0cnVlKTsKPiAr
CWlmICghcmV0KQo+ICsJCXJldHVybiByZXQ7Cj4gKwo+ICsJZm9yIChpID0gMDsgaSA8IG9tbS0+
bmJfY2hpbGQ7IGkrKykgewo+ICsJCS8qIHJlc2V0IE9TUEkgdG8gZW5zdXJlIENSX0VOIGJpdCBp
cyBzZXQgdG8gMCAqLwo+ICsJCXJlc2V0ID0gb21tLT5jaGlsZF9yZXNldFtpXTsKPiArCQlyZXQg
PSByZXNldF9jb250cm9sX2FjcXVpcmUocmVzZXQpOwo+ICsJCWlmIChyZXQpIHsKPiArCQkJZGV2
X2VycihkZXYsICJDYW4gbm90IGFjcXVpcmUgcmVzc2V0ICVkXG4iLCByZXQpOwoKU2hvdWxkIHN0
bTMyX29tbV90b2dnbGVfY2hpbGRfY2xvY2soZGV2LCBmYWxzZSk7CmJlIGNhbGxlZCBoZXJlPwoK
PiArCQkJcmV0dXJuIHJldDsKPiArCQl9Cj4gKwo+ICsJCXJlc2V0X2NvbnRyb2xfYXNzZXJ0KHJl
c2V0KTsKPiArCQl1ZGVsYXkoMik7Cj4gKwkJcmVzZXRfY29udHJvbF9kZWFzc2VydChyZXNldCk7
Cj4gKwo+ICsJCXJlc2V0X2NvbnRyb2xfcmVsZWFzZShyZXNldCk7Cj4gKwl9Cj4gKwo+ICsJcmV0
dXJuIHN0bTMyX29tbV90b2dnbGVfY2hpbGRfY2xvY2soZGV2LCBmYWxzZSk7Cj4gK30KCi4uLgoK
PiArc3RhdGljIGludCBzdG0zMl9vbW1fcHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRl
dikKPiArewo+ICsJc3RhdGljIGNvbnN0IGNoYXIgKiBjb25zdCByZXNldHNfbmFtZVtdID0geyJv
c3BpMSIsICJvc3BpMiJ9Owo+ICsJc3RydWN0IGRldmljZSAqZGV2ID0gJnBkZXYtPmRldjsKPiAr
CXU4IGNoaWxkX2FjY2Vzc19ncmFudGVkID0gMDsKPiArCXN0cnVjdCBzdG0zMl9vbW0gKm9tbTsK
PiArCWludCBpLCByZXQ7Cj4gKwo+ICsJb21tID0gZGV2bV9remFsbG9jKGRldiwgc2l6ZW9mKCpv
bW0pLCBHRlBfS0VSTkVMKTsKPiArCWlmICghb21tKQo+ICsJCXJldHVybiAtRU5PTUVNOwo+ICsK
PiArCW9tbS0+aW9fYmFzZSA9IGRldm1fcGxhdGZvcm1faW9yZW1hcF9yZXNvdXJjZV9ieW5hbWUo
cGRldiwgInJlZ3MiKTsKPiArCWlmIChJU19FUlIob21tLT5pb19iYXNlKSkKPiArCQlyZXR1cm4g
UFRSX0VSUihvbW0tPmlvX2Jhc2UpOwo+ICsKPiArCW9tbS0+bW1fcmVzID0gcGxhdGZvcm1fZ2V0
X3Jlc291cmNlX2J5bmFtZShwZGV2LCBJT1JFU09VUkNFX01FTSwgIm1lbW9yeV9tYXAiKTsKPiAr
CWlmIChJU19FUlIob21tLT5tbV9yZXMpKQo+ICsJCXJldHVybiBQVFJfRVJSKG9tbS0+bW1fcmVz
KTsKPiArCj4gKwkvKiBjaGVjayBjaGlsZCdzIGFjY2VzcyAqLwo+ICsJZm9yX2VhY2hfY2hpbGRf
b2Zfbm9kZV9zY29wZWQoZGV2LT5vZl9ub2RlLCBjaGlsZCkgewo+ICsJCWlmIChvbW0tPm5iX2No
aWxkID49IE9NTV9DSElMRF9OQikgewo+ICsJCQlkZXZfZXJyKGRldiwgIkJhZCBEVCwgZm91bmQg
dG9vIG11Y2ggY2hpbGRyZW5cbiIpOwo+ICsJCQlyZXR1cm4gLUUyQklHOwo+ICsJCX0KPiArCj4g
KwkJcmV0ID0gc3RtMzJfb21tX2NoZWNrX2FjY2VzcyhjaGlsZCk7Cj4gKwkJaWYgKHJldCA8IDAg
JiYgcmV0ICE9IC1FQUNDRVMpCj4gKwkJCXJldHVybiByZXQ7Cj4gKwo+ICsJCWlmICghcmV0KQo+
ICsJCQljaGlsZF9hY2Nlc3NfZ3JhbnRlZCsrOwo+ICsKPiArCQlvbW0tPm5iX2NoaWxkKys7Cj4g
Kwl9Cj4gKwo+ICsJaWYgKG9tbS0+bmJfY2hpbGQgIT0gT01NX0NISUxEX05CKQo+ICsJCXJldHVy
biAtRUlOVkFMOwo+ICsKPiArCXBsYXRmb3JtX3NldF9kcnZkYXRhKHBkZXYsIG9tbSk7Cj4gKwo+
ICsJZGV2bV9wbV9ydW50aW1lX2VuYWJsZShkZXYpOwo+ICsKPiArCS8qIGNoZWNrIGlmIE9NTSdz
IHJlc291cmNlIGFjY2VzcyBpcyBncmFudGVkICovCj4gKwlyZXQgPSBzdG0zMl9vbW1fY2hlY2tf
YWNjZXNzKGRldi0+b2Zfbm9kZSk7Cj4gKwlpZiAocmV0IDwgMCAmJiByZXQgIT0gLUVBQ0NFUykK
PiArCQlyZXR1cm4gcmV0Owo+ICsKPiArCWZvciAoaSA9IDA7IGkgPCBvbW0tPm5iX2NoaWxkOyBp
KyspIHsKPiArCQlvbW0tPmNoaWxkX3Jlc2V0W2ldID0gZGV2bV9yZXNldF9jb250cm9sX2dldF9l
eGNsdXNpdmVfcmVsZWFzZWQoZGV2LAo+ICsJCQkJCQkJCQkJcmVzZXRzX25hbWVbaV0pOwo+ICsK
PiArCQlpZiAoSVNfRVJSKG9tbS0+Y2hpbGRfcmVzZXRbaV0pKQo+ICsJCQlyZXR1cm4gZGV2X2Vy
cl9wcm9iZShkZXYsIFBUUl9FUlIob21tLT5jaGlsZF9yZXNldFtpXSksCj4gKwkJCQkJICAgICAi
Q2FuJ3QgZ2V0ICVzIHJlc2V0XG4iLCByZXNldHNfbmFtZVtpXSk7Cj4gKwl9Cj4gKwo+ICsJaWYg
KCFyZXQgJiYgY2hpbGRfYWNjZXNzX2dyYW50ZWQgPT0gT01NX0NISUxEX05CKSB7Cj4gKwkJcmV0
ID0gc3RtMzJfb21tX2NvbmZpZ3VyZShkZXYpOwo+ICsJCWlmIChyZXQpCj4gKwkJCXJldHVybiBy
ZXQ7Cj4gKwl9IGVsc2Ugewo+ICsJCWRldl9kYmcoZGV2LCAiT2N0byBNZW1vcnkgTWFuYWdlciBy
ZXNvdXJjZSdzIGFjY2VzcyBub3QgZ3JhbnRlZFxuIik7Cj4gKwkJLyoKPiArCQkgKiBBTUNSIGNh
bid0IGJlIHNldCwgc28gY2hlY2sgaWYgY3VycmVudCB2YWx1ZSBpcyBjb2hlcmVudAo+ICsJCSAq
IHdpdGggbWVtb3J5LW1hcCBhcmVhcyBkZWZpbmVkIGluIERUCj4gKwkJICovCj4gKwkJcmV0ID0g
c3RtMzJfb21tX3NldF9hbWNyKGRldiwgZmFsc2UpOwo+ICsJCWlmIChyZXQpCj4gKwkJCXJldHVy
biByZXQ7Cj4gKwl9Cj4gKwo+ICsJcmV0ID0gZGV2bV9vZl9wbGF0Zm9ybV9wb3B1bGF0ZShkZXYp
Owo+ICsJaWYgKHJldCkKPiArCQlkZXZfZXJyKGRldiwgIkZhaWxlZCB0byBjcmVhdGUgT2N0byBN
ZW1vcnkgTWFuYWdlciBjaGlsZFxuIik7CgpTaG91bGQgc29tZXRoaW5nIGxpa2UgdGhlIGNvZGUg
aW4gdGhlIHJlbW92ZSBmdW5jdGlvbiBiZSBjYWxsZWQgaGVyZT8KCkFsc28sIG1heWJlIHJldHVy
biBkZXZfZXJyX3Byb2JlKCkgYW5kIHJldHVybiAwOyBiZWxvdz8KCj4gKwo+ICsJcmV0dXJuIHJl
dDsKPiArfQoKLi4uCgpDSgoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX18KTGludXgtc3RtMzIgbWFpbGluZyBsaXN0CkxpbnV4LXN0bTMyQHN0LW1kLW1haWxt
YW4uc3Rvcm1yZXBseS5jb20KaHR0cHM6Ly9zdC1tZC1tYWlsbWFuLnN0b3JtcmVwbHkuY29tL21h
aWxtYW4vbGlzdGluZm8vbGludXgtc3RtMzIK
