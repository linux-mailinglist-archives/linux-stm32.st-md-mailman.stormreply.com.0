Return-Path: <linux-stm32-bounces@st-md-mailman.stormreply.com>
X-Original-To: lists+linux-stm32@lfdr.de
Delivered-To: lists+linux-stm32@lfdr.de
Received: from stm-ict-prod-mailman-01.stormreply.prv (st-md-mailman.stormreply.com [52.209.6.89])
	by mail.lfdr.de (Postfix) with ESMTPS id AB5E5690CA3
	for <lists+linux-stm32@lfdr.de>; Thu,  9 Feb 2023 16:14:47 +0100 (CET)
Received: from ip-172-31-3-47.eu-west-1.compute.internal (localhost [127.0.0.1])
	by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTP id 7408BC6A5EA;
	Thu,  9 Feb 2023 15:14:47 +0000 (UTC)
Received: from relay11.mail.gandi.net (relay11.mail.gandi.net [217.70.178.231])
 (using TLSv1.2 with cipher ADH-AES256-GCM-SHA384 (256/256 bits))
 (No client certificate requested)
 by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTPS id B6C2BC6A5E8
 for <linux-stm32@st-md-mailman.stormreply.com>;
 Thu,  9 Feb 2023 15:14:45 +0000 (UTC)
Received: (Authenticated sender: clement.leger@bootlin.com)
 by mail.gandi.net (Postfix) with ESMTPSA id 2E244100009;
 Thu,  9 Feb 2023 15:14:37 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=bootlin.com; s=gm1;
 t=1675955685;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=+b40twGxCdSc5QQc2SQJSyKNWqs4/oSfyFtqvqrIBhE=;
 b=TnAXLvutxsoV6SQPVLC5IpOYUVeKfybmBcXAoMhkGOpU6H6V8PNfgml/lve5R4qszfbMaO
 7ZkfVOy3sU5aE/eVcpgo7GLYcdEH4kOi489P9EzR4IdOr3Lhjaa2aT3svQk25Nrz2X5oSy
 bffTADKtd9mJXOYB+d0qo8Vc9aTlKYnChJFdMwleyqgM45LtVmsg0v7PX/C5kYM+Vt7iQO
 2Z03pqKdAytD3qBBKes1xD3W0TI8itOOGEbEiw2JhnVlHIt4KuEZSZ+uoaakXMKP4sLh9B
 qyBt7L3uBqwyi+TruoKNio0dVYazReU+lJD2B6KYLzQua6VTLW9fx2WN66QIXg==
From: =?UTF-8?q?Cl=C3=A9ment=20L=C3=A9ger?= <clement.leger@bootlin.com>
To: Sergey Shtylyov <s.shtylyov@omp.ru>,
 "David S. Miller" <davem@davemloft.net>,
 Eric Dumazet <edumazet@google.com>, Jakub Kicinski <kuba@kernel.org>,
 Paolo Abeni <pabeni@redhat.com>, Rob Herring <robh+dt@kernel.org>,
 Krzysztof Kozlowski <krzysztof.kozlowski+dt@linaro.org>,
 Geert Uytterhoeven <geert+renesas@glider.be>,
 Magnus Damm <magnus.damm@gmail.com>,
 Giuseppe Cavallaro <peppe.cavallaro@st.com>,
 Alexandre Torgue <alexandre.torgue@foss.st.com>,
 Jose Abreu <joabreu@synopsys.com>,
 Maxime Coquelin <mcoquelin.stm32@gmail.com>,
 Russell King <linux@armlinux.org.uk>, Wong Vee Khee <veekhee@apple.com>,
 =?UTF-8?q?Cl=C3=A9ment=20L=C3=A9ger?= <clement.leger@bootlin.com>,
 Kurt Kanzenbach <kurt@linutronix.de>,
 Revanth Kumar Uppala <ruppala@nvidia.com>,
 Tan Tee Min <tee.min.tan@linux.intel.com>
Date: Thu,  9 Feb 2023 16:16:31 +0100
Message-Id: <20230209151632.275883-6-clement.leger@bootlin.com>
X-Mailer: git-send-email 2.39.0
In-Reply-To: <20230209151632.275883-1-clement.leger@bootlin.com>
References: <20230209151632.275883-1-clement.leger@bootlin.com>
MIME-Version: 1.0
Cc: devicetree@vger.kernel.org, Pascal Eberhard <pascal.eberhard@se.com>,
 netdev@vger.kernel.org, linux-kernel@vger.kernel.org,
 Jon Hunter <jonathanh@nvidia.com>, linux-renesas-soc@vger.kernel.org,
 Mohammad Athari Bin Ismail <mohammad.athari.ismail@intel.com>,
 Milan Stevanovic <milan.stevanovic@se.com>,
 Thomas Petazzoni <thomas.petazzoni@bootlin.com>,
 =?UTF-8?q?Miqu=C3=A8l=20Raynal?= <miquel.raynal@bootlin.com>,
 Herve Codina <herve.codina@bootlin.com>, Jimmy Lalande <jimmy.lalande@se.com>,
 linux-stm32@st-md-mailman.stormreply.com, linux-arm-kernel@lists.infradead.org
Subject: [Linux-stm32] [PATCH net-next v3 5/6] net: stmmac: add support for
	RZ/N1 GMAC
X-BeenThere: linux-stm32@st-md-mailman.stormreply.com
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: <linux-stm32.st-md-mailman.stormreply.com>
List-Unsubscribe: <https://st-md-mailman.stormreply.com/mailman/options/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=unsubscribe>
List-Archive: <http://st-md-mailman.stormreply.com/pipermail/linux-stm32/>
List-Post: <mailto:linux-stm32@st-md-mailman.stormreply.com>
List-Help: <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=help>
List-Subscribe: <https://st-md-mailman.stormreply.com/mailman/listinfo/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: linux-stm32-bounces@st-md-mailman.stormreply.com
Sender: "Linux-stm32" <linux-stm32-bounces@st-md-mailman.stormreply.com>

QWRkIHN1cHBvcnQgZm9yIFJlbmVzYXMgUlovTjEgR01BQy4gVGhpcyBzdXBwb3J0IHVzZXMgYSBj
dXN0b20gUENTIChNSUlDKQp3aGljaCBpcyBoYW5kbGUgYnkgcGFyc2luZyB0aGUgcGNzLWhhbmRs
ZSBkZXZpY2UgdHJlZSBwcm9wZXJ0eS4KClNpZ25lZC1vZmYtYnk6IENsw6ltZW50IEzDqWdlciA8
Y2xlbWVudC5sZWdlckBib290bGluLmNvbT4KLS0tCiBkcml2ZXJzL25ldC9ldGhlcm5ldC9zdG1p
Y3JvL3N0bW1hYy9LY29uZmlnICAgfCAgMTEgKysKIGRyaXZlcnMvbmV0L2V0aGVybmV0L3N0bWlj
cm8vc3RtbWFjL01ha2VmaWxlICB8ICAgMSArCiAuLi4vbmV0L2V0aGVybmV0L3N0bWljcm8vc3Rt
bWFjL2R3bWFjLXJ6bjEuYyAgfCAxMjAgKysrKysrKysrKysrKysrKysrCiAzIGZpbGVzIGNoYW5n
ZWQsIDEzMiBpbnNlcnRpb25zKCspCiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9uZXQvZXRo
ZXJuZXQvc3RtaWNyby9zdG1tYWMvZHdtYWMtcnpuMS5jCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9u
ZXQvZXRoZXJuZXQvc3RtaWNyby9zdG1tYWMvS2NvbmZpZyBiL2RyaXZlcnMvbmV0L2V0aGVybmV0
L3N0bWljcm8vc3RtbWFjL0tjb25maWcKaW5kZXggZjc3NTExZmU0ZTg3Li5iZTU0MjliN2UxOTIg
MTAwNjQ0Ci0tLSBhL2RyaXZlcnMvbmV0L2V0aGVybmV0L3N0bWljcm8vc3RtbWFjL0tjb25maWcK
KysrIGIvZHJpdmVycy9uZXQvZXRoZXJuZXQvc3RtaWNyby9zdG1tYWMvS2NvbmZpZwpAQCAtMTUz
LDYgKzE1MywxNyBAQCBjb25maWcgRFdNQUNfUk9DS0NISVAKIAkgIFRoaXMgc2VsZWN0cyB0aGUg
Um9ja2NoaXAgUkszMjg4IFNvQyBnbHVlIGxheWVyIHN1cHBvcnQgZm9yCiAJICB0aGUgc3RtbWFj
IGRldmljZSBkcml2ZXIuCiAKK2NvbmZpZyBEV01BQ19SWk4xCisJdHJpc3RhdGUgIlJlbmVzYXMg
UlovTjEgZHdtYWMgc3VwcG9ydCIKKwlkZWZhdWx0IEFSQ0hfUlpOMQorCWRlcGVuZHMgb24gT0Yg
JiYgKEFSQ0hfUlpOMSB8fCBDT01QSUxFX1RFU1QpCisJc2VsZWN0IFBDU19SWk4xX01JSUMKKwlo
ZWxwCisJICBTdXBwb3J0IGZvciBFdGhlcm5ldCBjb250cm9sbGVyIG9uIFJlbmVzYXMgUlovTjEg
U29DIGZhbWlseS4KKworCSAgVGhpcyBzZWxlY3RzIHRoZSBSZW5lc2FzIFJaL04xIFNvQyBnbHVl
IGxheWVyIHN1cHBvcnQgZm9yCisJICB0aGUgc3RtbWFjIGRldmljZSBkcml2ZXIuCisKIGNvbmZp
ZyBEV01BQ19TT0NGUEdBCiAJdHJpc3RhdGUgIlNPQ0ZQR0EgZHdtYWMgc3VwcG9ydCIKIAlkZWZh
dWx0IEFSQ0hfSU5URUxfU09DRlBHQQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9uZXQvZXRoZXJuZXQv
c3RtaWNyby9zdG1tYWMvTWFrZWZpbGUgYi9kcml2ZXJzL25ldC9ldGhlcm5ldC9zdG1pY3JvL3N0
bW1hYy9NYWtlZmlsZQppbmRleCAwNTdlNGJhYjVjMDguLjUzYTBmNzRjMWNiNSAxMDA2NDQKLS0t
IGEvZHJpdmVycy9uZXQvZXRoZXJuZXQvc3RtaWNyby9zdG1tYWMvTWFrZWZpbGUKKysrIGIvZHJp
dmVycy9uZXQvZXRoZXJuZXQvc3RtaWNyby9zdG1tYWMvTWFrZWZpbGUKQEAgLTIyLDYgKzIyLDcg
QEAgb2JqLSQoQ09ORklHX0RXTUFDX01FU09OKQkrPSBkd21hYy1tZXNvbi5vIGR3bWFjLW1lc29u
OGIubwogb2JqLSQoQ09ORklHX0RXTUFDX09YTkFTKQkrPSBkd21hYy1veG5hcy5vCiBvYmotJChD
T05GSUdfRFdNQUNfUUNPTV9FVEhRT1MpCSs9IGR3bWFjLXFjb20tZXRocW9zLm8KIG9iai0kKENP
TkZJR19EV01BQ19ST0NLQ0hJUCkJKz0gZHdtYWMtcmsubworb2JqLSQoQ09ORklHX0RXTUFDX1Ja
TjEpCSs9IGR3bWFjLXJ6bjEubwogb2JqLSQoQ09ORklHX0RXTUFDX1NPQ0ZQR0EpCSs9IGR3bWFj
LWFsdHItc29jZnBnYS5vCiBvYmotJChDT05GSUdfRFdNQUNfU1RJKQkJKz0gZHdtYWMtc3RpLm8K
IG9iai0kKENPTkZJR19EV01BQ19TVE0zMikJKz0gZHdtYWMtc3RtMzIubwpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9uZXQvZXRoZXJuZXQvc3RtaWNyby9zdG1tYWMvZHdtYWMtcnpuMS5jIGIvZHJpdmVy
cy9uZXQvZXRoZXJuZXQvc3RtaWNyby9zdG1tYWMvZHdtYWMtcnpuMS5jCm5ldyBmaWxlIG1vZGUg
MTAwNjQ0CmluZGV4IDAwMDAwMDAwMDAwMC4uODIxMThkOGNiNTBlCi0tLSAvZGV2L251bGwKKysr
IGIvZHJpdmVycy9uZXQvZXRoZXJuZXQvc3RtaWNyby9zdG1tYWMvZHdtYWMtcnpuMS5jCkBAIC0w
LDAgKzEsMTIwIEBACisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1vci1sYXRl
cgorLyoKKyAqIENvcHlyaWdodCAoQykgMjAyMiBTY2huZWlkZXItRWxlY3RyaWMKKyAqCisgKiBD
bMOpbWVudCBMw6lnZXIgPGNsZW1lbnQubGVnZXJAYm9vdGxpbi5jb20+CisgKi8KKworI2luY2x1
ZGUgPGxpbnV4L29mLmg+CisjaW5jbHVkZSA8bGludXgvcGNzLXJ6bjEtbWlpYy5oPgorI2luY2x1
ZGUgPGxpbnV4L3BoeWxpbmsuaD4KKyNpbmNsdWRlIDxsaW51eC9wbGF0Zm9ybV9kZXZpY2UuaD4K
KworI2luY2x1ZGUgInN0bW1hY19wbGF0Zm9ybS5oIgorI2luY2x1ZGUgInN0bW1hYy5oIgorCitz
dHJ1Y3QgcnpuMV9kd21hYyB7CisJc3RydWN0IHBoeWxpbmtfcGNzICpwY3M7Cit9OworCitzdGF0
aWMgaW50IHJ6bjFfZHRfcGFyc2Uoc3RydWN0IGRldmljZSAqZGV2LCBzdHJ1Y3QgcnpuMV9kd21h
YyAqZHdtYWMpCit7CisJc3RydWN0IGRldmljZV9ub2RlICpucCA9IGRldi0+b2Zfbm9kZTsKKwlz
dHJ1Y3QgZGV2aWNlX25vZGUgKnBjc19ub2RlOworCXN0cnVjdCBwaHlsaW5rX3BjcyAqcGNzOwor
CWludCByZXQ7CisKKwlwY3Nfbm9kZSA9IG9mX3BhcnNlX3BoYW5kbGUobnAsICJwY3MtaGFuZGxl
IiwgMCk7CisJaWYgKCFwY3Nfbm9kZSkKKwkJcmV0dXJuIDA7CisKKwlwY3MgPSBtaWljX2NyZWF0
ZShkZXYsIHBjc19ub2RlKTsKKwlpZiAoSVNfRVJSKHBjcykpCisJCXJldHVybiBQVFJfRVJSKHBj
cyk7CisKKwlyZXQgPSBtaWljX2Vhcmx5X3NldHVwKHBjcywgZGV2KTsKKwlpZiAocmV0KSB7CisJ
CW1paWNfZGVzdHJveShwY3MpOworCQlyZXR1cm4gcmV0OworCX0KKworCWR3bWFjLT5wY3MgPSBw
Y3M7CisKKwlyZXR1cm4gMDsKK30KKworc3RhdGljIGludCByem4xX2R3bWFjX3Byb2JlKHN0cnVj
dCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCit7CisJc3RydWN0IHBsYXRfc3RtbWFjZW5ldF9kYXRh
ICpwbGF0X2RhdDsKKwlzdHJ1Y3Qgc3RtbWFjX3Jlc291cmNlcyBzdG1tYWNfcmVzOworCXN0cnVj
dCBkZXZpY2UgKmRldiA9ICZwZGV2LT5kZXY7CisJc3RydWN0IHJ6bjFfZHdtYWMgKmR3bWFjOwor
CWludCByZXQ7CisKKwlyZXQgPSBzdG1tYWNfZ2V0X3BsYXRmb3JtX3Jlc291cmNlcyhwZGV2LCAm
c3RtbWFjX3Jlcyk7CisJaWYgKHJldCkKKwkJcmV0dXJuIHJldDsKKworCXBsYXRfZGF0ID0gc3Rt
bWFjX3Byb2JlX2NvbmZpZ19kdChwZGV2LCBzdG1tYWNfcmVzLm1hYyk7CisJaWYgKElTX0VSUihw
bGF0X2RhdCkpCisJCXJldHVybiBQVFJfRVJSKHBsYXRfZGF0KTsKKworCWR3bWFjID0gZGV2bV9r
emFsbG9jKGRldiwgc2l6ZW9mKCpkd21hYyksIEdGUF9LRVJORUwpOworCWlmICghZHdtYWMpIHsK
KwkJcmV0ID0gLUVOT01FTTsKKwkJZ290byBlcnJfcmVtb3ZlX2NvbmZpZ19kdDsKKwl9CisKKwly
ZXQgPSByem4xX2R0X3BhcnNlKGRldiwgZHdtYWMpOworCWlmIChyZXQpCisJCWdvdG8gZXJyX3Jl
bW92ZV9jb25maWdfZHQ7CisKKwlwbGF0X2RhdC0+YnNwX3ByaXYgPSBkd21hYzsKKwlwbGF0X2Rh
dC0+cGNzID0gZHdtYWMtPnBjczsKKworCXJldCA9IHN0bW1hY19kdnJfcHJvYmUoZGV2LCBwbGF0
X2RhdCwgJnN0bW1hY19yZXMpOworCWlmIChyZXQpCisJCWdvdG8gZXJyX2ZyZWVfcGNzOworCisJ
cmV0dXJuIDA7CisKK2Vycl9mcmVlX3BjczoKKwlpZiAoZHdtYWMtPnBjcykKKwkJbWlpY19kZXN0
cm95KGR3bWFjLT5wY3MpOworCitlcnJfcmVtb3ZlX2NvbmZpZ19kdDoKKwlzdG1tYWNfcmVtb3Zl
X2NvbmZpZ19kdChwZGV2LCBwbGF0X2RhdCk7CisKKwlyZXR1cm4gcmV0OworfQorCitzdGF0aWMg
aW50IHJ6bjFfZHdtYWNfcmVtb3ZlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCit7CisJ
c3RydWN0IHJ6bjFfZHdtYWMgKmR3bWFjID0gZ2V0X3N0bW1hY19ic3BfcHJpdigmcGRldi0+ZGV2
KTsKKwlpbnQgcmV0ID0gc3RtbWFjX2R2cl9yZW1vdmUoJnBkZXYtPmRldik7CisKKwlpZiAoZHdt
YWMtPnBjcykKKwkJbWlpY19kZXN0cm95KGR3bWFjLT5wY3MpOworCisJcmV0dXJuIHJldDsKK30K
Kworc3RhdGljIGNvbnN0IHN0cnVjdCBvZl9kZXZpY2VfaWQgcnpuMV9kd21hY19tYXRjaFtdID0g
eworCXsgLmNvbXBhdGlibGUgPSAicmVuZXNhcyxyem4xLWdtYWMiIH0sCisJeyB9Cit9OworTU9E
VUxFX0RFVklDRV9UQUJMRShvZiwgcnpuMV9kd21hY19tYXRjaCk7CisKK3N0YXRpYyBzdHJ1Y3Qg
cGxhdGZvcm1fZHJpdmVyIHJ6bjFfZHdtYWNfZHJpdmVyID0geworCS5wcm9iZSAgPSByem4xX2R3
bWFjX3Byb2JlLAorCS5yZW1vdmUgPSByem4xX2R3bWFjX3JlbW92ZSwKKwkuZHJpdmVyID0gewor
CQkubmFtZSAgICAgICAgICAgPSAicnpuMS1kd21hYyIsCisJCS5vZl9tYXRjaF90YWJsZSA9IHJ6
bjFfZHdtYWNfbWF0Y2gsCisJfSwKK307Cittb2R1bGVfcGxhdGZvcm1fZHJpdmVyKHJ6bjFfZHdt
YWNfZHJpdmVyKTsKKworTU9EVUxFX0FVVEhPUigiQ2zDqW1lbnQgTMOpZ2VyIDxjbGVtZW50Lmxl
Z2VyQGJvb3RsaW4uY29tPiIpOworTU9EVUxFX0RFU0NSSVBUSU9OKCJSZW5lc2FzIFJaTjEgRFdN
QUMgc3BlY2lmaWMgZ2x1ZSBsYXllciIpOworTU9EVUxFX0xJQ0VOU0UoIkdQTCIpOwotLSAKMi4z
OS4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpMaW51
eC1zdG0zMiBtYWlsaW5nIGxpc3QKTGludXgtc3RtMzJAc3QtbWQtbWFpbG1hbi5zdG9ybXJlcGx5
LmNvbQpodHRwczovL3N0LW1kLW1haWxtYW4uc3Rvcm1yZXBseS5jb20vbWFpbG1hbi9saXN0aW5m
by9saW51eC1zdG0zMgo=
