Return-Path: <linux-stm32-bounces@st-md-mailman.stormreply.com>
X-Original-To: lists+linux-stm32@lfdr.de
Delivered-To: lists+linux-stm32@lfdr.de
Received: from stm-ict-prod-mailman-01.stormreply.prv (st-md-mailman.stormreply.com [52.209.6.89])
	by mail.lfdr.de (Postfix) with ESMTPS id 42D0185B96D
	for <lists+linux-stm32@lfdr.de>; Tue, 20 Feb 2024 11:45:59 +0100 (CET)
Received: from ip-172-31-3-47.eu-west-1.compute.internal (localhost [127.0.0.1])
	by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTP id 01FCDC6A61D;
	Tue, 20 Feb 2024 10:45:59 +0000 (UTC)
Received: from mail-wm1-f48.google.com (mail-wm1-f48.google.com
 [209.85.128.48])
 (using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
 (No client certificate requested)
 by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTPS id 4EDC7C69063
 for <linux-stm32@st-md-mailman.stormreply.com>;
 Tue, 20 Feb 2024 10:45:57 +0000 (UTC)
Received: by mail-wm1-f48.google.com with SMTP id
 5b1f17b1804b1-412698ac6f9so8528875e9.0
 for <linux-stm32@st-md-mailman.stormreply.com>;
 Tue, 20 Feb 2024 02:45:57 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20230601; t=1708425957; x=1709030757;
 darn=st-md-mailman.stormreply.com; 
 h=mime-version:user-agent:content-transfer-encoding:references
 :in-reply-to:date:cc:to:from:subject:message-id:from:to:cc:subject
 :date:message-id:reply-to;
 bh=IkAfoQIWrV+GrZl5t56+RUv5w7RyqldnbP9GJ593z8k=;
 b=WPOY/M1/uCg0AQQUzm3TFagZ659KcmYKBI44+L31TfOnfZpvsx98sKBFSCfK7jmCy+
 PJx7aEC6cxH9cXSJ6a3nZlMFaFPqu5XLA3cf4+0M3xgMLdz2paDWZfj0A+MRn8E76CAK
 gMUpZWR+xhd/CocnwkEMIxhfCkQ3u90EhgIchoFEf147qaadi32cdIlVX5x6ZbId9qwt
 qzhlcPziPc5oKLtkmrO40xi6fUzt2cw4/DwyCOjVkE/Jnk8cm3GboSyVQpfeZU26lAZk
 ur03btNH/6jc4f3eMpx2g2tNDeoaiJCntFo3181wJmzxBsdFkUqWwyHXypZfZQXEfqqp
 rbRw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20230601; t=1708425957; x=1709030757;
 h=mime-version:user-agent:content-transfer-encoding:references
 :in-reply-to:date:cc:to:from:subject:message-id:x-gm-message-state
 :from:to:cc:subject:date:message-id:reply-to;
 bh=IkAfoQIWrV+GrZl5t56+RUv5w7RyqldnbP9GJ593z8k=;
 b=cEuKPsLYUxAMxyCdUoE9lvSqIM2viVPAS9sDSft+raS+f9PuvHjqP2q2AO74Pw2A7K
 K8VK6gaiRYvAdHfYBV0hhkbIdeASZ6C9fFFCuavRW8eNgLEjAfkcet8YcU0MNOXHXyZD
 szWOfkXW6VO7Bg8pieWKuYSNcShXADVryH7jXVzhgDaO++vIK5b3e5Dee8mhK+x1c95V
 npA472aUJQIX+34ISFC1bQjdxlPzO5Jq9DaQmPde3KJM3g1PqgsHuXr3aJYUR2rlgWgK
 s7eic3hy3wKrY5ripk4kgbPJCAj6Pjc0UFnq71+rwCF8U8vJHCEAWYGKODs/3lUUyM1H
 dhDQ==
X-Forwarded-Encrypted: i=1;
 AJvYcCWdyDzoEu3vf1tbFoqfPAlwNZsj1xzLDjHOQbVL4pVPlUVWp8OiKApp5sfueGfXVWe+ZmutdLRgm2LHqoL1N7WG/cLWahTJqiA2VOXfxd2x7GcM+L6XPPrQ
X-Gm-Message-State: AOJu0YzJR8HKL5wWtcYtJrOBDPwXgrn9S+CGQgCqyVUlNjtM0Pz16wnn
 NCFAoMw9mjfTSQt/yq+s2mtZWTRDiqptydHX3MTrDpuLl90Y1krf
X-Google-Smtp-Source: AGHT+IGvpc4sNp6r9IeGaZC2+2LohpKWIhDpHi9cDSNvwSikx9oiplcouedvHv+qd+byu76Vkvi/qg==
X-Received: by 2002:a5d:588a:0:b0:33d:3b83:c08 with SMTP id
 n10-20020a5d588a000000b0033d3b830c08mr7206557wrf.23.1708425956590; 
 Tue, 20 Feb 2024 02:45:56 -0800 (PST)
Received: from ?IPv6:2001:a61:3456:4e01:6ae:b55a:bd1d:57fc?
 ([2001:a61:3456:4e01:6ae:b55a:bd1d:57fc])
 by smtp.gmail.com with ESMTPSA id
 m8-20020a7bce08000000b004107dfa6aebsm13968319wmc.28.2024.02.20.02.45.56
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Tue, 20 Feb 2024 02:45:56 -0800 (PST)
Message-ID: <d5fcd8b83f424bc05d8363210632bf8db4c376cb.camel@gmail.com>
From: Nuno =?ISO-8859-1?Q?S=E1?= <noname.nuno@gmail.com>
To: David Lechner <dlechner@baylibre.com>, Mark Brown <broonie@kernel.org>
Date: Tue, 20 Feb 2024 11:45:55 +0100
In-Reply-To: <20240219-mainline-spi-precook-message-v2-4-4a762c6701b9@baylibre.com>
References: <20240219-mainline-spi-precook-message-v2-0-4a762c6701b9@baylibre.com>
 <20240219-mainline-spi-precook-message-v2-4-4a762c6701b9@baylibre.com>
User-Agent: Evolution 3.50.3 (3.50.3-1.fc39) 
MIME-Version: 1.0
Cc: Michael Hennerich <michael.hennerich@analog.com>, linux-iio@vger.kernel.org,
 linux-kernel@vger.kernel.org, Julien Stephan <jstephan@baylibre.com>,
 David Jander <david@protonic.nl>,
 Nuno =?ISO-8859-1?Q?S=E1?= <nuno.sa@analog.com>,
 linux-arm-kernel@lists.infradead.org,
 Maxime Coquelin <mcoquelin.stm32@gmail.com>,
 Martin Sperl <kernel@martin.sperl.org>, linux-spi@vger.kernel.org,
 linux-stm32@st-md-mailman.stormreply.com, Jonathan Cameron <jic23@kernel.org>
Subject: Re: [Linux-stm32] [PATCH v2 4/5] spi: axi-spi-engine: move message
 compile to optimize_message
X-BeenThere: linux-stm32@st-md-mailman.stormreply.com
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: <linux-stm32.st-md-mailman.stormreply.com>
List-Unsubscribe: <https://st-md-mailman.stormreply.com/mailman/options/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=unsubscribe>
List-Archive: <http://st-md-mailman.stormreply.com/pipermail/linux-stm32/>
List-Post: <mailto:linux-stm32@st-md-mailman.stormreply.com>
List-Help: <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=help>
List-Subscribe: <https://st-md-mailman.stormreply.com/mailman/listinfo/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: linux-stm32-bounces@st-md-mailman.stormreply.com
Sender: "Linux-stm32" <linux-stm32-bounces@st-md-mailman.stormreply.com>

T24gTW9uLCAyMDI0LTAyLTE5IGF0IDE2OjMzIC0wNjAwLCBEYXZpZCBMZWNobmVyIHdyb3RlOgo+
IEluIHRoZSBBWEkgU1BJIEVuZ2luZSBkcml2ZXIsIGNvbXBpbGluZyB0aGUgbWVzc2FnZSBpcyBh
biBleHBlbnNpdmUKPiBvcGVyYXRpb24uIFByZXZpb3VzbHksIGl0IHdhcyBkb25lIHBlciBtZXNz
YWdlIHRyYW5zZmVyIGluIHRoZQo+IHByZXBhcmVfbWVzc2FnZSBob29rLiBUaGlzIHBhdGNoIG1v
dmVzIHRoZSBtZXNzYWdlIGNvbXBpbGUgdG8gdGhlCj4gb3B0aW1pemVfbWVzc2FnZSBob29rIHNv
IHRoYXQgaXQgaXMgb25seSBkb25lIG9uY2UgcGVyIG1lc3NhZ2UgaW4KPiBjYXNlcyB3aGVyZSB0
aGUgcGVyaXBoZXJhbCBkcml2ZXIgY2FsbHMgc3BpX29wdGltaXplX21lc3NhZ2UoKS4KPiAKPiBU
aGlzIGNhbiBiZSBhIHNpZ25pZmljYW50IHBlcmZvcm1hbmNlIGltcHJvdmVtZW50IGZvciBzb21l
IHBlcmlwaGVyYWxzLgo+IEZvciBleGFtcGxlLCB0aGUgYWQ3MzgwIGRyaXZlciBzYXcgYSAxMyUg
aW1wcm92ZW1lbnQgaW4gdGhyb3VnaHB1dAo+IHdoZW4gdXNpbmcgdGhlIEFYSSBTUEkgRW5naW5l
IGRyaXZlciB3aXRoIHRoaXMgcGF0Y2guCj4gCj4gU2luY2Ugd2Ugbm93IG5lZWQgdHdvIG1lc3Nh
Z2Ugc3RhdGVzLCBvbmUgZm9yIHRoZSBvcHRpbWl6YXRpb24gc3RhZ2UKPiB0aGF0IGRvZXNuJ3Qg
Y2hhbmdlIGZvciB0aGUgbGlmZXRpbWUgb2YgdGhlIG1lc3NhZ2UgYW5kIG9uZSB0aGF0IGlzCj4g
cmVzZXQgb24gZWFjaCB0cmFuc2ZlciBmb3IgbWFuYWdpbmcgdGhlIGN1cnJlbnQgdHJhbnNmZXIg
c3RhdGUsIHRoZSBvbGQKPiBtc2ctPnN0YXRlIGlzIHNwbGl0IGludG8gbXNnLT5vcHRfc3RhdGUg
YW5kIHNwaV9lbmdpbmUtPm1zZ19zdGF0ZS4gVGhlCj4gbGF0dGVyIGlzIGluY2x1ZGVkIGluIHRo
ZSBkcml2ZXIgc3RydWN0IG5vdyBzaW5jZSB0aGVyZSBpcyBvbmx5IG9uZQo+IGN1cnJlbnQgbWVz
c2FnZSBhdCBhIHRpbWUgdGhhdCBjYW4gZXZlciB1c2UgaXQgYW5kIGl0IGlzIGluIGEgaG90IHBh
dGgKPiBzbyBhdm9pZGluZyBhbGxvY2F0aW5nIGEgbmV3IG9uZSBvbiBlYWNoIG1lc3NhZ2UgdHJh
bnNmZXIgc2F2ZXMgYSBmZXcKPiBjcHUgY3ljbGVzIGFuZCBsZXRzIHVzIGdldCByaWQgb2YgdGhl
IHByZXBhcmVfbWVzc2FnZSBjYWxsYmFjay4KPiAKPiBTaWduZWQtb2ZmLWJ5OiBEYXZpZCBMZWNo
bmVyIDxkbGVjaG5lckBiYXlsaWJyZS5jb20+Cj4gLS0tCgpSZXZpZXdlZC1ieTogTnVubyBTYSA8
bnVuby5zYUBhbmFsb2cuY29tPgoKPiAKPiB2MiBjaGFuZ2VzOiBub25lCj4gCj4gwqBkcml2ZXJz
L3NwaS9zcGktYXhpLXNwaS1lbmdpbmUuYyB8IDQwICsrKysrKysrKysrKysrKysrLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0KPiDCoDEgZmlsZSBjaGFuZ2VkLCAxNyBpbnNlcnRpb25zKCspLCAyMyBk
ZWxldGlvbnMoLSkKPiAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9zcGkvc3BpLWF4aS1zcGktZW5n
aW5lLmMgYi9kcml2ZXJzL3NwaS9zcGktYXhpLXNwaS1lbmdpbmUuYwo+IGluZGV4IGNhNjZkMjAy
ZjBlMi4uNjE3N2MxYThkNTZlIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvc3BpL3NwaS1heGktc3Bp
LWVuZ2luZS5jCj4gKysrIGIvZHJpdmVycy9zcGkvc3BpLWF4aS1zcGktZW5naW5lLmMKPiBAQCAt
MTA5LDYgKzEwOSw3IEBAIHN0cnVjdCBzcGlfZW5naW5lIHsKPiDCoAlzcGlubG9ja190IGxvY2s7
Cj4gwqAKPiDCoAl2b2lkIF9faW9tZW0gKmJhc2U7Cj4gKwlzdHJ1Y3Qgc3BpX2VuZ2luZV9tZXNz
YWdlX3N0YXRlIG1zZ19zdGF0ZTsKPiDCoAlzdHJ1Y3QgY29tcGxldGlvbiBtc2dfY29tcGxldGU7
Cj4gwqAJdW5zaWduZWQgaW50IGludF9lbmFibGU7Cj4gwqB9Owo+IEBAIC00OTksMTcgKzUwMCwx
MSBAQCBzdGF0aWMgaXJxcmV0dXJuX3Qgc3BpX2VuZ2luZV9pcnEoaW50IGlycSwgdm9pZCAqZGV2
aWQpCj4gwqAJcmV0dXJuIElSUV9IQU5ETEVEOwo+IMKgfQo+IMKgCj4gLXN0YXRpYyBpbnQgc3Bp
X2VuZ2luZV9wcmVwYXJlX21lc3NhZ2Uoc3RydWN0IHNwaV9jb250cm9sbGVyICpob3N0LAo+IC0J
CQkJwqDCoMKgwqDCoCBzdHJ1Y3Qgc3BpX21lc3NhZ2UgKm1zZykKPiArc3RhdGljIGludCBzcGlf
ZW5naW5lX29wdGltaXplX21lc3NhZ2Uoc3RydWN0IHNwaV9tZXNzYWdlICptc2cpCj4gwqB7Cj4g
wqAJc3RydWN0IHNwaV9lbmdpbmVfcHJvZ3JhbSBwX2RyeSwgKnA7Cj4gLQlzdHJ1Y3Qgc3BpX2Vu
Z2luZV9tZXNzYWdlX3N0YXRlICpzdDsKPiDCoAlzaXplX3Qgc2l6ZTsKPiDCoAo+IC0Jc3QgPSBr
emFsbG9jKHNpemVvZigqc3QpLCBHRlBfS0VSTkVMKTsKPiAtCWlmICghc3QpCj4gLQkJcmV0dXJu
IC1FTk9NRU07Cj4gLQo+IMKgCXNwaV9lbmdpbmVfcHJlY29tcGlsZV9tZXNzYWdlKG1zZyk7Cj4g
wqAKPiDCoAlwX2RyeS5sZW5ndGggPSAwOwo+IEBAIC01MTcsMzEgKzUxMiwyMiBAQCBzdGF0aWMg
aW50IHNwaV9lbmdpbmVfcHJlcGFyZV9tZXNzYWdlKHN0cnVjdCBzcGlfY29udHJvbGxlcgo+ICpo
b3N0LAo+IMKgCj4gwqAJc2l6ZSA9IHNpemVvZigqcC0+aW5zdHJ1Y3Rpb25zKSAqIChwX2RyeS5s
ZW5ndGggKyAxKTsKPiDCoAlwID0ga3phbGxvYyhzaXplb2YoKnApICsgc2l6ZSwgR0ZQX0tFUk5F
TCk7Cj4gLQlpZiAoIXApIHsKPiAtCQlrZnJlZShzdCk7Cj4gKwlpZiAoIXApCj4gwqAJCXJldHVy
biAtRU5PTUVNOwo+IC0JfQo+IMKgCj4gwqAJc3BpX2VuZ2luZV9jb21waWxlX21lc3NhZ2UobXNn
LCBmYWxzZSwgcCk7Cj4gwqAKPiDCoAlzcGlfZW5naW5lX3Byb2dyYW1fYWRkX2NtZChwLCBmYWxz
ZSwgU1BJX0VOR0lORV9DTURfU1lOQygKPiDCoAkJCQkJCUFYSV9TUElfRU5HSU5FX0NVUl9NU0df
U1lOQ19JRCkpOwo+IMKgCj4gLQlzdC0+cCA9IHA7Cj4gLQlzdC0+Y21kX2J1ZiA9IHAtPmluc3Ry
dWN0aW9uczsKPiAtCXN0LT5jbWRfbGVuZ3RoID0gcC0+bGVuZ3RoOwo+IC0JbXNnLT5zdGF0ZSA9
IHN0Owo+ICsJbXNnLT5vcHRfc3RhdGUgPSBwOwo+IMKgCj4gwqAJcmV0dXJuIDA7Cj4gwqB9Cj4g
wqAKPiAtc3RhdGljIGludCBzcGlfZW5naW5lX3VucHJlcGFyZV9tZXNzYWdlKHN0cnVjdCBzcGlf
Y29udHJvbGxlciAqaG9zdCwKPiAtCQkJCQlzdHJ1Y3Qgc3BpX21lc3NhZ2UgKm1zZykKPiArc3Rh
dGljIGludCBzcGlfZW5naW5lX3Vub3B0aW1pemVfbWVzc2FnZShzdHJ1Y3Qgc3BpX21lc3NhZ2Ug
Km1zZykKPiDCoHsKPiAtCXN0cnVjdCBzcGlfZW5naW5lX21lc3NhZ2Vfc3RhdGUgKnN0ID0gbXNn
LT5zdGF0ZTsKPiAtCj4gLQlrZnJlZShzdC0+cCk7Cj4gLQlrZnJlZShzdCk7Cj4gKwlrZnJlZSht
c2ctPm9wdF9zdGF0ZSk7Cj4gwqAKPiDCoAlyZXR1cm4gMDsKPiDCoH0KPiBAQCAtNTUwLDEwICs1
MzYsMTggQEAgc3RhdGljIGludCBzcGlfZW5naW5lX3RyYW5zZmVyX29uZV9tZXNzYWdlKHN0cnVj
dAo+IHNwaV9jb250cm9sbGVyICpob3N0LAo+IMKgCXN0cnVjdCBzcGlfbWVzc2FnZSAqbXNnKQo+
IMKgewo+IMKgCXN0cnVjdCBzcGlfZW5naW5lICpzcGlfZW5naW5lID0gc3BpX2NvbnRyb2xsZXJf
Z2V0X2RldmRhdGEoaG9zdCk7Cj4gLQlzdHJ1Y3Qgc3BpX2VuZ2luZV9tZXNzYWdlX3N0YXRlICpz
dCA9IG1zZy0+c3RhdGU7Cj4gKwlzdHJ1Y3Qgc3BpX2VuZ2luZV9tZXNzYWdlX3N0YXRlICpzdCA9
ICZzcGlfZW5naW5lLT5tc2dfc3RhdGU7Cj4gKwlzdHJ1Y3Qgc3BpX2VuZ2luZV9wcm9ncmFtICpw
ID0gbXNnLT5vcHRfc3RhdGU7Cj4gwqAJdW5zaWduZWQgaW50IGludF9lbmFibGUgPSAwOwo+IMKg
CXVuc2lnbmVkIGxvbmcgZmxhZ3M7Cj4gwqAKPiArCS8qIHJlaW5pdGlhbGl6ZSBtZXNzYWdlIHN0
YXRlIGZvciB0aGlzIHRyYW5zZmVyICovCj4gKwltZW1zZXQoc3QsIDAsIHNpemVvZigqc3QpKTsK
PiArCXN0LT5wID0gcDsKPiArCXN0LT5jbWRfYnVmID0gcC0+aW5zdHJ1Y3Rpb25zOwo+ICsJc3Qt
PmNtZF9sZW5ndGggPSBwLT5sZW5ndGg7Cj4gKwltc2ctPnN0YXRlID0gc3Q7Cj4gKwo+IMKgCXJl
aW5pdF9jb21wbGV0aW9uKCZzcGlfZW5naW5lLT5tc2dfY29tcGxldGUpOwo+IMKgCj4gwqAJc3Bp
bl9sb2NrX2lycXNhdmUoJnNwaV9lbmdpbmUtPmxvY2ssIGZsYWdzKTsKPiBAQCAtNjU4LDggKzY1
Miw4IEBAIHN0YXRpYyBpbnQgc3BpX2VuZ2luZV9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNl
ICpwZGV2KQo+IMKgCWhvc3QtPmJpdHNfcGVyX3dvcmRfbWFzayA9IFNQSV9CUFdfUkFOR0VfTUFT
SygxLCAzMik7Cj4gwqAJaG9zdC0+bWF4X3NwZWVkX2h6ID0gY2xrX2dldF9yYXRlKHNwaV9lbmdp
bmUtPnJlZl9jbGspIC8gMjsKPiDCoAlob3N0LT50cmFuc2Zlcl9vbmVfbWVzc2FnZSA9IHNwaV9l
bmdpbmVfdHJhbnNmZXJfb25lX21lc3NhZ2U7Cj4gLQlob3N0LT5wcmVwYXJlX21lc3NhZ2UgPSBz
cGlfZW5naW5lX3ByZXBhcmVfbWVzc2FnZTsKPiAtCWhvc3QtPnVucHJlcGFyZV9tZXNzYWdlID0g
c3BpX2VuZ2luZV91bnByZXBhcmVfbWVzc2FnZTsKPiArCWhvc3QtPm9wdGltaXplX21lc3NhZ2Ug
PSBzcGlfZW5naW5lX29wdGltaXplX21lc3NhZ2U7Cj4gKwlob3N0LT51bm9wdGltaXplX21lc3Nh
Z2UgPSBzcGlfZW5naW5lX3Vub3B0aW1pemVfbWVzc2FnZTsKPiDCoAlob3N0LT5udW1fY2hpcHNl
bGVjdCA9IDg7Cj4gwqAKPiDCoAlpZiAoaG9zdC0+bWF4X3NwZWVkX2h6ID09IDApCj4gCgpfX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpMaW51eC1zdG0zMiBt
YWlsaW5nIGxpc3QKTGludXgtc3RtMzJAc3QtbWQtbWFpbG1hbi5zdG9ybXJlcGx5LmNvbQpodHRw
czovL3N0LW1kLW1haWxtYW4uc3Rvcm1yZXBseS5jb20vbWFpbG1hbi9saXN0aW5mby9saW51eC1z
dG0zMgo=
