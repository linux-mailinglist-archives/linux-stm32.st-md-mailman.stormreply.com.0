Return-Path: <linux-stm32-bounces@st-md-mailman.stormreply.com>
X-Original-To: lists+linux-stm32@lfdr.de
Delivered-To: lists+linux-stm32@lfdr.de
Received: from stm-ict-prod-mailman-01.stormreply.prv (st-md-mailman.stormreply.com [52.209.6.89])
	by mail.lfdr.de (Postfix) with ESMTPS id B27F4B5F77
	for <lists+linux-stm32@lfdr.de>; Wed, 18 Sep 2019 10:49:05 +0200 (CEST)
Received: from ip-172-31-3-76.eu-west-1.compute.internal (localhost [127.0.0.1])
	by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTP id 70816C35E01;
	Wed, 18 Sep 2019 08:49:05 +0000 (UTC)
Received: from mail-qk1-f193.google.com (mail-qk1-f193.google.com
 [209.85.222.193])
 (using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
 (No client certificate requested)
 by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTPS id 7A679C36B3E
 for <linux-stm32@st-md-mailman.stormreply.com>;
 Wed, 18 Sep 2019 08:49:03 +0000 (UTC)
Received: by mail-qk1-f193.google.com with SMTP id u184so7210707qkd.4
 for <linux-stm32@st-md-mailman.stormreply.com>;
 Wed, 18 Sep 2019 01:49:03 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=linaro.org; s=google;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=G5YbJWFGfh3PunxXFzgcpBaC8N6gVE+B9QKsVJivxZY=;
 b=D1AILnudmGYgiv6O0vqrHBIUC8fGqP21v5M2nIJSybEf8eNpSJm83VOozFQDs9j6Zu
 JdouMaFHOanSZq/NR8LQDrLSq5343LGwkvv4AZ4loO5yf/+6caCULzuaT7SijUJ+wXqD
 Pk8fPoxC5yDj2TXdh8aACnUKN+wSUXcU4htyf+JNcp1Q3921zB+uO2NUmm+TflmZvSK4
 2BoqGCl0IClrgba6sGoW95T0OcyYLALFFCFO0K46dVk/ZHhE4hkLmdr+DrwqiOt4qBhs
 dzeN4GEzr5cOhr5IZiKjFcDi+JHNlluVDZ4l/LYJlTFBGxjKaEbhdbg28BK4Nz1CVyso
 wtow==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=G5YbJWFGfh3PunxXFzgcpBaC8N6gVE+B9QKsVJivxZY=;
 b=ctvFPwsL4ZsN/2HeHSsH+idNEuhLBdnyfgkoO/jtJSYGOaMTrF2MD/j1Dl87szndqP
 0F4y6u3bccTloIGg4rvrD72pNfa5oss/psz8UWU7CucS80HKYFquy1dbPgLXnIg+XeMI
 NyKgYyqlA/rgR0AKswLVLgKbr0bqA2199aVTayii9MOjADzkMBh9mPxZ6CyJk2yBBx48
 QLTVWpu9DZK5r+DuACJhf5AdlbXyJSJRZOZyyNIjpD6xMhfky2/Vl5MABjS1GDIKMNnS
 olQ1TyFkAIFHVRncL4OQMqU6CHsRKW77tVIX1ktDqZX4Uv6FfyLCSfCX0E4GP+ppNAKh
 qYlg==
X-Gm-Message-State: APjAAAXar9RfFY5wkcnEOU8QjWSy+4Dxk4OGa0K4IksVsjMUTiAP6WHl
 bZnFZBheEp2ER63hrHyt8i2MNtofVqVW1tTtHJ55rw==
X-Google-Smtp-Source: APXvYqy6epwJY7MhGtovSNnXDgOF3DzUxJAuMiuZYv0/5SaRC9poymus+HIxyCOScdZgFRZnhwGO9IGsB5+2H3SgsjM=
X-Received: by 2002:a37:7086:: with SMTP id l128mr2718999qkc.433.1568796542176; 
 Wed, 18 Sep 2019 01:49:02 -0700 (PDT)
MIME-Version: 1.0
References: <cover.1568792697.git.vilhelm.gray@gmail.com>
 <f7969048e5db977cc6cc9daa8d32b170cf9f4c17.1568792697.git.vilhelm.gray@gmail.com>
In-Reply-To: <f7969048e5db977cc6cc9daa8d32b170cf9f4c17.1568792697.git.vilhelm.gray@gmail.com>
From: Benjamin Gaignard <benjamin.gaignard@linaro.org>
Date: Wed, 18 Sep 2019 10:48:51 +0200
Message-ID: <CA+M3ks45XTRjED2+2FAwcaG96YSszu2BZshTA7DSGscQQzAOFQ@mail.gmail.com>
To: William Breathitt Gray <vilhelm.gray@gmail.com>
Cc: Jonathan Cameron <jic23@jic23.retrosnub.co.uk>, linux-iio@vger.kernel.org,
 Patrick Havelange <patrick.havelange@essensium.com>,
 Linux Kernel Mailing List <linux-kernel@vger.kernel.org>,
 Maxime Coquelin <mcoquelin.stm32@gmail.com>,
 Fabrice Gasnier <fabrice.gasnier@st.com>,
 linux-stm32@st-md-mailman.stormreply.com,
 Linux ARM <linux-arm-kernel@lists.infradead.org>
Subject: Re: [Linux-stm32] [PATCH v2 1/7] counter: Simplify the count_read
	and count_write callbacks
X-BeenThere: linux-stm32@st-md-mailman.stormreply.com
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: <linux-stm32.st-md-mailman.stormreply.com>
List-Unsubscribe: <https://st-md-mailman.stormreply.com/mailman/options/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=unsubscribe>
List-Archive: <http://st-md-mailman.stormreply.com/pipermail/linux-stm32/>
List-Post: <mailto:linux-stm32@st-md-mailman.stormreply.com>
List-Help: <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=help>
List-Subscribe: <https://st-md-mailman.stormreply.com/mailman/listinfo/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: linux-stm32-bounces@st-md-mailman.stormreply.com
Sender: "Linux-stm32" <linux-stm32-bounces@st-md-mailman.stormreply.com>

TGUgbWVyLiAxOCBzZXB0LiAyMDE5IMOgIDA5OjUzLCBXaWxsaWFtIEJyZWF0aGl0dCBHcmF5Cjx2
aWxoZWxtLmdyYXlAZ21haWwuY29tPiBhIMOpY3JpdCA6Cj4KPiBUaGUgY291bnRfcmVhZCBhbmQg
Y291bnRfd3JpdGUgY2FsbGJhY2tzIGFyZSBzaW1wbGlmaWVkIHRvIHBhc3MgdmFsIGFzCj4gdW5z
aWduZWQgbG9uZyByYXRoZXIgdGhhbiBhcyBhbiBvcGFxdWUgZGF0YSBzdHJ1Y3R1cmUuIFRoZSBv
cGFxdWUKPiBjb3VudGVyX2NvdW50X3JlYWRfdmFsdWUgYW5kIGNvdW50ZXJfY291bnRfd3JpdGVf
dmFsdWUgc3RydWN0dXJlcywKPiBjb3VudGVyX2NvdW50X3ZhbHVlX3R5cGUgZW51bSwgYW5kIHJl
bGV2YW50IGNvdW50ZXJfY291bnRfcmVhZF92YWx1ZV9zZXQKPiBhbmQgY291bnRlcl9jb3VudF93
cml0ZV92YWx1ZV9nZXQgZnVuY3Rpb25zLCBhcmUgcmVtb3ZlZCBhcyB0aGV5IGFyZSBubwo+IGxv
bmdlciB1c2VkLgo+Cj4gU2lnbmVkLW9mZi1ieTogV2lsbGlhbSBCcmVhdGhpdHQgR3JheSA8dmls
aGVsbS5ncmF5QGdtYWlsLmNvbT4KCkhpIFdpbGxpYW0sCgpUaGlzIGZpcnN0IHBhdGNoIGJyZWFr
IHRoZSBjb21waWxhdGlvbiBiZWNhdXNlIHlvdSByZW1vdmUgc29tZQpzdHJ1Y3R1cmUgbmVlZGVk
IGZvciB0aGUgZHJpdmVycy4KWW91IHNob3VsZCBtZXJnZSBhbGwgdGhlIHNlcmllIGluIDEgcGF0
Y2ggdG8gYXZvaWQgdGhhdC4KCkJlbmphbWluCgo+IC0tLQo+ICBkcml2ZXJzL2NvdW50ZXIvY291
bnRlci5jIHwgNjYgKysrKystLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCj4gIGlu
Y2x1ZGUvbGludXgvY291bnRlci5oICAgfCA0MyArKystLS0tLS0tLS0tLS0tLS0tLS0tLS0tCj4g
IDIgZmlsZXMgY2hhbmdlZCwgMTIgaW5zZXJ0aW9ucygrKSwgOTcgZGVsZXRpb25zKC0pCj4KPiBk
aWZmIC0tZ2l0IGEvZHJpdmVycy9jb3VudGVyL2NvdW50ZXIuYyBiL2RyaXZlcnMvY291bnRlci9j
b3VudGVyLmMKPiBpbmRleCAxMDZiYzcxODBjZDguLjFkMDhmMTQzN2IxYiAxMDA2NDQKPiAtLS0g
YS9kcml2ZXJzL2NvdW50ZXIvY291bnRlci5jCj4gKysrIGIvZHJpdmVycy9jb3VudGVyL2NvdW50
ZXIuYwo+IEBAIC0yNDYsNjAgKzI0Niw2IEBAIHZvaWQgY291bnRlcl9zaWduYWxfcmVhZF92YWx1
ZV9zZXQoc3RydWN0IGNvdW50ZXJfc2lnbmFsX3JlYWRfdmFsdWUgKmNvbnN0IHZhbCwKPiAgfQo+
ICBFWFBPUlRfU1lNQk9MX0dQTChjb3VudGVyX3NpZ25hbF9yZWFkX3ZhbHVlX3NldCk7Cj4KPiAt
LyoqCj4gLSAqIGNvdW50ZXJfY291bnRfcmVhZF92YWx1ZV9zZXQgLSBzZXQgY291bnRlcl9jb3Vu
dF9yZWFkX3ZhbHVlIGRhdGEKPiAtICogQHZhbDogICAgICAgY291bnRlcl9jb3VudF9yZWFkX3Zh
bHVlIHN0cnVjdHVyZSB0byBzZXQKPiAtICogQHR5cGU6ICAgICAgcHJvcGVydHkgQ291bnQgZGF0
YSByZXByZXNlbnRzCj4gLSAqIEBkYXRhOiAgICAgIENvdW50IGRhdGEKPiAtICoKPiAtICogVGhp
cyBmdW5jdGlvbiBzZXRzIGFuIG9wYXF1ZSBjb3VudGVyX2NvdW50X3JlYWRfdmFsdWUgc3RydWN0
dXJlIHdpdGggdGhlCj4gLSAqIHByb3ZpZGVkIENvdW50IGRhdGEuCj4gLSAqLwo+IC12b2lkIGNv
dW50ZXJfY291bnRfcmVhZF92YWx1ZV9zZXQoc3RydWN0IGNvdW50ZXJfY291bnRfcmVhZF92YWx1
ZSAqY29uc3QgdmFsLAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBl
bnVtIGNvdW50ZXJfY291bnRfdmFsdWVfdHlwZSB0eXBlLAo+IC0gICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICB2b2lkICpjb25zdCBkYXRhKQo+IC17Cj4gLSAgICAgICBzd2l0Y2ggKHR5
cGUpIHsKPiAtICAgICAgIGNhc2UgQ09VTlRFUl9DT1VOVF9QT1NJVElPTjoKPiAtICAgICAgICAg
ICAgICAgdmFsLT5sZW4gPSBzcHJpbnRmKHZhbC0+YnVmLCAiJWx1XG4iLCAqKHVuc2lnbmVkIGxv
bmcgKilkYXRhKTsKPiAtICAgICAgICAgICAgICAgYnJlYWs7Cj4gLSAgICAgICBkZWZhdWx0Ogo+
IC0gICAgICAgICAgICAgICB2YWwtPmxlbiA9IDA7Cj4gLSAgICAgICB9Cj4gLX0KPiAtRVhQT1JU
X1NZTUJPTF9HUEwoY291bnRlcl9jb3VudF9yZWFkX3ZhbHVlX3NldCk7Cj4gLQo+IC0vKioKPiAt
ICogY291bnRlcl9jb3VudF93cml0ZV92YWx1ZV9nZXQgLSBnZXQgY291bnRlcl9jb3VudF93cml0
ZV92YWx1ZSBkYXRhCj4gLSAqIEBkYXRhOiAgICAgIENvdW50IGRhdGEKPiAtICogQHR5cGU6ICAg
ICAgcHJvcGVydHkgQ291bnQgZGF0YSByZXByZXNlbnRzCj4gLSAqIEB2YWw6ICAgICAgIGNvdW50
ZXJfY291bnRfd3JpdGVfdmFsdWUgc3RydWN0dXJlIGNvbnRhaW5pbmcgZGF0YQo+IC0gKgo+IC0g
KiBUaGlzIGZ1bmN0aW9uIGV4dHJhY3RzIENvdW50IGRhdGEgZnJvbSB0aGUgcHJvdmlkZWQgb3Bh
cXVlCj4gLSAqIGNvdW50ZXJfY291bnRfd3JpdGVfdmFsdWUgc3RydWN0dXJlIGFuZCBzdG9yZXMg
aXQgYXQgdGhlIGFkZHJlc3MgcHJvdmlkZWQgYnkKPiAtICogQGRhdGEuCj4gLSAqCj4gLSAqIFJF
VFVSTlM6Cj4gLSAqIDAgb24gc3VjY2VzcywgbmVnYXRpdmUgZXJyb3IgbnVtYmVyIG9uIGZhaWx1
cmUuCj4gLSAqLwo+IC1pbnQgY291bnRlcl9jb3VudF93cml0ZV92YWx1ZV9nZXQodm9pZCAqY29u
c3QgZGF0YSwKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW51bSBj
b3VudGVyX2NvdW50X3ZhbHVlX3R5cGUgdHlwZSwKPiAtICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgY29uc3Qgc3RydWN0IGNvdW50ZXJfY291bnRfd3JpdGVfdmFsdWUgKmNvbnN0IHZh
bCkKPiAtewo+IC0gICAgICAgaW50IGVycjsKPiAtCj4gLSAgICAgICBzd2l0Y2ggKHR5cGUpIHsK
PiAtICAgICAgIGNhc2UgQ09VTlRFUl9DT1VOVF9QT1NJVElPTjoKPiAtICAgICAgICAgICAgICAg
ZXJyID0ga3N0cnRvdWwodmFsLT5idWYsIDAsIGRhdGEpOwo+IC0gICAgICAgICAgICAgICBpZiAo
ZXJyKQo+IC0gICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlcnI7Cj4gLSAgICAgICAgICAg
ICAgIGJyZWFrOwo+IC0gICAgICAgfQo+IC0KPiAtICAgICAgIHJldHVybiAwOwo+IC19Cj4gLUVY
UE9SVF9TWU1CT0xfR1BMKGNvdW50ZXJfY291bnRfd3JpdGVfdmFsdWVfZ2V0KTsKPiAtCj4gIHN0
cnVjdCBjb3VudGVyX2F0dHJfcGFybSB7Cj4gICAgICAgICBzdHJ1Y3QgY291bnRlcl9kZXZpY2Vf
YXR0cl9ncm91cCAqZ3JvdXA7Cj4gICAgICAgICBjb25zdCBjaGFyICpwcmVmaXg7Cj4gQEAgLTc4
OCwxMyArNzM0LDEzIEBAIHN0YXRpYyBzc2l6ZV90IGNvdW50ZXJfY291bnRfc2hvdyhzdHJ1Y3Qg
ZGV2aWNlICpkZXYsCj4gICAgICAgICBjb25zdCBzdHJ1Y3QgY291bnRlcl9jb3VudF91bml0ICpj
b25zdCBjb21wb25lbnQgPSBkZXZhdHRyLT5jb21wb25lbnQ7Cj4gICAgICAgICBzdHJ1Y3QgY291
bnRlcl9jb3VudCAqY29uc3QgY291bnQgPSBjb21wb25lbnQtPmNvdW50Owo+ICAgICAgICAgaW50
IGVycjsKPiAtICAgICAgIHN0cnVjdCBjb3VudGVyX2NvdW50X3JlYWRfdmFsdWUgdmFsID0geyAu
YnVmID0gYnVmIH07Cj4gKyAgICAgICB1bnNpZ25lZCBsb25nIHZhbDsKPgo+ICAgICAgICAgZXJy
ID0gY291bnRlci0+b3BzLT5jb3VudF9yZWFkKGNvdW50ZXIsIGNvdW50LCAmdmFsKTsKPiAgICAg
ICAgIGlmIChlcnIpCj4gICAgICAgICAgICAgICAgIHJldHVybiBlcnI7Cj4KPiAtICAgICAgIHJl
dHVybiB2YWwubGVuOwo+ICsgICAgICAgcmV0dXJuIHNwcmludGYoYnVmLCAiJWx1XG4iLCB2YWwp
Owo+ICB9Cj4KPiAgc3RhdGljIHNzaXplX3QgY291bnRlcl9jb3VudF9zdG9yZShzdHJ1Y3QgZGV2
aWNlICpkZXYsCj4gQEAgLTgwNiw5ICs3NTIsMTMgQEAgc3RhdGljIHNzaXplX3QgY291bnRlcl9j
b3VudF9zdG9yZShzdHJ1Y3QgZGV2aWNlICpkZXYsCj4gICAgICAgICBjb25zdCBzdHJ1Y3QgY291
bnRlcl9jb3VudF91bml0ICpjb25zdCBjb21wb25lbnQgPSBkZXZhdHRyLT5jb21wb25lbnQ7Cj4g
ICAgICAgICBzdHJ1Y3QgY291bnRlcl9jb3VudCAqY29uc3QgY291bnQgPSBjb21wb25lbnQtPmNv
dW50Owo+ICAgICAgICAgaW50IGVycjsKPiAtICAgICAgIHN0cnVjdCBjb3VudGVyX2NvdW50X3dy
aXRlX3ZhbHVlIHZhbCA9IHsgLmJ1ZiA9IGJ1ZiB9Owo+ICsgICAgICAgdW5zaWduZWQgbG9uZyB2
YWw7Cj4gKwo+ICsgICAgICAgZXJyID0ga3N0cnRvdWwoYnVmLCAwLCAmdmFsKTsKPiArICAgICAg
IGlmIChlcnIpCj4gKyAgICAgICAgICAgICAgIHJldHVybiBlcnI7Cj4KPiAtICAgICAgIGVyciA9
IGNvdW50ZXItPm9wcy0+Y291bnRfd3JpdGUoY291bnRlciwgY291bnQsICZ2YWwpOwo+ICsgICAg
ICAgZXJyID0gY291bnRlci0+b3BzLT5jb3VudF93cml0ZShjb3VudGVyLCBjb3VudCwgdmFsKTsK
PiAgICAgICAgIGlmIChlcnIpCj4gICAgICAgICAgICAgICAgIHJldHVybiBlcnI7Cj4KPiBkaWZm
IC0tZ2l0IGEvaW5jbHVkZS9saW51eC9jb3VudGVyLmggYi9pbmNsdWRlL2xpbnV4L2NvdW50ZXIu
aAo+IGluZGV4IGEwNjFjZGNkZWY3Yy4uN2U0MDc5NjU5OGE2IDEwMDY0NAo+IC0tLSBhL2luY2x1
ZGUvbGludXgvY291bnRlci5oCj4gKysrIGIvaW5jbHVkZS9saW51eC9jb3VudGVyLmgKPiBAQCAt
MzAwLDI0ICszMDAsNiBAQCBzdHJ1Y3QgY291bnRlcl9zaWduYWxfcmVhZF92YWx1ZSB7Cj4gICAg
ICAgICBzaXplX3QgbGVuOwo+ICB9Owo+Cj4gLS8qKgo+IC0gKiBzdHJ1Y3QgY291bnRlcl9jb3Vu
dF9yZWFkX3ZhbHVlIC0gT3BhcXVlIENvdW50IHJlYWQgdmFsdWUKPiAtICogQGJ1ZjogICAgICAg
c3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIENvdW50IHJlYWQgdmFsdWUKPiAtICogQGxlbjogICAg
ICAgbGVuZ3RoIG9mIHN0cmluZyBpbiBAYnVmCj4gLSAqLwo+IC1zdHJ1Y3QgY291bnRlcl9jb3Vu
dF9yZWFkX3ZhbHVlIHsKPiAtICAgICAgIGNoYXIgKmJ1ZjsKPiAtICAgICAgIHNpemVfdCBsZW47
Cj4gLX07Cj4gLQo+IC0vKioKPiAtICogc3RydWN0IGNvdW50ZXJfY291bnRfd3JpdGVfdmFsdWUg
LSBPcGFxdWUgQ291bnQgd3JpdGUgdmFsdWUKPiAtICogQGJ1ZjogICAgICAgc3RyaW5nIHJlcHJl
c2VudGF0aW9uIG9mIENvdW50IHdyaXRlIHZhbHVlCj4gLSAqLwo+IC1zdHJ1Y3QgY291bnRlcl9j
b3VudF93cml0ZV92YWx1ZSB7Cj4gLSAgICAgICBjb25zdCBjaGFyICpidWY7Cj4gLX07Cj4gLQo+
ICAvKioKPiAgICogc3RydWN0IGNvdW50ZXJfb3BzIC0gQ2FsbGJhY2tzIGZyb20gZHJpdmVyCj4g
ICAqIEBzaWduYWxfcmVhZDogICAgICAgb3B0aW9uYWwgcmVhZCBjYWxsYmFjayBmb3IgU2lnbmFs
IGF0dHJpYnV0ZS4gVGhlIHJlYWQKPiBAQCAtMzI4LDE1ICszMTAsMTAgQEAgc3RydWN0IGNvdW50
ZXJfY291bnRfd3JpdGVfdmFsdWUgewo+ICAgKiAgICAgICAgICAgICAgICAgICAgIHNpZ25hbF9y
ZWFkIGNhbGxiYWNrLgo+ICAgKiBAY291bnRfcmVhZDogICAgICAgICAgICAgICAgb3B0aW9uYWwg
cmVhZCBjYWxsYmFjayBmb3IgQ291bnQgYXR0cmlidXRlLiBUaGUgcmVhZAo+ICAgKiAgICAgICAg
ICAgICAgICAgICAgIHZhbHVlIG9mIHRoZSByZXNwZWN0aXZlIENvdW50IHNob3VsZCBiZSBwYXNz
ZWQgYmFjayB2aWEKPiAtICogICAgICAgICAgICAgICAgICAgICB0aGUgdmFsIHBhcmFtZXRlci4g
dmFsIHBvaW50cyB0byBhbiBvcGFxdWUgdHlwZSB3aGljaAo+IC0gKiAgICAgICAgICAgICAgICAg
ICAgIHNob3VsZCBiZSBzZXQgb25seSBieSBjYWxsaW5nIHRoZQo+IC0gKiAgICAgICAgICAgICAg
ICAgICAgIGNvdW50ZXJfY291bnRfcmVhZF92YWx1ZV9zZXQgZnVuY3Rpb24gZnJvbSB3aXRoaW4g
dGhlCj4gLSAqICAgICAgICAgICAgICAgICAgICAgY291bnRfcmVhZCBjYWxsYmFjay4KPiArICog
ICAgICAgICAgICAgICAgICAgICB0aGUgdmFsIHBhcmFtZXRlci4KPiAgICogQGNvdW50X3dyaXRl
OiAgICAgICBvcHRpb25hbCB3cml0ZSBjYWxsYmFjayBmb3IgQ291bnQgYXR0cmlidXRlLiBUaGUg
d3JpdGUKPiAgICogICAgICAgICAgICAgICAgICAgICB2YWx1ZSBmb3IgdGhlIHJlc3BlY3RpdmUg
Q291bnQgaXMgcGFzc2VkIGluIHZpYSB0aGUgdmFsCj4gLSAqICAgICAgICAgICAgICAgICAgICAg
cGFyYW1ldGVyLiB2YWwgcG9pbnRzIHRvIGFuIG9wYXF1ZSB0eXBlIHdoaWNoIHNob3VsZCBiZQo+
IC0gKiAgICAgICAgICAgICAgICAgICAgIGFjY2Vzc2VkIG9ubHkgYnkgY2FsbGluZyB0aGUKPiAt
ICogICAgICAgICAgICAgICAgICAgICBjb3VudGVyX2NvdW50X3dyaXRlX3ZhbHVlX2dldCBmdW5j
dGlvbi4KPiArICogICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXIuCj4gICAqIEBmdW5jdGlv
bl9nZXQ6ICAgICAgZnVuY3Rpb24gdG8gZ2V0IHRoZSBjdXJyZW50IGNvdW50IGZ1bmN0aW9uIG1v
ZGUuIFJldHVybnMKPiAgICogICAgICAgICAgICAgICAgICAgICAwIG9uIHN1Y2Nlc3MgYW5kIG5l
Z2F0aXZlIGVycm9yIGNvZGUgb24gZXJyb3IuIFRoZSBpbmRleAo+ICAgKiAgICAgICAgICAgICAg
ICAgICAgIG9mIHRoZSByZXNwZWN0aXZlIENvdW50J3MgcmV0dXJuZWQgZnVuY3Rpb24gbW9kZSBz
aG91bGQKPiBAQCAtMzU3LDExICszMzQsOSBAQCBzdHJ1Y3QgY291bnRlcl9vcHMgewo+ICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBjb3VudGVyX3NpZ25hbCAqc2lnbmFsLAo+ICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBjb3VudGVyX3NpZ25hbF9yZWFkX3ZhbHVl
ICp2YWwpOwo+ICAgICAgICAgaW50ICgqY291bnRfcmVhZCkoc3RydWN0IGNvdW50ZXJfZGV2aWNl
ICpjb3VudGVyLAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGNvdW50ZXJfY291
bnQgKmNvdW50LAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGNvdW50ZXJfY291
bnRfcmVhZF92YWx1ZSAqdmFsKTsKPiArICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBj
b3VudGVyX2NvdW50ICpjb3VudCwgdW5zaWduZWQgbG9uZyAqdmFsKTsKPiAgICAgICAgIGludCAo
KmNvdW50X3dyaXRlKShzdHJ1Y3QgY291bnRlcl9kZXZpY2UgKmNvdW50ZXIsCj4gLSAgICAgICAg
ICAgICAgICAgICAgICAgICAgc3RydWN0IGNvdW50ZXJfY291bnQgKmNvdW50LAo+IC0gICAgICAg
ICAgICAgICAgICAgICAgICAgIHN0cnVjdCBjb3VudGVyX2NvdW50X3dyaXRlX3ZhbHVlICp2YWwp
Owo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBjb3VudGVyX2NvdW50ICpjb3Vu
dCwgdW5zaWduZWQgbG9uZyB2YWwpOwo+ICAgICAgICAgaW50ICgqZnVuY3Rpb25fZ2V0KShzdHJ1
Y3QgY291bnRlcl9kZXZpY2UgKmNvdW50ZXIsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHN0cnVjdCBjb3VudGVyX2NvdW50ICpjb3VudCwgc2l6ZV90ICpmdW5jdGlvbik7Cj4gICAgICAg
ICBpbnQgKCpmdW5jdGlvbl9zZXQpKHN0cnVjdCBjb3VudGVyX2RldmljZSAqY291bnRlciwKPiBA
QCAtNDg2LDE5ICs0NjEsOSBAQCBlbnVtIGNvdW50ZXJfc2lnbmFsX3ZhbHVlX3R5cGUgewo+ICAg
ICAgICAgQ09VTlRFUl9TSUdOQUxfTEVWRUwgPSAwCj4gIH07Cj4KPiAtZW51bSBjb3VudGVyX2Nv
dW50X3ZhbHVlX3R5cGUgewo+IC0gICAgICAgQ09VTlRFUl9DT1VOVF9QT1NJVElPTiA9IDAsCj4g
LX07Cj4gLQo+ICB2b2lkIGNvdW50ZXJfc2lnbmFsX3JlYWRfdmFsdWVfc2V0KHN0cnVjdCBjb3Vu
dGVyX3NpZ25hbF9yZWFkX3ZhbHVlICpjb25zdCB2YWwsCj4gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBjb25zdCBlbnVtIGNvdW50ZXJfc2lnbmFsX3ZhbHVlX3R5cGUgdHlwZSwK
PiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgKmNvbnN0IGRhdGEpOwo+
IC12b2lkIGNvdW50ZXJfY291bnRfcmVhZF92YWx1ZV9zZXQoc3RydWN0IGNvdW50ZXJfY291bnRf
cmVhZF92YWx1ZSAqY29uc3QgdmFsLAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBjb25zdCBlbnVtIGNvdW50ZXJfY291bnRfdmFsdWVfdHlwZSB0eXBlLAo+IC0gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICB2b2lkICpjb25zdCBkYXRhKTsKPiAtaW50IGNvdW50ZXJf
Y291bnRfd3JpdGVfdmFsdWVfZ2V0KHZvaWQgKmNvbnN0IGRhdGEsCj4gLSAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGNvbnN0IGVudW0gY291bnRlcl9jb3VudF92YWx1ZV90eXBlIHR5
cGUsCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cnVjdCBjb3Vu
dGVyX2NvdW50X3dyaXRlX3ZhbHVlICpjb25zdCB2YWwpOwo+Cj4gIGludCBjb3VudGVyX3JlZ2lz
dGVyKHN0cnVjdCBjb3VudGVyX2RldmljZSAqY29uc3QgY291bnRlcik7Cj4gIHZvaWQgY291bnRl
cl91bnJlZ2lzdGVyKHN0cnVjdCBjb3VudGVyX2RldmljZSAqY29uc3QgY291bnRlcik7Cj4gLS0K
PiAyLjIzLjAKPgo+Cj4gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18KPiBsaW51eC1hcm0ta2VybmVsIG1haWxpbmcgbGlzdAo+IGxpbnV4LWFybS1rZXJuZWxA
bGlzdHMuaW5mcmFkZWFkLm9yZwo+IGh0dHA6Ly9saXN0cy5pbmZyYWRlYWQub3JnL21haWxtYW4v
bGlzdGluZm8vbGludXgtYXJtLWtlcm5lbApfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fXwpMaW51eC1zdG0zMiBtYWlsaW5nIGxpc3QKTGludXgtc3RtMzJAc3Qt
bWQtbWFpbG1hbi5zdG9ybXJlcGx5LmNvbQpodHRwczovL3N0LW1kLW1haWxtYW4uc3Rvcm1yZXBs
eS5jb20vbWFpbG1hbi9saXN0aW5mby9saW51eC1zdG0zMgo=
