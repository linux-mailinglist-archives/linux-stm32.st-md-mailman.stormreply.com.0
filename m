Return-Path: <linux-stm32-bounces@st-md-mailman.stormreply.com>
X-Original-To: lists+linux-stm32@lfdr.de
Delivered-To: lists+linux-stm32@lfdr.de
Received: from stm-ict-prod-mailman-01.stormreply.prv (st-md-mailman.stormreply.com [52.209.6.89])
	by mail.lfdr.de (Postfix) with ESMTPS id 8BF06AC7AB0
	for <lists+linux-stm32@lfdr.de>; Thu, 29 May 2025 11:07:37 +0200 (CEST)
Received: from ip-172-31-3-47.eu-west-1.compute.internal (localhost [127.0.0.1])
	by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTP id 511B6C32E8E;
	Thu, 29 May 2025 09:07:37 +0000 (UTC)
Received: from relay1-d.mail.gandi.net (relay1-d.mail.gandi.net
 [217.70.183.193])
 (using TLSv1.2 with cipher ADH-AES256-GCM-SHA384 (256/256 bits))
 (No client certificate requested)
 by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTPS id 36B69C349C5
 for <linux-stm32@st-md-mailman.stormreply.com>;
 Thu, 29 May 2025 09:07:34 +0000 (UTC)
Received: by mail.gandi.net (Postfix) with ESMTPSA id F30EB432D3;
 Thu, 29 May 2025 09:07:32 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=bootlin.com; s=gm1;
 t=1748509653;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=sZ5g3I4d37jxzucB0S/BPKc0rUivwWTnKR29i4Eh0CA=;
 b=GaPZpePNw8prIZNu615qj2NhtPPgDuotlWnLtfK9GciP0L/HMGKJmp4FcRVimc19LNoCMk
 E2apjGAw+tRO/kImXPRfT8tPyVJW+CBl5rii9heI2tD/UyC9mqWmLdaZhNu/19DAHN5o53
 Xp3ZFZZIgELwmgdUNCp0SoxBPIa1QcRcx6IROnpwjV4j+Df6LaxigZqWMgclPYUVhDAp2/
 wAAJ4/zCkb0EZpBGJ5LZcR+nBydiJgkVzaKrW8zHVaheCVlZ0yqqW1SW3ZG/YHSogunXy/
 o6B9X7ZtmmSonLPAbdB46yXjspTPWQiCrYFjp+n38HOHrxYZTUN3+257hx8jTA==
From: =?utf-8?q?Alexis_Lothor=C3=A9?= <alexis.lothore@bootlin.com>
Date: Thu, 29 May 2025 11:07:23 +0200
MIME-Version: 1.0
Message-Id: <20250529-stmmac_tstamp_div-v4-1-d73340a794d5@bootlin.com>
References: <20250529-stmmac_tstamp_div-v4-0-d73340a794d5@bootlin.com>
In-Reply-To: <20250529-stmmac_tstamp_div-v4-0-d73340a794d5@bootlin.com>
To: Alexandre Torgue <alexandre.torgue@foss.st.com>, 
 Jose Abreu <joabreu@synopsys.com>, Andrew Lunn <andrew+netdev@lunn.ch>, 
 "David S. Miller" <davem@davemloft.net>, Eric Dumazet <edumazet@google.com>, 
 Jakub Kicinski <kuba@kernel.org>, Paolo Abeni <pabeni@redhat.com>, 
 Maxime Coquelin <mcoquelin.stm32@gmail.com>, 
 Richard Cochran <richardcochran@gmail.com>, 
 Phil Reid <preid@electromag.com.au>
X-Mailer: b4 0.14.2
X-GND-State: clean
X-GND-Score: -100
X-GND-Cause: gggruggvucftvghtrhhoucdtuddrgeeffedrtddtgddvheejfeculddtuddrgeefvddrtddtmdcutefuodetggdotefrodftvfcurfhrohhfihhlvgemucfitefpfffkpdcuggftfghnshhusghstghrihgsvgenuceurghilhhouhhtmecufedtudenucesvcftvggtihhpihgvnhhtshculddquddttddmnecujfgurhephfffufggtgfgkfhfjgfvvefosehtkeertdertdejnecuhfhrohhmpeetlhgvgihishcunfhothhhohhrrocuoegrlhgvgihishdrlhhothhhohhrvgessghoohhtlhhinhdrtghomheqnecuggftrfgrthhtvghrnhepgeevgefhteffuefhheekkeelffffvdeugffgveejffdtvdffudehtedtieevteetnecukfhppedvrgdtvdemkeegvdekmehfleegtgemvgdttdemmehfkeehnecuvehluhhsthgvrhfuihiivgepvdenucfrrghrrghmpehinhgvthepvdgrtddvmeekgedvkeemfhelgegtmegvtddtmeemfhekhedphhgvlhhopegludelvddrudeikedruddrvddtkegnpdhmrghilhhfrhhomheprghlvgigihhsrdhlohhthhhorhgvsegsohhothhlihhnrdgtohhmpdhnsggprhgtphhtthhopeduledprhgtphhtthhopehrihgthhgrrhgutghotghhrhgrnhesghhmrghilhdrtghomhdprhgtphhtthhopehmtghoqhhuvghlihhnrdhsthhmfedvsehgmhgrihhlrdgtohhmpdhrtghpthhtohepmhgrgihimhgvrdgthhgvvhgrlhhlihgvrhessghoohhtlhhinhdrtghomhdprhgtphhtthhop
 ehkuhgsrgeskhgvrhhnvghlrdhorhhgpdhrtghpthhtoheplfhoshgvrdetsghrvghusehshihnohhpshihshdrtghomhdprhgtphhtthhopehprggsvghnihesrhgvughhrghtrdgtohhmpdhrtghpthhtohepjhhorggsrhgvuhesshihnhhophhshihsrdgtohhmpdhrtghpthhtohepnhgvthguvghvsehvghgvrhdrkhgvrhhnvghlrdhorhhg
X-GND-Sasl: alexis.lothore@bootlin.com
Cc: Jose Abreu <Jose.Abreu@synopsys.com>, netdev@vger.kernel.org,
 Yanteng Si <si.yanteng@linux.dev>, linux-kernel@vger.kernel.org,
 =?utf-8?q?Alexis_Lothor=C3=A9?= <alexis.lothore@bootlin.com>,
 Thomas Petazzoni <thomas.petazzoni@bootlin.com>,
 linux-stm32@st-md-mailman.stormreply.com, linux-arm-kernel@lists.infradead.org
Subject: [Linux-stm32] [PATCH v4 1/2] net: stmmac: make sure that ptp_rate
 is not 0 before configuring timestamping
X-BeenThere: linux-stm32@st-md-mailman.stormreply.com
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: <linux-stm32.st-md-mailman.stormreply.com>
List-Unsubscribe: <https://st-md-mailman.stormreply.com/mailman/options/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=unsubscribe>
List-Archive: <http://st-md-mailman.stormreply.com/pipermail/linux-stm32/>
List-Post: <mailto:linux-stm32@st-md-mailman.stormreply.com>
List-Help: <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=help>
List-Subscribe: <https://st-md-mailman.stormreply.com/mailman/listinfo/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: linux-stm32-bounces@st-md-mailman.stormreply.com
Sender: "Linux-stm32" <linux-stm32-bounces@st-md-mailman.stormreply.com>

VGhlIHN0bW1hYyBwbGF0Zm9ybSBkcml2ZXJzIHRoYXQgZG8gbm90IG9wZW4tY29kZSB0aGUgY2xr
X3B0cF9yYXRlIHZhbHVlCmFmdGVyIGhhdmluZyByZXRyaWV2ZWQgdGhlIGRlZmF1bHQgb25lIGZy
b20gdGhlIGRldmljZS10cmVlIGNhbiBlbmQgdXAKd2l0aCAwIGluIGNsa19wdHBfcmF0ZSAoYXMg
Y2xrX2dldF9yYXRlIGNhbiByZXR1cm4gMCkuIEl0IHdpbGwKZXZlbnR1YWxseSBwcm9wYWdhdGUg
dXAgdG8gUFRQIGluaXRpYWxpemF0aW9uIHdoZW4gYnJpbmdpbmcgdXAgdGhlCmludGVyZmFjZSwg
bGVhZGluZyB0byBhIGRpdmlkZSBieSAwOgoKIERpdmlzaW9uIGJ5IHplcm8gaW4ga2VybmVsLgog
Q1BVOiAxIFVJRDogMCBQSUQ6IDEgQ29tbTogc3dhcHBlci8wIE5vdCB0YWludGVkIDYuMTIuMzAt
MDAwMDEtZzQ4MzEzYmQ1NzY4YSAjMjIKIEhhcmR3YXJlIG5hbWU6IFNUTTMyIChEZXZpY2UgVHJl
ZSBTdXBwb3J0KQogQ2FsbCB0cmFjZToKICB1bndpbmRfYmFja3RyYWNlIGZyb20gc2hvd19zdGFj
aysweDE4LzB4MWMKICBzaG93X3N0YWNrIGZyb20gZHVtcF9zdGFja19sdmwrMHg2Yy8weDhjCiAg
ZHVtcF9zdGFja19sdmwgZnJvbSBMZGl2MF82NCsweDgvMHgxOAogIExkaXYwXzY0IGZyb20gc3Rt
bWFjX2luaXRfdHN0YW1wX2NvdW50ZXIrMHgxOTAvMHgxYTQKICBzdG1tYWNfaW5pdF90c3RhbXBf
Y291bnRlciBmcm9tIHN0bW1hY19od19zZXR1cCsweGMxYy8weDExMWMKICBzdG1tYWNfaHdfc2V0
dXAgZnJvbSBfX3N0bW1hY19vcGVuKzB4MThjLzB4NDM0CiAgX19zdG1tYWNfb3BlbiBmcm9tIHN0
bW1hY19vcGVuKzB4M2MvMHhiYwogIHN0bW1hY19vcGVuIGZyb20gX19kZXZfb3BlbisweGY0LzB4
MWFjCiAgX19kZXZfb3BlbiBmcm9tIF9fZGV2X2NoYW5nZV9mbGFncysweDFjYy8weDIyNAogIF9f
ZGV2X2NoYW5nZV9mbGFncyBmcm9tIGRldl9jaGFuZ2VfZmxhZ3MrMHgyNC8weDYwCiAgZGV2X2No
YW5nZV9mbGFncyBmcm9tIGlwX2F1dG9fY29uZmlnKzB4MmU4LzB4MTFhMAogIGlwX2F1dG9fY29u
ZmlnIGZyb20gZG9fb25lX2luaXRjYWxsKzB4ODQvMHgzM2MKICBkb19vbmVfaW5pdGNhbGwgZnJv
bSBrZXJuZWxfaW5pdF9mcmVlYWJsZSsweDFiOC8weDIxNAogIGtlcm5lbF9pbml0X2ZyZWVhYmxl
IGZyb20ga2VybmVsX2luaXQrMHgyNC8weDE0MAogIGtlcm5lbF9pbml0IGZyb20gcmV0X2Zyb21f
Zm9yaysweDE0LzB4MjgKIEV4Y2VwdGlvbiBzdGFjaygweGUwODE1ZmIwIHRvIDB4ZTA4MTVmZjgp
CgpQcmV2ZW50IHRoaXMgZGl2aXNpb24gYnkgMCBieSBhZGRpbmcgYW4gZXhwbGljaXQgY2hlY2sg
YW5kIGVycm9yIGxvZwphYm91dCB0aGUgYWN0dWFsIGlzc3VlLiBXaGlsZSBhdCBpdCwgcmVtb3Zl
IHRoZSBzYW1lIGNoZWNrIGZyb20Kc3RtbWFjX3B0cF9yZWdpc3Rlciwgd2hpY2ggdGhlbiBiZWNv
bWVzIGR1cGxpY2F0ZQoKRml4ZXM6IDE5ZDg1N2M5MDM4ZSAoInN0bW1hYzogRml4IGNhbGN1bGF0
aW9ucyBmb3IgcHRwIGNvdW50ZXJzIHdoZW4gY2xvY2sgaW5wdXQgPSA1ME1oei4iKQpTaWduZWQt
b2ZmLWJ5OiBBbGV4aXMgTG90aG9yw6kgPGFsZXhpcy5sb3Rob3JlQGJvb3RsaW4uY29tPgpSZXZp
ZXdlZC1ieTogWWFudGVuZyBTaSA8c2kueWFudGVuZ0BsaW51eC5kZXY+ClJldmlld2VkLWJ5OiBN
YXhpbWUgQ2hldmFsbGllciA8bWF4aW1lLmNoZXZhbGxpZXJAYm9vdGxpbi5jb20+Ci0tLQpDaGFu
Z2VzIGluIHY0OgotIGNvbGxlY3QgUkIgdGFncwotIHJlYmFzZWQgb24gbmV0L21haW4KCkNoYW5n
ZXMgaW4gdjM6Ci0gcmVtb3ZlIG5vdy1kdXBsaWNhdGUgY2hlY2sKLSByZXdvcmQgY29tbWl0IG1l
c3NhZ2UKLS0tCiBkcml2ZXJzL25ldC9ldGhlcm5ldC9zdG1pY3JvL3N0bW1hYy9zdG1tYWNfbWFp
bi5jIHwgNSArKysrKwogZHJpdmVycy9uZXQvZXRoZXJuZXQvc3RtaWNyby9zdG1tYWMvc3RtbWFj
X3B0cC5jICB8IDIgKy0KIDIgZmlsZXMgY2hhbmdlZCwgNiBpbnNlcnRpb25zKCspLCAxIGRlbGV0
aW9uKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9uZXQvZXRoZXJuZXQvc3RtaWNyby9zdG1tYWMv
c3RtbWFjX21haW4uYyBiL2RyaXZlcnMvbmV0L2V0aGVybmV0L3N0bWljcm8vc3RtbWFjL3N0bW1h
Y19tYWluLmMKaW5kZXggMDg1YzA5MDM5YWY0YTVlYmZiYjg2YTM3NDM5NjBkOTc0NzM2NzU4OC4u
MTM2OWZhNzBiYzU4N2U1YzllMjJmYzMzZjY5YmM5Y2EwNzc0YmU4NiAxMDA2NDQKLS0tIGEvZHJp
dmVycy9uZXQvZXRoZXJuZXQvc3RtaWNyby9zdG1tYWMvc3RtbWFjX21haW4uYworKysgYi9kcml2
ZXJzL25ldC9ldGhlcm5ldC9zdG1pY3JvL3N0bW1hYy9zdG1tYWNfbWFpbi5jCkBAIC04MDUsNiAr
ODA1LDExIEBAIGludCBzdG1tYWNfaW5pdF90c3RhbXBfY291bnRlcihzdHJ1Y3Qgc3RtbWFjX3By
aXYgKnByaXYsIHUzMiBzeXN0aW1lX2ZsYWdzKQogCWlmICghKHByaXYtPmRtYV9jYXAudGltZV9z
dGFtcCB8fCBwcml2LT5kbWFfY2FwLmF0aW1lX3N0YW1wKSkKIAkJcmV0dXJuIC1FT1BOT1RTVVBQ
OwogCisJaWYgKCFwcml2LT5wbGF0LT5jbGtfcHRwX3JhdGUpIHsKKwkJbmV0ZGV2X2Vycihwcml2
LT5kZXYsICJJbnZhbGlkIFBUUCBjbG9jayByYXRlIik7CisJCXJldHVybiAtRUlOVkFMOworCX0K
KwogCXN0bW1hY19jb25maWdfaHdfdHN0YW1waW5nKHByaXYsIHByaXYtPnB0cGFkZHIsIHN5c3Rp
bWVfZmxhZ3MpOwogCXByaXYtPnN5c3RpbWVfZmxhZ3MgPSBzeXN0aW1lX2ZsYWdzOwogCmRpZmYg
LS1naXQgYS9kcml2ZXJzL25ldC9ldGhlcm5ldC9zdG1pY3JvL3N0bW1hYy9zdG1tYWNfcHRwLmMg
Yi9kcml2ZXJzL25ldC9ldGhlcm5ldC9zdG1pY3JvL3N0bW1hYy9zdG1tYWNfcHRwLmMKaW5kZXgg
NDI5YjJkMzU3ODEzYzgwMjNmYzg1MzI5OWYyMDYyMDhmMTU2NDJlMS4uMzc2N2JhNDk1ZTc4ZDIx
MGIwNTI5ZWUxNzU0ZTUzMzFmMmRkMGE0NyAxMDA2NDQKLS0tIGEvZHJpdmVycy9uZXQvZXRoZXJu
ZXQvc3RtaWNyby9zdG1tYWMvc3RtbWFjX3B0cC5jCisrKyBiL2RyaXZlcnMvbmV0L2V0aGVybmV0
L3N0bWljcm8vc3RtbWFjL3N0bW1hY19wdHAuYwpAQCAtMzE3LDcgKzMxNyw3IEBAIHZvaWQgc3Rt
bWFjX3B0cF9yZWdpc3RlcihzdHJ1Y3Qgc3RtbWFjX3ByaXYgKnByaXYpCiAKIAkvKiBDYWxjdWxh
dGUgdGhlIGNsb2NrIGRvbWFpbiBjcm9zc2luZyAoQ0RDKSBlcnJvciBpZiBuZWNlc3NhcnkgKi8K
IAlwcml2LT5wbGF0LT5jZGNfZXJyb3JfYWRqID0gMDsKLQlpZiAocHJpdi0+cGxhdC0+aGFzX2dt
YWM0ICYmIHByaXYtPnBsYXQtPmNsa19wdHBfcmF0ZSkKKwlpZiAocHJpdi0+cGxhdC0+aGFzX2dt
YWM0KQogCQlwcml2LT5wbGF0LT5jZGNfZXJyb3JfYWRqID0gKDIgKiBOU0VDX1BFUl9TRUMpIC8g
cHJpdi0+cGxhdC0+Y2xrX3B0cF9yYXRlOwogCiAJLyogVXBkYXRlIHRoZSBwdHAgY2xvY2sgcGFy
YW1ldGVycyBiYXNlZCBvbiBmZWF0dXJlIGRpc2NvdmVyeSwgd2hlbgoKLS0gCjIuNDkuMAoKX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KTGludXgtc3RtMzIg
bWFpbGluZyBsaXN0CkxpbnV4LXN0bTMyQHN0LW1kLW1haWxtYW4uc3Rvcm1yZXBseS5jb20KaHR0
cHM6Ly9zdC1tZC1tYWlsbWFuLnN0b3JtcmVwbHkuY29tL21haWxtYW4vbGlzdGluZm8vbGludXgt
c3RtMzIK
