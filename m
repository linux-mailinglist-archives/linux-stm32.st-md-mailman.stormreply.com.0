Return-Path: <linux-stm32-bounces@st-md-mailman.stormreply.com>
X-Original-To: lists+linux-stm32@lfdr.de
Delivered-To: lists+linux-stm32@lfdr.de
Received: from stm-ict-prod-mailman-01.stormreply.prv (st-md-mailman.stormreply.com [52.209.6.89])
	by mail.lfdr.de (Postfix) with ESMTPS id F2EE8B0F33D
	for <lists+linux-stm32@lfdr.de>; Wed, 23 Jul 2025 15:10:01 +0200 (CEST)
Received: from ip-172-31-3-47.eu-west-1.compute.internal (localhost [127.0.0.1])
	by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTP id 9E0FDC36B3D;
	Wed, 23 Jul 2025 13:10:01 +0000 (UTC)
Received: from mx07-00178001.pphosted.com (mx08-00178001.pphosted.com
 [91.207.212.93])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
 (No client certificate requested)
 by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTPS id 0272FC36B3D
 for <linux-stm32@st-md-mailman.stormreply.com>;
 Wed, 23 Jul 2025 13:09:59 +0000 (UTC)
Received: from pps.filterd (m0046660.ppops.net [127.0.0.1])
 by mx07-00178001.pphosted.com (8.18.1.2/8.18.1.2) with ESMTP id 56NCcpNB009687;
 Wed, 23 Jul 2025 15:09:44 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=foss.st.com; h=
 cc:content-transfer-encoding:content-type:date:from:in-reply-to
 :message-id:mime-version:references:subject:to; s=selector1; bh=
 yA2RRKl2oVDdym49E5+wiF5DBdat+NbFPa4Wt8IDIm8=; b=A4jgkzyJXYJ1vwkl
 Z6fl/AmKInMLGR7sZDYHLh1bJHy92BYLTAL6Y0tWGRRwe68nIMJtpl8bNJaXUbb7
 0vEE+LslWaB56m2illCleyj0OGlO7Lgnc446Cw9WEm0oKh7F04z6kcCSZAtbIY5d
 3l3N3YSR55+V+etwJAlC4rXhnhMBqRJHKROZG+oP3bAxFLVm9FEjV2xQYEEmLOQp
 ZvPkywDDX0oEDh4/ccWiGOZzhQ+HHpkAy5GsYnE8Q7d/xl1Rs/hRr9S9alLblnB9
 ZnIcdFECWy6AR/H0DvWREzV3kmPzepcoUpsg3hk/oKYAPAoWzoP8JdsVPX4xG+/C
 JyOWZA==
Received: from beta.dmz-ap.st.com (beta.dmz-ap.st.com [138.198.100.35])
 by mx07-00178001.pphosted.com (PPS) with ESMTPS id 4800g8uvd1-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Wed, 23 Jul 2025 15:09:44 +0200 (MEST)
Received: from euls16034.sgp.st.com (euls16034.sgp.st.com [10.75.44.20])
 by beta.dmz-ap.st.com (STMicroelectronics) with ESMTP id C618840053;
 Wed, 23 Jul 2025 15:07:45 +0200 (CEST)
Received: from Webmail-eu.st.com (shfdag1node2.st.com [10.75.129.70])
 by euls16034.sgp.st.com (STMicroelectronics) with ESMTP id D09B17961B3;
 Wed, 23 Jul 2025 15:06:12 +0200 (CEST)
Received: from localhost (10.48.86.185) by SHFDAG1NODE2.st.com (10.75.129.70)
 with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id 15.1.2507.39; Wed, 23 Jul
 2025 15:06:12 +0200
From: =?utf-8?q?Cl=C3=A9ment_Le_Goffic?= <clement.legoffic@foss.st.com>
Date: Wed, 23 Jul 2025 15:05:57 +0200
MIME-Version: 1.0
Message-ID: <20250723-ddrperfm-upstream-v4-13-1aa53ca319f4@foss.st.com>
References: <20250723-ddrperfm-upstream-v4-0-1aa53ca319f4@foss.st.com>
In-Reply-To: <20250723-ddrperfm-upstream-v4-0-1aa53ca319f4@foss.st.com>
To: Will Deacon <will@kernel.org>, Mark Rutland <mark.rutland@arm.com>, Rob
 Herring <robh@kernel.org>, Krzysztof Kozlowski <krzk+dt@kernel.org>, Conor
 Dooley <conor+dt@kernel.org>, Maxime Coquelin <mcoquelin.stm32@gmail.com>,
 Alexandre Torgue <alexandre.torgue@foss.st.com>, Philipp Zabel
 <p.zabel@pengutronix.de>, Jonathan Corbet <corbet@lwn.net>,
 Gatien Chevallier <gatien.chevallier@foss.st.com>,
 Michael Turquette <mturquette@baylibre.com>,
 Stephen Boyd <sboyd@kernel.org>, Gabriel Fernandez
 <gabriel.fernandez@foss.st.com>, Krzysztof Kozlowski <krzk@kernel.org>, Le
 Goffic <legoffic.clement@gmail.com>, Julius Werner <jwerner@chromium.org>
X-Mailer: b4 0.15-dev-8018a
X-Originating-IP: [10.48.86.185]
X-ClientProxiedBy: SHFCAS1NODE2.st.com (10.75.129.73) To SHFDAG1NODE2.st.com
 (10.75.129.70)
X-Proofpoint-Virus-Version: vendor=baseguard
 engine=ICAP:2.0.293,Aquarius:18.0.1099,Hydra:6.1.9,FMLib:17.12.80.40
 definitions=2025-07-23_02,2025-07-22_01,2025-03-28_01
Cc: devicetree@vger.kernel.org, linux-doc@vger.kernel.org,
 linux-kernel@vger.kernel.org, linux-clk@vger.kernel.org,
 linux-perf-users@vger.kernel.org, linux-stm32@st-md-mailman.stormreply.com,
 linux-arm-kernel@lists.infradead.org
Subject: [Linux-stm32] [PATCH v4 13/20] perf: stm32: introduce DDRPERFM
	driver
X-BeenThere: linux-stm32@st-md-mailman.stormreply.com
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: <linux-stm32.st-md-mailman.stormreply.com>
List-Unsubscribe: <https://st-md-mailman.stormreply.com/mailman/options/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=unsubscribe>
List-Archive: <http://st-md-mailman.stormreply.com/pipermail/linux-stm32/>
List-Post: <mailto:linux-stm32@st-md-mailman.stormreply.com>
List-Help: <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=help>
List-Subscribe: <https://st-md-mailman.stormreply.com/mailman/listinfo/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: linux-stm32-bounces@st-md-mailman.stormreply.com
Sender: "Linux-stm32" <linux-stm32-bounces@st-md-mailman.stormreply.com>

SW50cm9kdWNlIHRoZSBkcml2ZXIgZm9yIHRoZSBERFIgUGVyZm9ybWFuY2UgTW9uaXRvciBhdmFp
bGFibGUgb24KU1RNMzJNUFUgU29DLgoKT24gU1RNMzJNUDIgcGxhdGZvcm1zLCB0aGUgRERSUEVS
Rk0gYWxsb3dzIHRvIG1vbml0b3IgdXAgdG8gOCBERFIgZXZlbnRzCnRoYXQgY29tZSBmcm9tIHRo
ZSBERFIgQ29udHJvbGxlciBzdWNoIGFzIHJlYWQgb3Igd3JpdGUgZXZlbnRzLgoKT24gU1RNMzJN
UDEgcGxhdGZvcm1zLCB0aGUgRERSUEVSRk0gY2Fubm90IG1vbml0b3IgYW55IGV2ZW50IG9uIGFu
eQpjb3VudGVyLCB0aGVyZSBpcyBhIG5vdGlvbiBvZiBzZXQgb2YgZXZlbnRzLgpFdmVudHMgZnJv
bSBkaWZmZXJlbnQgc2V0cyBjYW5ub3QgYmUgbW9uaXRvcmVkIGF0IHRoZSBzYW1lIHRpbWUuClRo
ZSBmaXJzdCBjaG9zZW4gZXZlbnQgc2VsZWN0cyB0aGUgc2V0LgpUaGUgc2V0IGlzIGNvZGVkIGlu
IHRoZSBmaXJzdCB0d28gYnl0ZXMgb2YgdGhlIGNvbmZpZyB2YWx1ZSB3aGljaCBpcyBvbiA0CmJ5
dGVzLgoKT24gU1RNMzJNUDI1eCBzZXJpZXMsIHRoZSBERFJQRVJGTSBjbG9jayBpcyBzaGFyZWQg
d2l0aCB0aGUgRERSIGNvbnRyb2xsZXIKYW5kIG1heSBiZSBzZWN1cmVkIGJ5IGJvb3Rsb2FkZXJz
LgpBY2Nlc3MgY29udHJvbGxlcnMgYWxsb3cgdG8gY2hlY2sgYWNjZXNzIHRvIGEgcmVzb3VyY2Uu
IFVzZSB0aGUgYWNjZXNzCmNvbnRyb2xsZXIgZGVmaW5lZCBpbiB0aGUgZGV2aWNldHJlZSB0byBr
bm93IGFib3V0IHRoZSBhY2Nlc3MgdG8gdGhlCkREUlBFUkZNIGNsb2NrLgoKU2lnbmVkLW9mZi1i
eTogQ2zDqW1lbnQgTGUgR29mZmljIDxjbGVtZW50LmxlZ29mZmljQGZvc3Muc3QuY29tPgotLS0K
IGRyaXZlcnMvcGVyZi9LY29uZmlnICAgICAgICAgfCAgMTEgKwogZHJpdmVycy9wZXJmL01ha2Vm
aWxlICAgICAgICB8ICAgMSArCiBkcml2ZXJzL3BlcmYvc3RtMzJfZGRyX3BtdS5jIHwgODk2ICsr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysKIDMgZmlsZXMgY2hhbmdl
ZCwgOTA4IGluc2VydGlvbnMoKykKCmRpZmYgLS1naXQgYS9kcml2ZXJzL3BlcmYvS2NvbmZpZyBi
L2RyaXZlcnMvcGVyZi9LY29uZmlnCmluZGV4IDI3OGM5MjlkYzg3YS4uNTExODUzNTEzNGVlIDEw
MDY0NAotLS0gYS9kcml2ZXJzL3BlcmYvS2NvbmZpZworKysgYi9kcml2ZXJzL3BlcmYvS2NvbmZp
ZwpAQCAtMTk4LDYgKzE5OCwxNyBAQCBjb25maWcgUUNPTV9MM19QTVUKIAkgICBBZGRzIHRoZSBM
MyBjYWNoZSBQTVUgaW50byB0aGUgcGVyZiBldmVudHMgc3Vic3lzdGVtIGZvcgogCSAgIG1vbml0
b3JpbmcgTDMgY2FjaGUgZXZlbnRzLgogCitjb25maWcgU1RNMzJfRERSX1BNVQorCXRyaXN0YXRl
ICJTVE0zMiBERFIgUE1VIgorCWRlcGVuZHMgb24gQVJDSF9TVE0zMiB8fCBDT01QSUxFX1RFU1QK
KwlkZWZhdWx0IG0KKwloZWxwCisJICBQcm92aWRlcyBzdXBwb3J0IGZvciB0aGUgRERSIHBlcmZv
cm1hbmNlIG1vbml0b3Igb24gU1RNMzJNUFUgcGxhdGZvcm1zLgorCSAgVGhlIG1vbml0b3IgcHJv
dmlkZXMgY291bnRlcnMgZm9yIG1lbW9yeSByZWxhdGVkIGV2ZW50cy4KKwkgIEl0IGFsbG93cyBk
ZXZlbG9wZXJzIHRvIGFuYWx5emUgYW5kIG9wdGltaXplIEREUiBwZXJmb3JtYW5jZS4KKwkgIEVu
YWJsaW5nIHRoaXMgZmVhdHVyZSBpcyB1c2VmdWwgZm9yIHBlcmZvcm1hbmNlIHR1bmluZyBhbmQg
ZGVidWdnaW5nIG1lbW9yeQorCSAgc3Vic3lzdGVtIGlzc3VlcyBvbiBzdXBwb3J0ZWQgaGFyZHdh
cmUuCisKIGNvbmZpZyBUSFVOREVSWDJfUE1VCiAJdHJpc3RhdGUgIkNhdml1bSBUaHVuZGVyWDIg
U29DIFBNVSBVTkNPUkUiCiAJZGVwZW5kcyBvbiBBUkNIX1RIVU5ERVIyIHx8IENPTVBJTEVfVEVT
VApkaWZmIC0tZ2l0IGEvZHJpdmVycy9wZXJmL01ha2VmaWxlIGIvZHJpdmVycy9wZXJmL01ha2Vm
aWxlCmluZGV4IGRlNzFkMjU3NDg1Ny4uN2Y4M2I1MGZlYjcxIDEwMDY0NAotLS0gYS9kcml2ZXJz
L3BlcmYvTWFrZWZpbGUKKysrIGIvZHJpdmVycy9wZXJmL01ha2VmaWxlCkBAIC0yMCw2ICsyMCw3
IEBAIG9iai0kKENPTkZJR19SSVNDVl9QTVUpICs9IHJpc2N2X3BtdS5vCiBvYmotJChDT05GSUdf
UklTQ1ZfUE1VX0xFR0FDWSkgKz0gcmlzY3ZfcG11X2xlZ2FjeS5vCiBvYmotJChDT05GSUdfUklT
Q1ZfUE1VX1NCSSkgKz0gcmlzY3ZfcG11X3NiaS5vCiBvYmotJChDT05GSUdfU1RBUkZJVkVfU1RB
UkxJTktfUE1VKSArPSBzdGFyZml2ZV9zdGFybGlua19wbXUubworb2JqLSQoQ09ORklHX1NUTTMy
X0REUl9QTVUpICs9IHN0bTMyX2Rkcl9wbXUubwogb2JqLSQoQ09ORklHX1RIVU5ERVJYMl9QTVUp
ICs9IHRodW5kZXJ4Ml9wbXUubwogb2JqLSQoQ09ORklHX1hHRU5FX1BNVSkgKz0geGdlbmVfcG11
Lm8KIG9iai0kKENPTkZJR19BUk1fU1BFX1BNVSkgKz0gYXJtX3NwZV9wbXUubwpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9wZXJmL3N0bTMyX2Rkcl9wbXUuYyBiL2RyaXZlcnMvcGVyZi9zdG0zMl9kZHJf
cG11LmMKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwMDAwLi5kMDljMTM3NWE0
MWYKLS0tIC9kZXYvbnVsbAorKysgYi9kcml2ZXJzL3BlcmYvc3RtMzJfZGRyX3BtdS5jCkBAIC0w
LDAgKzEsODk2IEBACisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1vbmx5Cisv
KgorICogQ29weXJpZ2h0IChDKSAyMDI1LCBTVE1pY3JvZWxlY3Ryb25pY3MgLSBBbGwgUmlnaHRz
IFJlc2VydmVkCisgKiBBdXRob3I6IENsw6ltZW50IExlIEdvZmZpYyA8Y2xlbWVudC5sZWdvZmZp
Y0Bmb3NzLnN0LmNvbT4gZm9yIFNUTWljcm9lbGVjdHJvbmljcy4KKyAqLworCisjaW5jbHVkZSA8
bGludXgvYnVzL3N0bTMyX2ZpcmV3YWxsX2RldmljZS5oPgorI2luY2x1ZGUgPGxpbnV4L2Nsay5o
PgorI2luY2x1ZGUgPGxpbnV4L2hydGltZXIuaD4KKyNpbmNsdWRlIDxsaW51eC9pby5oPgorI2lu
Y2x1ZGUgPGxpbnV4L21vZHVsZS5oPgorI2luY2x1ZGUgPGxpbnV4L29mX3BsYXRmb3JtLmg+Cisj
aW5jbHVkZSA8bGludXgvcGVyZl9ldmVudC5oPgorI2luY2x1ZGUgPGxpbnV4L3Jlc2V0Lmg+CisK
KyNkZWZpbmUgRFJJVkVSX05BTUUJCSJzdG0zMl9kZHJfcG11IgorCisvKgorICogVGhlIFBNVSBp
cyBhYmxlIHRvIGZyZWV6ZSBhbGwgY291bnRlcnMgYW5kIGdlbmVyYXRlIGFuIGludGVycnVwdCB3
aGVuIHRoZXJlCisgKiBpcyBhIGNvdW50ZXIgb3ZlcmZsb3cuIEJ1dCwgcmVseWluZyBvbiB0aGlz
IG1lYW5zIHRoYXQgd2UgbG9zZSBhbGwgdGhlCisgKiBldmVudHMgdGhhdCBvY2N1ciBiZXR3ZWVu
IHRoZSBmcmVlemUgYW5kIHRoZSBpbnRlcnJ1cHQgaGFuZGxlciBleGVjdXRpb24uCisgKiBTbyB3
ZSB1c2UgYSBwb2xsaW5nIG1lY2hhbmlzbSB0byBhdm9pZCB0aGlzIGxvc3Qgb2YgaW5mb3JtYXRp
b24uCisgKiBUaGUgZmFzdGVzdCBjb3VudGVyIGNhbiBvdmVyZmxvdyBpbiB+N3MgQDYwME1IeiAo
dGhhdCBpcyB0aGUgbWF4aW11bSBERFIKKyAqIGZyZXF1ZW5jeSBzdXBwb3J0ZWQgb24gU1RNMzJN
UDI1NyksIHNvIHdlIHBvbGwgaW4gMy41cyBpbnRlcnZhbHMgdG8gZW5zdXJlCisgKiB3ZSBkb24n
dCByZWFjaCB0aGlzIGxpbWl0LgorICovCisjZGVmaW5lIFBPTExfTVMJCQkzNTAwCisKKyNkZWZp
bmUgRERSUEVSRk1fQ1RSTAkJMHgwMDAKKyNkZWZpbmUgRERSUEVSRk1fQ0ZHCQkweDAwNAorI2Rl
ZmluZSBERFJQRVJGTV9TVEFUVVMJCTB4MDA4CisjZGVmaW5lIEREUlBFUkZNX0NMUgkJMHgwMEMK
KyNkZWZpbmUgRERSUEVSRk1fVENOVAkJMHgwMjAKKyNkZWZpbmUgRERSUEVSRk1fRVZDTlQoWCkJ
KDB4MDMwICsgOCAqIChYKSkKKworI2RlZmluZSBERFJQRVJGTV9NUDJfQ0ZHMAkweDAxMAorI2Rl
ZmluZSBERFJQRVJGTV9NUDJfQ0ZHMQkweDAxNAorI2RlZmluZSBERFJQRVJGTV9NUDJfQ0ZHNQkw
eDAyNAorI2RlZmluZSBERFJQRVJGTV9NUDJfRFJBTUlORgkweDAyOAorI2RlZmluZSBERFJQRVJG
TV9NUDJfRVZDTlQoWCkJKDB4MDQwICsgNCAqIChYKSkKKyNkZWZpbmUgRERSUEVSRk1fTVAyX1RD
TlQJMHgwNjAKKyNkZWZpbmUgRERSUEVSRk1fTVAyX1NUQVRVUwkweDA4MAorCisjZGVmaW5lIE1Q
MV9TVEFUVVNfQlVTWQkJQklUKDE2KQorI2RlZmluZSBNUDJfU1RBVFVTX0JVU1kJCUJJVCgzMSkK
KworI2RlZmluZSBDVFJMX1NUQVJUCQlCSVQoMCkKKyNkZWZpbmUgQ1RSTF9TVE9QCQlCSVQoMSkK
KworI2RlZmluZSBDRkdfU0VMX01TSwkJR0VOTUFTSygxNywgMTYpCisjZGVmaW5lIENGR19TRUxf
U0hJRlQJCTE2CisjZGVmaW5lIENGR19FTl9NU0sJCUdFTk1BU0soMywgMCkKKworI2RlZmluZSBN
UDFfQ0xSX0NOVAkJR0VOTUFTSygzLCAwKQorI2RlZmluZSBNUDFfQ0xSX1RJTUUJCUJJVCgzMSkK
KyNkZWZpbmUgTVAyX0NMUl9DTlQJCUdFTk1BU0soNywgMCkKKyNkZWZpbmUgTVAyX0NMUl9USU1F
CQlCSVQoOCkKKworLyogNCBldmVudCBjb3VudGVycyBwbHVzIDEgZGVkaWNhdGVkIHRvIHRpbWUg
Ki8KKyNkZWZpbmUgTVAxX0NOVF9OQgkJKDQgKyAxKQorLyogSW5kZXggb2YgdGhlIHRpbWUgZGVk
aWNhdGVkIGNvdW50ZXIgKi8KKyNkZWZpbmUgTVAxX1RJTUVfQ05UX0lEWAk0CisKKy8qIDggZXZl
bnQgY291bnRlcnMgcGx1cyAxIGRlZGljYXRlZCB0byB0aW1lICovCisjZGVmaW5lIE1QMl9DTlRf
TkIJCSg4ICsgMSkKKy8qIEluZGV4IG9mIHRoZSB0aW1lIGRlZGljYXRlZCBjb3VudGVyICovCisj
ZGVmaW5lIE1QMl9USU1FX0NOVF9JRFgJOAorLyogNCBldmVudCBjb3VudGVycyBwZXIgcmVnaXN0
ZXIgKi8KKyNkZWZpbmUgTVAyX0NOVF9TRUxfUEVSX1JFRwk0CisKKy8qIEFyYml0cmFyeSB2YWx1
ZSB1c2VkIHRvIGlkZW50aWZ5IGEgdGltZSBldmVudCAqLworI2RlZmluZSBUSU1FX0NOVAkJNjQK
Kworc3RydWN0IHN0bTMyX2Rkcl9wbXVfcmVnIHsKKwl1bnNpZ25lZCBpbnQgcmVnOworCXUzMiBt
YXNrOworfTsKKworc3RydWN0IHN0bTMyX2Rkcl9jbnQgeworCWludCBpZHg7CisJc3RydWN0IHBl
cmZfZXZlbnQgKmV2dDsKKwlzdHJ1Y3QgbGlzdF9oZWFkIGNudF9saXN0OworfTsKKworc3RydWN0
IHN0bTMyX2Rkcl9wbXVfcmVnc3BlYyB7CisJY29uc3Qgc3RydWN0IHN0bTMyX2Rkcl9wbXVfcmVn
IHN0b3A7CisJY29uc3Qgc3RydWN0IHN0bTMyX2Rkcl9wbXVfcmVnIHN0YXJ0OworCWNvbnN0IHN0
cnVjdCBzdG0zMl9kZHJfcG11X3JlZyBlbmFibGU7CisJY29uc3Qgc3RydWN0IHN0bTMyX2Rkcl9w
bXVfcmVnIHN0YXR1czsKKwljb25zdCBzdHJ1Y3Qgc3RtMzJfZGRyX3BtdV9yZWcgY2xlYXJfY250
OworCWNvbnN0IHN0cnVjdCBzdG0zMl9kZHJfcG11X3JlZyBjbGVhcl90aW1lOworCWNvbnN0IHN0
cnVjdCBzdG0zMl9kZHJfcG11X3JlZyBjZmc7CisJY29uc3Qgc3RydWN0IHN0bTMyX2Rkcl9wbXVf
cmVnIGNmZzA7CisJY29uc3Qgc3RydWN0IHN0bTMyX2Rkcl9wbXVfcmVnIGNmZzE7CisJY29uc3Qg
c3RydWN0IHN0bTMyX2Rkcl9wbXVfcmVnIGRyYW1faW5mOworCWNvbnN0IHN0cnVjdCBzdG0zMl9k
ZHJfcG11X3JlZyBjb3VudGVyX3RpbWU7CisJY29uc3Qgc3RydWN0IHN0bTMyX2Rkcl9wbXVfcmVn
IGNvdW50ZXJfZXZ0W107Cit9OworCitzdHJ1Y3Qgc3RtMzJfZGRyX3BtdSB7CisJc3RydWN0IHBt
dSBwbXU7CisJdm9pZCBfX2lvbWVtICptZW1iYXNlOworCXN0cnVjdCBkZXZpY2UgKmRldjsKKwlz
dHJ1Y3QgY2xrICpjbGs7CisJY29uc3Qgc3RydWN0IHN0bTMyX2Rkcl9wbXVfY2ZnICpjZmc7CisJ
c3RydWN0IGhydGltZXIgaHJ0aW1lcjsKKwlrdGltZV90IHBvbGxfcGVyaW9kOworCWludCBzZWxl
Y3RlZF9zZXQ7CisJdTMyIGRyYW1fdHlwZTsKKwlzdHJ1Y3QgbGlzdF9oZWFkIGNvdW50ZXJzW107
Cit9OworCitzdHJ1Y3Qgc3RtMzJfZGRyX3BtdV9jZmcgeworCWNvbnN0IHN0cnVjdCBzdG0zMl9k
ZHJfcG11X3JlZ3NwZWMgKnJlZ3M7CisJY29uc3Qgc3RydWN0IGF0dHJpYnV0ZV9ncm91cCAqKmF0
dHJpYnV0ZTsKKwl1MzIgY291bnRlcnNfbmI7CisJdTMyIGV2dF9jb3VudGVyc19uYjsKKwl1MzIg
dGltZV9jbnRfaWR4OworCXN0cnVjdCBzdG0zMl9kZHJfY250ICogKCpnZXRfY291bnRlcikoc3Ry
dWN0IHN0bTMyX2Rkcl9wbXUgKnAsIHN0cnVjdCBwZXJmX2V2ZW50ICplKTsKK307CisKKyNkZWZp
bmUgU1RNMzJfRERSX1BNVV9FVkVOVF9OVU1CRVIoZ3JvdXAsIGluZGV4KQkoKChncm91cCkgPDwg
OCkgfCAoaW5kZXgpKQorI2RlZmluZSBTVE0zMl9ERFJfUE1VX0dST1VQX1ZBTFVFKGV2ZW50X251
bWJlcikJCSgoZXZlbnRfbnVtYmVyKSA+PiA4KQorI2RlZmluZSBTVE0zMl9ERFJfUE1VX0VWRU5U
X0lOREVYKGV2ZW50X251bWJlcikJCSgoZXZlbnRfbnVtYmVyKSAmIDB4RkYpCisKKy8qIE1QMSBk
ZHJwZXJmbSBldmVudHMgKi8KK2VudW0gc3RtMzJfZGRyX3BtdV9ldmVudHNfbXAxIHsKKwlQRVJG
X09QX0lTX1JECQkJPSBTVE0zMl9ERFJfUE1VX0VWRU5UX05VTUJFUigwLCAwKSwKKwlQRVJGX09Q
X0lTX1dSCQkJPSBTVE0zMl9ERFJfUE1VX0VWRU5UX05VTUJFUigwLCAxKSwKKwlQRVJGX09QX0lT
X0FDVElWQVRFCQk9IFNUTTMyX0REUl9QTVVfRVZFTlRfTlVNQkVSKDAsIDIpLAorCUNUTF9JRExF
CQkJPSBTVE0zMl9ERFJfUE1VX0VWRU5UX05VTUJFUigwLCAzKSwKKwlQRVJGX0hQUl9SRVFfV0lU
SF9OT19DUkVESVQJPSBTVE0zMl9ERFJfUE1VX0VWRU5UX05VTUJFUigxLCAwKSwKKwlQRVJGX0xQ
Ul9SRVFfV0lUSF9OT19DUkVESVQJPSBTVE0zMl9ERFJfUE1VX0VWRU5UX05VTUJFUigxLCAxKSwK
KwlDQUNUSVZFX0REUkMJCQk9IFNUTTMyX0REUl9QTVVfRVZFTlRfTlVNQkVSKDEsIDMpLAorCVBF
UkZfT1BfSVNfRU5URVJfUE9XRVJET1dOCT0gU1RNMzJfRERSX1BNVV9FVkVOVF9OVU1CRVIoMiwg
MCksCisJUEVSRl9PUF9JU19SRUZSRVNICQk9IFNUTTMyX0REUl9QTVVfRVZFTlRfTlVNQkVSKDIs
IDEpLAorCVBFUkZfU0VMRlJFU0hfTU9ERQkJPSBTVE0zMl9ERFJfUE1VX0VWRU5UX05VTUJFUigy
LCAyKSwKKwlERklfTFBfUkVRCQkJPSBTVE0zMl9ERFJfUE1VX0VWRU5UX05VTUJFUigyLCAzKSwK
KwlQRVJGX0hQUl9YQUNUX1dIRU5fQ1JJVElDQUwJPSBTVE0zMl9ERFJfUE1VX0VWRU5UX05VTUJF
UigzLCAwKSwKKwlQRVJGX0xQUl9YQUNUX1dIRU5fQ1JJVElDQUwJPSBTVE0zMl9ERFJfUE1VX0VW
RU5UX05VTUJFUigzLCAxKSwKKwlQRVJGX1dSX1hBQ1RfV0hFTl9DUklUSUNBTAk9IFNUTTMyX0RE
Ul9QTVVfRVZFTlRfTlVNQkVSKDMsIDIpLAorCURGSV9MUF9SRVFfU0NORAkJCT0gU1RNMzJfRERS
X1BNVV9FVkVOVF9OVU1CRVIoMywgMyksCit9OworCisvKiBNUDIgZGRycGVyZm0gZXZlbnRzICov
CitlbnVtIHN0bTMyX2Rkcl9wbXVfZXZlbnRzX21wMiB7CisJREZJX0lTX0FDVAkJCT0gU1RNMzJf
RERSX1BNVV9FVkVOVF9OVU1CRVIoMCwgMCksCisJREZJX0lTX1BSRVBCCQkJPSBTVE0zMl9ERFJf
UE1VX0VWRU5UX05VTUJFUigwLCAxKSwKKwlERklfSVNfUFJFQUIJCQk9IFNUTTMyX0REUl9QTVVf
RVZFTlRfTlVNQkVSKDAsIDIpLAorCURGSV9JU19SRAkJCT0gU1RNMzJfRERSX1BNVV9FVkVOVF9O
VU1CRVIoMCwgMyksCisJREZJX0lTX1JEQQkJCT0gU1RNMzJfRERSX1BNVV9FVkVOVF9OVU1CRVIo
MCwgNCksCisJREZJX0lTX1dSCQkJPSBTVE0zMl9ERFJfUE1VX0VWRU5UX05VTUJFUigwLCA2KSwK
KwlERklfSVNfV1JBCQkJPSBTVE0zMl9ERFJfUE1VX0VWRU5UX05VTUJFUigwLCA3KSwKKwlERklf
SVNfTVdSCQkJPSBTVE0zMl9ERFJfUE1VX0VWRU5UX05VTUJFUigwLCA5KSwKKwlERklfSVNfTVdS
QQkJCT0gU1RNMzJfRERSX1BNVV9FVkVOVF9OVU1CRVIoMCwgMTApLAorCURGSV9JU19NUlcJCQk9
IFNUTTMyX0REUl9QTVVfRVZFTlRfTlVNQkVSKDAsIDEyKSwKKwlERklfSVNfTVJSCQkJPSBTVE0z
Ml9ERFJfUE1VX0VWRU5UX05VTUJFUigwLCAxMyksCisJREZJX0lTX1JFRlBCCQkJPSBTVE0zMl9E
RFJfUE1VX0VWRU5UX05VTUJFUigwLCAxNCksCisJREZJX0lTX1JFRkFCCQkJPSBTVE0zMl9ERFJf
UE1VX0VWRU5UX05VTUJFUigwLCAxNSksCisJREZJX0lTX01QQwkJCT0gU1RNMzJfRERSX1BNVV9F
VkVOVF9OVU1CRVIoMCwgMTYpLAorCVBFUkZfT1BfSVNfQUNUCQkJPSBTVE0zMl9ERFJfUE1VX0VW
RU5UX05VTUJFUigwLCAzMiksCisJUEVSRl9PUF9JU19SRF9NUDIJCT0gU1RNMzJfRERSX1BNVV9F
VkVOVF9OVU1CRVIoMCwgMzMpLAorCVBFUkZfT1BfSVNfV1JfTVAyCQk9IFNUTTMyX0REUl9QTVVf
RVZFTlRfTlVNQkVSKDAsIDM0KSwKKwlQRVJGX09QX0lTX01XUgkJCT0gU1RNMzJfRERSX1BNVV9F
VkVOVF9OVU1CRVIoMCwgMzUpLAorCVBFUkZfT1BfSVNfUkVGCQkJPSBTVE0zMl9ERFJfUE1VX0VW
RU5UX05VTUJFUigwLCAzNiksCisJUEVSRl9PUF9JU19DUklUX1JFRgkJPSBTVE0zMl9ERFJfUE1V
X0VWRU5UX05VTUJFUigwLCAzNyksCisJUEVSRl9PUF9JU19TUEVDX1JFRgkJPSBTVE0zMl9ERFJf
UE1VX0VWRU5UX05VTUJFUigwLCAzOCksCisJUEVSRl9PUF9JU19aUUNBTAkJPSBTVE0zMl9ERFJf
UE1VX0VWRU5UX05VTUJFUigwLCAzOSksCisJUEVSRl9PUF9JU19FTlRFUl9QT1dETgkJPSBTVE0z
Ml9ERFJfUE1VX0VWRU5UX05VTUJFUigwLCA0MCksCisJUEVSRl9PUF9JU19FTlRFUl9TRUxGUkVG
CT0gU1RNMzJfRERSX1BNVV9FVkVOVF9OVU1CRVIoMCwgNDEpLAorCVBFUkZfT1BfSVNfUFJFCQkJ
PSBTVE0zMl9ERFJfUE1VX0VWRU5UX05VTUJFUigwLCA0MiksCisJUEVSRl9PUF9JU19QUkVfRk9S
X1JEV1IJCT0gU1RNMzJfRERSX1BNVV9FVkVOVF9OVU1CRVIoMCwgNDMpLAorCVBFUkZfT1BfSVNf
UFJFX0ZPUl9PVEhFUlMJPSBTVE0zMl9ERFJfUE1VX0VWRU5UX05VTUJFUigwLCA0NCksCisJUEVS
Rl9PUF9JU19SRF9BQ1RJVkFURQkJPSBTVE0zMl9ERFJfUE1VX0VWRU5UX05VTUJFUigwLCA0NSks
CisJUEVSRl9IUFJfUkVRX1dJVEhfTk9DUkVESVQJPSBTVE0zMl9ERFJfUE1VX0VWRU5UX05VTUJF
UigwLCA0OCksCisJUEVSRl9MUFJfUkVRX1dJVEhfTk9DUkVESVQJPSBTVE0zMl9ERFJfUE1VX0VW
RU5UX05VTUJFUigwLCA0OSksCisJUEVSRl9IUFJfWEFDVF9XSEVOX0NSSVRJQ0FMX01QMgk9IFNU
TTMyX0REUl9QTVVfRVZFTlRfTlVNQkVSKDAsIDUwKSwKKwlQRVJGX0xQUl9YQUNUX1dIRU5fQ1JJ
VElDQUxfTVAyCT0gU1RNMzJfRERSX1BNVV9FVkVOVF9OVU1CRVIoMCwgNTEpLAorCVBFUkZfV1Jf
WEFDVF9XSEVOX0NSSVRJQ0FMX01QMgk9IFNUTTMyX0REUl9QTVVfRVZFTlRfTlVNQkVSKDAsIDUy
KSwKKwlQRVJGX1JEV1JfVFJBTlNJVElPTlMJCT0gU1RNMzJfRERSX1BNVV9FVkVOVF9OVU1CRVIo
MCwgNTMpLAorCVBFUkZfV0FSX0hBWkFSRAkJCT0gU1RNMzJfRERSX1BNVV9FVkVOVF9OVU1CRVIo
MCwgNTQpLAorCVBFUkZfUkFXX0hBWkFSRAkJCT0gU1RNMzJfRERSX1BNVV9FVkVOVF9OVU1CRVIo
MCwgNTUpLAorCVBFUkZfV0FXX0hBWkFSRAkJCT0gU1RNMzJfRERSX1BNVV9FVkVOVF9OVU1CRVIo
MCwgNTYpLAorCVBFUkZfUkFOSwkJCT0gU1RNMzJfRERSX1BNVV9FVkVOVF9OVU1CRVIoMCwgNTgp
LAorCVBFUkZfUkVBRF9CWVBBU1MJCT0gU1RNMzJfRERSX1BNVV9FVkVOVF9OVU1CRVIoMCwgNTkp
LAorCVBFUkZfQUNUX0JZUEFTUwkJCT0gU1RNMzJfRERSX1BNVV9FVkVOVF9OVU1CRVIoMCwgNjAp
LAorCVBFUkZfV0lORE9XX0xJTUlUX1JFQUNIRURfUkQJPSBTVE0zMl9ERFJfUE1VX0VWRU5UX05V
TUJFUigwLCA2MSksCisJUEVSRl9XSU5ET1dfTElNSVRfUkVBQ0hFRF9XUgk9IFNUTTMyX0REUl9Q
TVVfRVZFTlRfTlVNQkVSKDAsIDYyKSwKKwlOT19FVkVOVAkJCT0gU1RNMzJfRERSX1BNVV9FVkVO
VF9OVU1CRVIoMCwgNjMpLAorfTsKKworZW51bSBzdG0zMl9kZHJfcG11X21lbW9yeV90eXBlIHsK
KwlTVE0zMl9ERFJfUE1VX0xQRERSNCwKKwlTVE0zMl9ERFJfUE1VX0xQRERSMywKKwlTVE0zMl9E
RFJfUE1VX0REUjQsCisJU1RNMzJfRERSX1BNVV9ERFIzLAorfTsKKworc3RhdGljIHN0cnVjdCBz
dG0zMl9kZHJfcG11ICp0b19zdG0zMl9kZHJfcG11KHN0cnVjdCBwbXUgKnApCit7CisJcmV0dXJu
IGNvbnRhaW5lcl9vZihwLCBzdHJ1Y3Qgc3RtMzJfZGRyX3BtdSwgcG11KTsKK30KKworc3RhdGlj
IHN0cnVjdCBzdG0zMl9kZHJfcG11ICpocnRpbWVyX3RvX3N0bTMyX2Rkcl9wbXUoc3RydWN0IGhy
dGltZXIgKmgpCit7CisJcmV0dXJuIGNvbnRhaW5lcl9vZihoLCBzdHJ1Y3Qgc3RtMzJfZGRyX3Bt
dSwgaHJ0aW1lcik7Cit9CisKK3N0YXRpYyB2b2lkIHN0bTMyX2Rkcl9zdGFydF9jb3VudGVycyhz
dHJ1Y3Qgc3RtMzJfZGRyX3BtdSAqcG11KQoreworCWNvbnN0IHN0cnVjdCBzdG0zMl9kZHJfcG11
X3JlZ3NwZWMgKnIgPSBwbXUtPmNmZy0+cmVnczsKKworCXdyaXRlbF9yZWxheGVkKHItPnN0YXJ0
Lm1hc2ssIHBtdS0+bWVtYmFzZSArIHItPnN0YXJ0LnJlZyk7Cit9CisKK3N0YXRpYyB2b2lkIHN0
bTMyX2Rkcl9zdG9wX2NvdW50ZXJzKHN0cnVjdCBzdG0zMl9kZHJfcG11ICpwbXUpCit7CisJY29u
c3Qgc3RydWN0IHN0bTMyX2Rkcl9wbXVfcmVnc3BlYyAqciA9IHBtdS0+Y2ZnLT5yZWdzOworCisJ
d3JpdGVsX3JlbGF4ZWQoci0+c3RvcC5tYXNrLCBwbXUtPm1lbWJhc2UgKyByLT5zdG9wLnJlZyk7
Cit9CisKK3N0YXRpYyB2b2lkIHN0bTMyX2Rkcl9jbGVhcl90aW1lX2NvdW50ZXIoc3RydWN0IHN0
bTMyX2Rkcl9wbXUgKnBtdSkKK3sKKwljb25zdCBzdHJ1Y3Qgc3RtMzJfZGRyX3BtdV9yZWdzcGVj
ICpyID0gcG11LT5jZmctPnJlZ3M7CisKKwl3cml0ZWxfcmVsYXhlZChyLT5jbGVhcl90aW1lLm1h
c2ssIHBtdS0+bWVtYmFzZSArIHItPmNsZWFyX3RpbWUucmVnKTsKK30KKworc3RhdGljIHZvaWQg
c3RtMzJfZGRyX2NsZWFyX2V2ZW50X2NvdW50ZXIoc3RydWN0IHN0bTMyX2Rkcl9wbXUgKnBtdSwg
c3RydWN0IHN0bTMyX2Rkcl9jbnQgKmNvdW50ZXIpCit7CisJY29uc3Qgc3RydWN0IHN0bTMyX2Rk
cl9wbXVfcmVnc3BlYyAqciA9IHBtdS0+Y2ZnLT5yZWdzOworCisJd3JpdGVsX3JlbGF4ZWQoci0+
Y2xlYXJfY250Lm1hc2sgJiBCSVQoY291bnRlci0+aWR4KSwgcG11LT5tZW1iYXNlICsgci0+Y2xl
YXJfY250LnJlZyk7Cit9CisKK3N0YXRpYyB2b2lkIHN0bTMyX2Rkcl9jbGVhcl9jb3VudGVyKHN0
cnVjdCBzdG0zMl9kZHJfcG11ICpwbXUsIHN0cnVjdCBzdG0zMl9kZHJfY250ICpjb3VudGVyKQor
eworCWNvbnN0IHN0cnVjdCBzdG0zMl9kZHJfcG11X3JlZ3NwZWMgKnIgPSBwbXUtPmNmZy0+cmVn
czsKKwl1MzIgc3RhdHVzID0gcmVhZGxfcmVsYXhlZChwbXUtPm1lbWJhc2UgKyByLT5zdGF0dXMu
cmVnKTsKKworCWlmIChjb3VudGVyLT5pZHggPT0gcG11LT5jZmctPnRpbWVfY250X2lkeCkKKwkJ
c3RtMzJfZGRyX2NsZWFyX3RpbWVfY291bnRlcihwbXUpOworCWVsc2UKKwkJc3RtMzJfZGRyX2Ns
ZWFyX2V2ZW50X2NvdW50ZXIocG11LCBjb3VudGVyKTsKKworCWlmIChzdGF0dXMgJiByLT5zdGF0
dXMubWFzaykKKwkJZGV2X2VycihwbXUtPmRldiwgIkZhaWxlZCB0byBjbGVhciBjb3VudGVyICVp
IGJlY2F1c2UgdGhlIFBNVSBpcyBidXN5XG4iLAorCQkJY291bnRlci0+aWR4KTsKK30KKworc3Rh
dGljIHZvaWQgc3RtMzJfZGRyX2NvdW50ZXJfZW5hYmxlKHN0cnVjdCBzdG0zMl9kZHJfcG11ICpw
bXUsIHN0cnVjdCBzdG0zMl9kZHJfY250ICpjb3VudGVyKQoreworCWNvbnN0IHN0cnVjdCBzdG0z
Ml9kZHJfcG11X3JlZ3NwZWMgKnIgPSBwbXUtPmNmZy0+cmVnczsKKwl1MzIgdmFsID0gcmVhZGxf
cmVsYXhlZChwbXUtPm1lbWJhc2UgKyByLT5lbmFibGUucmVnKTsKKworCXZhbCB8PSBCSVQoY291
bnRlci0+aWR4KTsKKwl3cml0ZWxfcmVsYXhlZCh2YWwsIHBtdS0+bWVtYmFzZSArIHItPmVuYWJs
ZS5yZWcpOworfQorCitzdGF0aWMgdm9pZCBzdG0zMl9kZHJfY291bnRlcl9kaXNhYmxlKHN0cnVj
dCBzdG0zMl9kZHJfcG11ICpwbXUsIHN0cnVjdCBzdG0zMl9kZHJfY250ICpjb3VudGVyKQorewor
CWNvbnN0IHN0cnVjdCBzdG0zMl9kZHJfcG11X3JlZ3NwZWMgKnIgPSBwbXUtPmNmZy0+cmVnczsK
Kwl1MzIgdmFsID0gcmVhZGxfcmVsYXhlZChwbXUtPm1lbWJhc2UgKyByLT5lbmFibGUucmVnKTsK
KworCXZhbCAmPSB+QklUKGNvdW50ZXItPmlkeCk7CisJd3JpdGVsX3JlbGF4ZWQodmFsLCBwbXUt
Pm1lbWJhc2UgKyByLT5lbmFibGUucmVnKTsKK30KKworc3RhdGljIGludCBzdG0zMl9kZHJfc2Vs
X2V2bnQoc3RydWN0IHN0bTMyX2Rkcl9wbXUgKnBtdSwgc3RydWN0IHN0bTMyX2Rkcl9jbnQgKmNv
dW50ZXIpCit7CisJY29uc3Qgc3RydWN0IHN0bTMyX2Rkcl9wbXVfcmVnc3BlYyAqciA9IHBtdS0+
Y2ZnLT5yZWdzOworCXUzMiBjbnRfc2VsX3ZhbDsKKworCXUzMiBncm91cF92YWwgPSBTVE0zMl9E
RFJfUE1VX0dST1VQX1ZBTFVFKGNvdW50ZXItPmV2dC0+YXR0ci5jb25maWcpOworCXUzMiBldnRf
dmFsID0gU1RNMzJfRERSX1BNVV9FVkVOVF9JTkRFWChjb3VudGVyLT5ldnQtPmF0dHIuY29uZmln
KTsKKworCWlmIChwbXUtPnNlbGVjdGVkX3NldCAhPSAtMSAmJiBwbXUtPnNlbGVjdGVkX3NldCAh
PSBncm91cF92YWwpIHsKKwkJZGV2X2VycihwbXUtPmRldiwgIlNlbGVjdGVkIGV2ZW50cyBhcmUg
ZnJvbSBkaWZmZXJlbnQgc2V0XG4iKTsKKwkJcmV0dXJuIC1FSU5WQUw7CisJfQorCXBtdS0+c2Vs
ZWN0ZWRfc2V0ID0gZ3JvdXBfdmFsOworCisJaWYgKHBtdS0+Y2ZnLT5yZWdzLT5jZmcucmVnKSB7
CisJCWNudF9zZWxfdmFsID0gcmVhZGxfcmVsYXhlZChwbXUtPm1lbWJhc2UgKyByLT5jZmcucmVn
KTsKKwkJY250X3NlbF92YWwgJj0gfkNGR19TRUxfTVNLOworCQljbnRfc2VsX3ZhbCB8PSAoQ0ZH
X1NFTF9NU0sgJiAoZ3JvdXBfdmFsIDw8IENGR19TRUxfU0hJRlQpKTsKKwkJd3JpdGVsX3JlbGF4
ZWQoY250X3NlbF92YWwsIHBtdS0+bWVtYmFzZSArIHItPmNmZy5yZWcpOworCisJCXJldHVybiAw
OworCX0KKworCS8qIFdlIGFzc3VtZSBjZmcwIGFuZCBjZmcxIGFyZSBmaWxsZWQgaW4gdGhlIG1h
dGNoIGRhdGEgKi8KKwl1MzIgY250X2lkeCA9IGNvdW50ZXItPmlkeDsKKwl1MzIgY250X3NlbF9l
dnRfcmVnID0gci0+Y2ZnMC5yZWc7CisKKwlpZiAoIShjbnRfaWR4IDwgTVAyX0NOVF9TRUxfUEVS
X1JFRykpIHsKKwkJY250X3NlbF9ldnRfcmVnID0gci0+Y2ZnMS5yZWc7CisJCWNudF9pZHggLT0g
TVAyX0NOVF9TRUxfUEVSX1JFRzsKKwl9CisKKwljbnRfc2VsX3ZhbCA9IHJlYWRsX3JlbGF4ZWQo
cG11LT5tZW1iYXNlICsgY250X3NlbF9ldnRfcmVnKTsKKwljbnRfc2VsX3ZhbCAmPSB+R0VOTUFT
Syg4ICogY250X2lkeCArIDcsIDggKiBjbnRfaWR4KTsKKwljbnRfc2VsX3ZhbCB8PSBldnRfdmFs
IDw8ICg4ICogY250X2lkeCk7CisKKwl3cml0ZWxfcmVsYXhlZChjbnRfc2VsX3ZhbCwgcG11LT5t
ZW1iYXNlICsgY250X3NlbF9ldnRfcmVnKTsKKworCXJldHVybiAwOworfQorCitzdGF0aWMgc3Ry
dWN0IHN0bTMyX2Rkcl9jbnQgKnN0bTMyX2Rkcl9wbXVfZ2V0X2V2ZW50X2NvdW50ZXJfbXAxKHN0
cnVjdCBzdG0zMl9kZHJfcG11ICpwbXUsCisJCQkJCQkJCSBzdHJ1Y3QgcGVyZl9ldmVudCAqZXZl
bnQpCit7CisJdTMyIGNvbmZpZyA9IGV2ZW50LT5hdHRyLmNvbmZpZzsKKwl1MzIgZXZlbnRfaWR4
ID0gU1RNMzJfRERSX1BNVV9FVkVOVF9JTkRFWChjb25maWcpOworCXN0cnVjdCBzdG0zMl9kZHJf
Y250ICpjbnQ7CisKKwljbnQgPSBremFsbG9jKHNpemVvZigqY250KSwgR0ZQX0tFUk5FTCk7CisJ
aWYgKCFjbnQpCisJCXJldHVybiBFUlJfUFRSKC1FTk9NRU0pOworCisJY250LT5ldnQgPSBldmVu
dDsKKwljbnQtPmlkeCA9IGV2ZW50X2lkeDsKKwlldmVudC0+cG11X3ByaXZhdGUgPSBjbnQ7CisJ
bGlzdF9hZGQoJmNudC0+Y250X2xpc3QsICZwbXUtPmNvdW50ZXJzW2V2ZW50X2lkeF0pOworCisJ
cmV0dXJuIGNudDsKK30KKworc3RhdGljIHN0cnVjdCBzdG0zMl9kZHJfY250ICpzdG0zMl9kZHJf
cG11X2dldF9ldmVudF9jb3VudGVyX21wMihzdHJ1Y3Qgc3RtMzJfZGRyX3BtdSAqcG11LAorCQkJ
CQkJCQkgc3RydWN0IHBlcmZfZXZlbnQgKmV2ZW50KQoreworCXN0cnVjdCBzdG0zMl9kZHJfY250
ICpjbnQ7CisJaW50IGlkeCA9IC0xOworCisJLyogTG9vcCBvbiBhbGwgdGhlIGNvdW50ZXJzIGV4
Y2VwdCBUSU1FX0NOVF9JRFggKi8KKwlmb3IgKGludCBpID0gMDsgaSA8IHBtdS0+Y2ZnLT5ldnRf
Y291bnRlcnNfbmI7IGkrKykgeworCQl1NjQgY29uZmlnOworCisJCWlmIChsaXN0X2VtcHR5KCZw
bXUtPmNvdW50ZXJzW2ldKSkgeworCQkJaWR4ID0gaTsKKwkJCWNvbnRpbnVlOworCQl9CisJCWNv
bmZpZyA9IGxpc3RfZmlyc3RfZW50cnkoJnBtdS0+Y291bnRlcnNbaV0sIHN0cnVjdCBzdG0zMl9k
ZHJfY250LAorCQkJCQkgIGNudF9saXN0KS0+ZXZ0LT5hdHRyLmNvbmZpZzsKKwkJaWYgKGNvbmZp
ZyA9PSBldmVudC0+YXR0ci5jb25maWcpIHsKKwkJCWlkeCA9IGk7CisJCQlicmVhazsKKwkJfQor
CX0KKworCWlmIChpZHggPT0gLTEpCisJCXJldHVybiBFUlJfUFRSKC1FTk9FTlQpOworCisJY250
ID0ga3phbGxvYyhzaXplb2YoKmNudCksIEdGUF9LRVJORUwpOworCWlmICghY250KQorCQlyZXR1
cm4gRVJSX1BUUigtRU5PTUVNKTsKKworCWNudC0+ZXZ0ID0gZXZlbnQ7CisJY250LT5pZHggPSBp
ZHg7CisJZXZlbnQtPnBtdV9wcml2YXRlID0gY250OworCisJbGlzdF9hZGQoJmNudC0+Y250X2xp
c3QsICZwbXUtPmNvdW50ZXJzW2lkeF0pOworCisJcmV0dXJuIGNudDsKK30KKworc3RhdGljIGlu
bGluZSBzdHJ1Y3Qgc3RtMzJfZGRyX2NudCAqc3RtMzJfZ2V0X2V2ZW50X2NvdW50ZXIoc3RydWN0
IHN0bTMyX2Rkcl9wbXUgKnBtdSwKKwkJCQkJCQkgICAgc3RydWN0IHBlcmZfZXZlbnQgKmV2ZW50
KQoreworCXJldHVybiBwbXUtPmNmZy0+Z2V0X2NvdW50ZXIocG11LCBldmVudCk7Cit9CisKK3N0
YXRpYyBpbnQgc3RtMzJfZGRyX3BtdV9nZXRfY291bnRlcihzdHJ1Y3Qgc3RtMzJfZGRyX3BtdSAq
cG11LCBzdHJ1Y3QgcGVyZl9ldmVudCAqZXZlbnQpCit7CisJdTMyIHRpbWVfY250X2lkeCA9IHBt
dS0+Y2ZnLT50aW1lX2NudF9pZHg7CisJdTMyIGNvbmZpZyA9IGV2ZW50LT5hdHRyLmNvbmZpZzsK
KwlzdHJ1Y3Qgc3RtMzJfZGRyX2NudCAqY250OworCisJcG11LT5zZWxlY3RlZF9zZXQgPSBTVE0z
Ml9ERFJfUE1VX0dST1VQX1ZBTFVFKGNvbmZpZyk7CisKKwlpZiAoY29uZmlnID09IFRJTUVfQ05U
KSB7CisJCWNudCA9IGt6YWxsb2Moc2l6ZW9mKCpjbnQpLCBHRlBfS0VSTkVMKTsKKwkJaWYgKCFj
bnQpCisJCQlyZXR1cm4gLUVOT01FTTsKKworCQljbnQtPmV2dCA9IGV2ZW50OworCQljbnQtPmlk
eCA9IHRpbWVfY250X2lkeDsKKwkJZXZlbnQtPnBtdV9wcml2YXRlID0gY250OworCQlsaXN0X2Fk
ZCgmY250LT5jbnRfbGlzdCwgJnBtdS0+Y291bnRlcnNbdGltZV9jbnRfaWR4XSk7CisKKwkJcmV0
dXJuIDA7CisJfQorCisJY250ID0gc3RtMzJfZ2V0X2V2ZW50X2NvdW50ZXIocG11LCBldmVudCk7
CisJaWYgKElTX0VSUihjbnQpKQorCQlyZXR1cm4gUFRSX0VSUihjbnQpOworCisJaWYgKGxpc3Rf
Y291bnRfbm9kZXMoJmNudC0+Y250X2xpc3QpID09IDEpIHsKKwkJc3RtMzJfZGRyX3N0b3BfY291
bnRlcnMocG11KTsKKwkJc3RtMzJfZGRyX3NlbF9ldm50KHBtdSwgY250KTsKKwkJc3RtMzJfZGRy
X2NvdW50ZXJfZW5hYmxlKHBtdSwgY250KTsKKwkJc3RtMzJfZGRyX3N0YXJ0X2NvdW50ZXJzKHBt
dSk7CisJfQorCisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyB2b2lkIHN0bTMyX2Rkcl9wbXVfZnJl
ZV9jb3VudGVyKHN0cnVjdCBzdG0zMl9kZHJfcG11ICpwbXUsCisJCQkJICAgICAgIHN0cnVjdCBz
dG0zMl9kZHJfY250ICpjb3VudGVyKQoreworCXNpemVfdCBjb3VudCA9IGxpc3RfY291bnRfbm9k
ZXMoJmNvdW50ZXItPmNudF9saXN0KTsKKworCWlmIChjb3VudGVyLT5ldnQtPmF0dHIuY29uZmln
ICE9IFRJTUVfQ05UICYmIGNvdW50ID09IDEpCisJCXN0bTMyX2Rkcl9jb3VudGVyX2Rpc2FibGUo
cG11LCBjb3VudGVyKTsKKworCWxpc3RfZGVsKCZjb3VudGVyLT5jbnRfbGlzdCk7CisJa2ZyZWUo
Y291bnRlcik7Cit9CisKK3N0YXRpYyB2b2lkIHN0bTMyX2Rkcl9wbXVfZXZlbnRfdXBkYXRlX2xp
c3Qoc3RydWN0IHN0bTMyX2Rkcl9wbXUgKnBtdSwgc3RydWN0IGxpc3RfaGVhZCAqbGlzdCkKK3sK
KwlzdHJ1Y3Qgc3RtMzJfZGRyX2NudCAqY291bnRlciA9IGxpc3RfZmlyc3RfZW50cnkobGlzdCwg
c3RydWN0IHN0bTMyX2Rkcl9jbnQsIGNudF9saXN0KTsKKwljb25zdCBzdHJ1Y3Qgc3RtMzJfZGRy
X3BtdV9yZWdzcGVjICpyID0gcG11LT5jZmctPnJlZ3M7CisJdTMyIHZhbDsKKworCWlmIChjb3Vu
dGVyLT5ldnQtPmF0dHIuY29uZmlnICE9IFRJTUVfQ05UKQorCQl2YWwgPSByZWFkbF9yZWxheGVk
KHBtdS0+bWVtYmFzZSArIHItPmNvdW50ZXJfZXZ0W2NvdW50ZXItPmlkeF0ucmVnKTsKKwllbHNl
CisJCXZhbCA9IHJlYWRsX3JlbGF4ZWQocG11LT5tZW1iYXNlICsgci0+Y291bnRlcl90aW1lLnJl
Zyk7CisKKwlzdG0zMl9kZHJfY2xlYXJfY291bnRlcihwbXUsIGNvdW50ZXIpOworCisJbGlzdF9m
b3JfZWFjaF9lbnRyeShjb3VudGVyLCBsaXN0LCBjbnRfbGlzdCkKKwkJbG9jYWw2NF9hZGQodmFs
LCAmY291bnRlci0+ZXZ0LT5jb3VudCk7Cit9CisKK3N0YXRpYyB2b2lkIHN0bTMyX2Rkcl9wbXVf
ZXZlbnRfcmVhZChzdHJ1Y3QgcGVyZl9ldmVudCAqZXZlbnQpCit7CisJc3RydWN0IHN0bTMyX2Rk
cl9wbXUgKnBtdSA9IHRvX3N0bTMyX2Rkcl9wbXUoZXZlbnQtPnBtdSk7CisJc3RydWN0IHN0bTMy
X2Rkcl9jbnQgKmNudCA9IGV2ZW50LT5wbXVfcHJpdmF0ZTsKKworCWhydGltZXJfc3RhcnQoJnBt
dS0+aHJ0aW1lciwgcG11LT5wb2xsX3BlcmlvZCwgSFJUSU1FUl9NT0RFX1JFTF9QSU5ORUQpOwor
CisJc3RtMzJfZGRyX3N0b3BfY291bnRlcnMocG11KTsKKworCXN0bTMyX2Rkcl9wbXVfZXZlbnRf
dXBkYXRlX2xpc3QocG11LCAmcG11LT5jb3VudGVyc1tjbnQtPmlkeF0pOworCisJc3RtMzJfZGRy
X3N0YXJ0X2NvdW50ZXJzKHBtdSk7Cit9CisKK3N0YXRpYyB2b2lkIHN0bTMyX2Rkcl9wbXVfZXZl
bnRfc3RhcnQoc3RydWN0IHBlcmZfZXZlbnQgKmV2ZW50LCBpbnQgZmxhZ3MpCit7CisJc3RydWN0
IHN0bTMyX2Rkcl9wbXUgKnBtdSA9IHRvX3N0bTMyX2Rkcl9wbXUoZXZlbnQtPnBtdSk7CisJc3Ry
dWN0IHN0bTMyX2Rkcl9jbnQgKmNvdW50ZXIgPSBldmVudC0+cG11X3ByaXZhdGU7CisJc3RydWN0
IGh3X3BlcmZfZXZlbnQgKmh3ID0gJmV2ZW50LT5odzsKKworCWlmIChXQVJOX09OX09OQ0UoISho
dy0+c3RhdGUgJiBQRVJGX0hFU19TVE9QUEVEKSkpCisJCXJldHVybjsKKworCWlmIChmbGFncyAm
IFBFUkZfRUZfUkVMT0FEKQorCQlXQVJOX09OX09OQ0UoIShody0+c3RhdGUgJiBQRVJGX0hFU19V
UFRPREFURSkpOworCisJc3RtMzJfZGRyX3N0b3BfY291bnRlcnMocG11KTsKKworCWlmIChsaXN0
X2NvdW50X25vZGVzKCZjb3VudGVyLT5jbnRfbGlzdCkgPT0gMSkKKwkJc3RtMzJfZGRyX2NsZWFy
X2NvdW50ZXIocG11LCBjb3VudGVyKTsKKwllbHNlCisJCXN0bTMyX2Rkcl9wbXVfZXZlbnRfdXBk
YXRlX2xpc3QocG11LCAmcG11LT5jb3VudGVyc1tjb3VudGVyLT5pZHhdKTsKKworCXN0bTMyX2Rk
cl9zdGFydF9jb3VudGVycyhwbXUpOworCWxvY2FsNjRfc2V0KCZody0+cHJldl9jb3VudCwgMCk7
CisJaHctPnN0YXRlID0gMDsKK30KKworc3RhdGljIHZvaWQgc3RtMzJfZGRyX3BtdV9ldmVudF9z
dG9wKHN0cnVjdCBwZXJmX2V2ZW50ICpldmVudCwgaW50IGZsYWdzKQoreworCXN0cnVjdCBod19w
ZXJmX2V2ZW50ICpodyA9ICZldmVudC0+aHc7CisKKwlpZiAoV0FSTl9PTl9PTkNFKGh3LT5zdGF0
ZSAmIFBFUkZfSEVTX1NUT1BQRUQpKQorCQlyZXR1cm47CisKKwlody0+c3RhdGUgfD0gUEVSRl9I
RVNfU1RPUFBFRDsKKworCWlmIChmbGFncyAmIFBFUkZfRUZfVVBEQVRFKSB7CisJCXN0bTMyX2Rk
cl9wbXVfZXZlbnRfcmVhZChldmVudCk7CisJCWh3LT5zdGF0ZSB8PSBQRVJGX0hFU19VUFRPREFU
RTsKKwl9Cit9CisKK3N0YXRpYyBpbnQgc3RtMzJfZGRyX3BtdV9ldmVudF9hZGQoc3RydWN0IHBl
cmZfZXZlbnQgKmV2ZW50LCBpbnQgZmxhZ3MpCit7CisJc3RydWN0IHN0bTMyX2Rkcl9wbXUgKnBt
dSA9IHRvX3N0bTMyX2Rkcl9wbXUoZXZlbnQtPnBtdSk7CisJaW50IHJldDsKKworCWNsa19lbmFi
bGUocG11LT5jbGspOworCisJaHJ0aW1lcl9zdGFydCgmcG11LT5ocnRpbWVyLCBwbXUtPnBvbGxf
cGVyaW9kLCBIUlRJTUVSX01PREVfUkVMX1BJTk5FRCk7CisKKwlyZXQgPSBzdG0zMl9kZHJfcG11
X2dldF9jb3VudGVyKHBtdSwgZXZlbnQpOworCWlmIChyZXQpCisJCXJldHVybiByZXQ7CisKKwll
dmVudC0+aHcuc3RhdGUgPSBQRVJGX0hFU19TVE9QUEVEIHwgUEVSRl9IRVNfVVBUT0RBVEU7CisK
KwlpZiAoZmxhZ3MgJiBQRVJGX0VGX1NUQVJUKQorCQlzdG0zMl9kZHJfcG11X2V2ZW50X3N0YXJ0
KGV2ZW50LCBmbGFncyk7CisKKwlyZXR1cm4gMDsKK30KKworc3RhdGljIHZvaWQgc3RtMzJfZGRy
X3BtdV9ldmVudF9kZWwoc3RydWN0IHBlcmZfZXZlbnQgKmV2ZW50LCBpbnQgZmxhZ3MpCit7CisJ
c3RydWN0IHN0bTMyX2Rkcl9wbXUgKnBtdSA9IHRvX3N0bTMyX2Rkcl9wbXUoZXZlbnQtPnBtdSk7
CisJc3RydWN0IHN0bTMyX2Rkcl9jbnQgKmNvdW50ZXIgPSBldmVudC0+cG11X3ByaXZhdGU7CisJ
Ym9vbCBldmVudHMgPSB0cnVlOworCisJc3RtMzJfZGRyX3BtdV9ldmVudF9zdG9wKGV2ZW50LCBQ
RVJGX0VGX1VQREFURSk7CisKKwlzdG0zMl9kZHJfcG11X2ZyZWVfY291bnRlcihwbXUsIGNvdW50
ZXIpOworCisJZm9yIChpbnQgaSA9IDA7IGkgPCBwbXUtPmNmZy0+Y291bnRlcnNfbmI7IGkrKykK
KwkJZXZlbnRzID0gIWxpc3RfZW1wdHkoJnBtdS0+Y291bnRlcnNbaV0pOworCisJLyogSWYgdGhl
cmUgaXMgYWN0aXZpdHkgbm90aGluZyB0byBkbyAqLworCWlmIChldmVudHMpCisJCXJldHVybjsK
KworCWhydGltZXJfY2FuY2VsKCZwbXUtPmhydGltZXIpOworCXN0bTMyX2Rkcl9zdG9wX2NvdW50
ZXJzKHBtdSk7CisKKwlwbXUtPnNlbGVjdGVkX3NldCA9IC0xOworCisJY2xrX2Rpc2FibGUocG11
LT5jbGspOworfQorCitzdGF0aWMgaW50IHN0bTMyX2Rkcl9wbXVfZXZlbnRfaW5pdChzdHJ1Y3Qg
cGVyZl9ldmVudCAqZXZlbnQpCit7CisJaWYgKGV2ZW50LT5hdHRyLnR5cGUgIT0gZXZlbnQtPnBt
dS0+dHlwZSkKKwkJcmV0dXJuIC1FTk9FTlQ7CisKKwlpZiAoaXNfc2FtcGxpbmdfZXZlbnQoZXZl
bnQpIHx8IGV2ZW50LT5hdHRhY2hfc3RhdGUgJiBQRVJGX0FUVEFDSF9UQVNLKQorCQlyZXR1cm4g
LUVJTlZBTDsKKworCXJldHVybiAwOworfQorCitzdGF0aWMgZW51bSBocnRpbWVyX3Jlc3RhcnQg
c3RtMzJfZGRyX3BtdV9wb2xsKHN0cnVjdCBocnRpbWVyICpocnRpbWVyKQoreworCXN0cnVjdCBz
dG0zMl9kZHJfcG11ICpwbXUgPSBocnRpbWVyX3RvX3N0bTMyX2Rkcl9wbXUoaHJ0aW1lcik7CisK
KwlzdG0zMl9kZHJfc3RvcF9jb3VudGVycyhwbXUpOworCisJZm9yIChpbnQgaSA9IDA7IGkgPCBN
UDJfQ05UX05COyBpKyspCisJCWlmICghbGlzdF9lbXB0eSgmcG11LT5jb3VudGVyc1tpXSkpCisJ
CQlzdG0zMl9kZHJfcG11X2V2ZW50X3VwZGF0ZV9saXN0KHBtdSwgJnBtdS0+Y291bnRlcnNbaV0p
OworCisJaWYgKGxpc3RfZW1wdHkoJnBtdS0+Y291bnRlcnNbcG11LT5jZmctPnRpbWVfY250X2lk
eF0pKQorCQlzdG0zMl9kZHJfY2xlYXJfdGltZV9jb3VudGVyKHBtdSk7CisKKwlzdG0zMl9kZHJf
c3RhcnRfY291bnRlcnMocG11KTsKKworCWhydGltZXJfZm9yd2FyZF9ub3coaHJ0aW1lciwgcG11
LT5wb2xsX3BlcmlvZCk7CisKKwlyZXR1cm4gSFJUSU1FUl9SRVNUQVJUOworfQorCitzdGF0aWMg
c3NpemVfdCBzdG0zMl9kZHJfcG11X3N5c2ZzX3Nob3coc3RydWN0IGRldmljZSAqZGV2LCBzdHJ1
Y3QgZGV2aWNlX2F0dHJpYnV0ZSAqYXR0ciwKKwkJCQkJY2hhciAqYnVmKQoreworCXN0cnVjdCBw
ZXJmX3BtdV9ldmVudHNfYXR0ciAqcG11X2F0dHI7CisKKwlwbXVfYXR0ciA9IGNvbnRhaW5lcl9v
ZihhdHRyLCBzdHJ1Y3QgcGVyZl9wbXVfZXZlbnRzX2F0dHIsIGF0dHIpOworCisJcmV0dXJuIHN5
c2ZzX2VtaXQoYnVmLCAiZXZlbnQ9MHglMDJsbHhcbiIsIHBtdV9hdHRyLT5pZCk7Cit9CisKK3N0
YXRpYyBpbnQgc3RtMzJfZGRyX3BtdV9nZXRfbWVtb3J5X3R5cGUoc3RydWN0IHN0bTMyX2Rkcl9w
bXUgKnBtdSkKK3sKKwlzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2ID0gdG9fcGxhdGZvcm1f
ZGV2aWNlKHBtdS0+ZGV2KTsKKwlzdHJ1Y3QgZGV2aWNlX25vZGUgKm1lbWNoYW47CisKKwltZW1j
aGFuID0gb2ZfcGFyc2VfcGhhbmRsZShwZGV2LT5kZXYub2Zfbm9kZSwgIm1lbW9yeS1jaGFubmVs
IiwgMCk7CisJaWYgKCFtZW1jaGFuKQorCQlyZXR1cm4gZGV2X2Vycl9wcm9iZSgmcGRldi0+ZGV2
LCAtRUlOVkFMLAorCQkJCSAgICAgIk1pc3NpbmcgZGV2aWNlLXRyZWUgcHJvcGVydHkgJ21lbW9y
eS1jaGFubmVsJ1xuIik7CisKKwlpZiAob2ZfZGV2aWNlX2lzX2NvbXBhdGlibGUobWVtY2hhbiwg
ImplZGVjLGxwZGRyNC1jaGFubmVsIikpCisJCXBtdS0+ZHJhbV90eXBlID0gU1RNMzJfRERSX1BN
VV9MUEREUjQ7CisJZWxzZSBpZiAob2ZfZGV2aWNlX2lzX2NvbXBhdGlibGUobWVtY2hhbiwgImpl
ZGVjLGxwZGRyMy1jaGFubmVsIikpCisJCXBtdS0+ZHJhbV90eXBlID0gU1RNMzJfRERSX1BNVV9M
UEREUjM7CisJZWxzZSBpZiAob2ZfZGV2aWNlX2lzX2NvbXBhdGlibGUobWVtY2hhbiwgImplZGVj
LGRkcjQtY2hhbm5lbCIpKQorCQlwbXUtPmRyYW1fdHlwZSA9IFNUTTMyX0REUl9QTVVfRERSNDsK
KwllbHNlIGlmIChvZl9kZXZpY2VfaXNfY29tcGF0aWJsZShtZW1jaGFuLCAiamVkZWMsZGRyMy1j
aGFubmVsIikpCisJCXBtdS0+ZHJhbV90eXBlID0gU1RNMzJfRERSX1BNVV9ERFIzOworCWVsc2UK
KwkJcmV0dXJuIGRldl9lcnJfcHJvYmUoJnBkZXYtPmRldiwgLUVJTlZBTCwgIlVuc3VwcG9ydGVk
IG1lbW9yeSBjaGFubmVsIHR5cGVcbiIpOworCisJaWYgKHBtdS0+ZHJhbV90eXBlID09IFNUTTMy
X0REUl9QTVVfTFBERFIzKQorCQlkZXZfd2FybigmcGRldi0+ZGV2LAorCQkJICJMUEREUjMgc3Vw
cG9ydGVkIGJ5IEREUlBFUkZNIGJ1dCBub3Qgc3VwcG9ydGVkIGJ5IEREUkNUUkwvRERSUEhZXG4i
KTsKKworCXJldHVybiAwOworfQorCisjZGVmaW5lIFNUTTMyX0REUl9QTVVfRVZFTlRfQVRUUihf
bmFtZSwgX2lkKQkJCVwKKwlQTVVfRVZFTlRfQVRUUl9JRChfbmFtZSwgc3RtMzJfZGRyX3BtdV9z
eXNmc19zaG93LCBfaWQpCisKK3N0YXRpYyBzdHJ1Y3QgYXR0cmlidXRlICpzdG0zMl9kZHJfcG11
X2V2ZW50c19hdHRyc19tcFtdID0geworCVNUTTMyX0REUl9QTVVfRVZFTlRfQVRUUihwZXJmX29w
X2lzX3JkLCBQRVJGX09QX0lTX1JEKSwKKwlTVE0zMl9ERFJfUE1VX0VWRU5UX0FUVFIocGVyZl9v
cF9pc193ciwgUEVSRl9PUF9JU19XUiksCisJU1RNMzJfRERSX1BNVV9FVkVOVF9BVFRSKHBlcmZf
b3BfaXNfYWN0aXZhdGUsIFBFUkZfT1BfSVNfQUNUSVZBVEUpLAorCVNUTTMyX0REUl9QTVVfRVZF
TlRfQVRUUihjdGxfaWRsZSwgQ1RMX0lETEUpLAorCVNUTTMyX0REUl9QTVVfRVZFTlRfQVRUUihw
ZXJmX2hwcl9yZXFfd2l0aF9ub19jcmVkaXQsIFBFUkZfSFBSX1JFUV9XSVRIX05PX0NSRURJVCks
CisJU1RNMzJfRERSX1BNVV9FVkVOVF9BVFRSKHBlcmZfbHByX3JlcV93aXRoX25vX2NyZWRpdCwg
UEVSRl9MUFJfUkVRX1dJVEhfTk9fQ1JFRElUKSwKKwlTVE0zMl9ERFJfUE1VX0VWRU5UX0FUVFIo
Y2FjdGl2ZV9kZHJjLCBDQUNUSVZFX0REUkMpLAorCVNUTTMyX0REUl9QTVVfRVZFTlRfQVRUUihw
ZXJmX29wX2lzX2VudGVyX3Bvd2VyZG93biwgUEVSRl9PUF9JU19FTlRFUl9QT1dFUkRPV04pLAor
CVNUTTMyX0REUl9QTVVfRVZFTlRfQVRUUihwZXJmX29wX2lzX3JlZnJlc2gsIFBFUkZfT1BfSVNf
UkVGUkVTSCksCisJU1RNMzJfRERSX1BNVV9FVkVOVF9BVFRSKHBlcmZfc2VsZnJlc2hfbW9kZSwg
UEVSRl9TRUxGUkVTSF9NT0RFKSwKKwlTVE0zMl9ERFJfUE1VX0VWRU5UX0FUVFIoZGZpX2xwX3Jl
cSwgREZJX0xQX1JFUSksCisJU1RNMzJfRERSX1BNVV9FVkVOVF9BVFRSKHBlcmZfaHByX3hhY3Rf
d2hlbl9jcml0aWNhbCwgUEVSRl9IUFJfWEFDVF9XSEVOX0NSSVRJQ0FMKSwKKwlTVE0zMl9ERFJf
UE1VX0VWRU5UX0FUVFIocGVyZl9scHJfeGFjdF93aGVuX2NyaXRpY2FsLCBQRVJGX0xQUl9YQUNU
X1dIRU5fQ1JJVElDQUwpLAorCVNUTTMyX0REUl9QTVVfRVZFTlRfQVRUUihwZXJmX3dyX3hhY3Rf
d2hlbl9jcml0aWNhbCwgUEVSRl9XUl9YQUNUX1dIRU5fQ1JJVElDQUwpLAorCVNUTTMyX0REUl9Q
TVVfRVZFTlRfQVRUUihkZmlfbHBfcmVxX2NweSwgREZJX0xQX1JFUSksICAvKiBTdWZmaXhlZCAn
X2NweScgdG8gYWxsb3cgdGhlCisJCQkJCQkJCSogY2hvaWNlIGJldHdlZW4gc2V0cyAyIGFuZCAz
CisJCQkJCQkJCSovCisJU1RNMzJfRERSX1BNVV9FVkVOVF9BVFRSKHRpbWVfY250LCBUSU1FX0NO
VCksCisJTlVMTCwKK307CisKK3N0YXRpYyBzdHJ1Y3QgYXR0cmlidXRlX2dyb3VwIHN0bTMyX2Rk
cl9wbXVfZXZlbnRzX2F0dHJzX2dyb3VwX21wID0geworCS5uYW1lID0gImV2ZW50cyIsCisJLmF0
dHJzID0gc3RtMzJfZGRyX3BtdV9ldmVudHNfYXR0cnNfbXAsCit9OworCitzdGF0aWMgc3RydWN0
IGF0dHJpYnV0ZSAqc3RtMzJfZGRyX3BtdV9ldmVudHNfYXR0cnNfbXAyW10gPSB7CisJU1RNMzJf
RERSX1BNVV9FVkVOVF9BVFRSKGRmaV9pc19hY3QsIERGSV9JU19BQ1QpLAorCVNUTTMyX0REUl9Q
TVVfRVZFTlRfQVRUUihkZmlfaXNfcHJlcGIsIERGSV9JU19QUkVQQiksCisJU1RNMzJfRERSX1BN
VV9FVkVOVF9BVFRSKGRmaV9pc19wcmVhYiwgREZJX0lTX1BSRUFCKSwKKwlTVE0zMl9ERFJfUE1V
X0VWRU5UX0FUVFIoZGZpX2lzX3JkLCBERklfSVNfUkQpLAorCVNUTTMyX0REUl9QTVVfRVZFTlRf
QVRUUihkZmlfaXNfcmRhLCBERklfSVNfUkRBKSwKKwlTVE0zMl9ERFJfUE1VX0VWRU5UX0FUVFIo
ZGZpX2lzX3dyLCBERklfSVNfV1IpLAorCVNUTTMyX0REUl9QTVVfRVZFTlRfQVRUUihkZmlfaXNf
d3JhLCBERklfSVNfV1JBKSwKKwlTVE0zMl9ERFJfUE1VX0VWRU5UX0FUVFIoZGZpX2lzX213ciwg
REZJX0lTX01XUiksCisJU1RNMzJfRERSX1BNVV9FVkVOVF9BVFRSKGRmaV9pc19td3JhLCBERklf
SVNfTVdSQSksCisJU1RNMzJfRERSX1BNVV9FVkVOVF9BVFRSKGRmaV9pc19tcncsIERGSV9JU19N
UlcpLAorCVNUTTMyX0REUl9QTVVfRVZFTlRfQVRUUihkZmlfaXNfbXJyLCBERklfSVNfTVJSKSwK
KwlTVE0zMl9ERFJfUE1VX0VWRU5UX0FUVFIoZGZpX2lzX3JlZnBiLCBERklfSVNfUkVGUEIpLAor
CVNUTTMyX0REUl9QTVVfRVZFTlRfQVRUUihkZmlfaXNfcmVmYWIsIERGSV9JU19SRUZBQiksCisJ
U1RNMzJfRERSX1BNVV9FVkVOVF9BVFRSKGRmaV9pc19tcGMsIERGSV9JU19NUEMpLAorCVNUTTMy
X0REUl9QTVVfRVZFTlRfQVRUUihwZXJmX29wX2lzX2FjdCwgUEVSRl9PUF9JU19BQ1QpLAorCVNU
TTMyX0REUl9QTVVfRVZFTlRfQVRUUihwZXJmX29wX2lzX3JkLCBQRVJGX09QX0lTX1JEKSwKKwlT
VE0zMl9ERFJfUE1VX0VWRU5UX0FUVFIocGVyZl9vcF9pc193ciwgUEVSRl9PUF9JU19XUiksCisJ
U1RNMzJfRERSX1BNVV9FVkVOVF9BVFRSKHBlcmZfb3BfaXNfbXdyLCBQRVJGX09QX0lTX01XUiks
CisJU1RNMzJfRERSX1BNVV9FVkVOVF9BVFRSKHBlcmZfb3BfaXNfcmVmLCBQRVJGX09QX0lTX1JF
RiksCisJU1RNMzJfRERSX1BNVV9FVkVOVF9BVFRSKHBlcmZfb3BfaXNfY3JpdF9yZWYsIFBFUkZf
T1BfSVNfQ1JJVF9SRUYpLAorCVNUTTMyX0REUl9QTVVfRVZFTlRfQVRUUihwZXJmX29wX2lzX3Nw
ZWNfcmVmLCBQRVJGX09QX0lTX1NQRUNfUkVGKSwKKwlTVE0zMl9ERFJfUE1VX0VWRU5UX0FUVFIo
cGVyZl9vcF9pc196cWNhbCwgUEVSRl9PUF9JU19aUUNBTCksCisJU1RNMzJfRERSX1BNVV9FVkVO
VF9BVFRSKHBlcmZfb3BfaXNfZW50ZXJfcG93ZG4sIFBFUkZfT1BfSVNfRU5URVJfUE9XRE4pLAor
CVNUTTMyX0REUl9QTVVfRVZFTlRfQVRUUihwZXJmX29wX2lzX2VudGVyX3NlbGZyZWYsIFBFUkZf
T1BfSVNfRU5URVJfU0VMRlJFRiksCisJU1RNMzJfRERSX1BNVV9FVkVOVF9BVFRSKHBlcmZfb3Bf
aXNfcHJlLCBQRVJGX09QX0lTX1BSRSksCisJU1RNMzJfRERSX1BNVV9FVkVOVF9BVFRSKHBlcmZf
b3BfaXNfcHJlX2Zvcl9yZHdyLCBQRVJGX09QX0lTX1BSRV9GT1JfUkRXUiksCisJU1RNMzJfRERS
X1BNVV9FVkVOVF9BVFRSKHBlcmZfb3BfaXNfcHJlX2Zvcl9vdGhlcnMsIFBFUkZfT1BfSVNfUFJF
X0ZPUl9PVEhFUlMpLAorCVNUTTMyX0REUl9QTVVfRVZFTlRfQVRUUihwZXJmX29wX2lzX3JkX2Fj
dGl2YXRlLCBQRVJGX09QX0lTX1JEX0FDVElWQVRFKSwKKwlTVE0zMl9ERFJfUE1VX0VWRU5UX0FU
VFIocGVyZl9ocHJfcmVxX3dpdGhfbm9jcmVkaXQsIFBFUkZfSFBSX1JFUV9XSVRIX05PQ1JFRElU
KSwKKwlTVE0zMl9ERFJfUE1VX0VWRU5UX0FUVFIocGVyZl9scHJfcmVxX3dpdGhfbm9jcmVkaXQs
IFBFUkZfTFBSX1JFUV9XSVRIX05PQ1JFRElUKSwKKwlTVE0zMl9ERFJfUE1VX0VWRU5UX0FUVFIo
cGVyZl9ocHJfeGFjdF93aGVuX2NyaXRpY2FsLCBQRVJGX0hQUl9YQUNUX1dIRU5fQ1JJVElDQUwp
LAorCVNUTTMyX0REUl9QTVVfRVZFTlRfQVRUUihwZXJmX2xwcl94YWN0X3doZW5fY3JpdGljYWws
IFBFUkZfTFBSX1hBQ1RfV0hFTl9DUklUSUNBTCksCisJU1RNMzJfRERSX1BNVV9FVkVOVF9BVFRS
KHBlcmZfd3JfeGFjdF93aGVuX2NyaXRpY2FsLCBQRVJGX1dSX1hBQ1RfV0hFTl9DUklUSUNBTCks
CisJU1RNMzJfRERSX1BNVV9FVkVOVF9BVFRSKHBlcmZfcmR3cl90cmFuc2l0aW9ucywgUEVSRl9S
RFdSX1RSQU5TSVRJT05TKSwKKwlTVE0zMl9ERFJfUE1VX0VWRU5UX0FUVFIocGVyZl93YXJfaGF6
YXJkLCBQRVJGX1dBUl9IQVpBUkQpLAorCVNUTTMyX0REUl9QTVVfRVZFTlRfQVRUUihwZXJmX3Jh
d19oYXphcmQsIFBFUkZfUkFXX0hBWkFSRCksCisJU1RNMzJfRERSX1BNVV9FVkVOVF9BVFRSKHBl
cmZfd2F3X2hhemFyZCwgUEVSRl9XQVdfSEFaQVJEKSwKKwlTVE0zMl9ERFJfUE1VX0VWRU5UX0FU
VFIocGVyZl9yYW5rLCBQRVJGX1JBTkspLAorCVNUTTMyX0REUl9QTVVfRVZFTlRfQVRUUihwZXJm
X3JlYWRfYnlwYXNzLCBQRVJGX1JFQURfQllQQVNTKSwKKwlTVE0zMl9ERFJfUE1VX0VWRU5UX0FU
VFIocGVyZl9hY3RfYnlwYXNzLCBQRVJGX0FDVF9CWVBBU1MpLAorCVNUTTMyX0REUl9QTVVfRVZF
TlRfQVRUUihwZXJmX3dpbmRvd19saW1pdF9yZWFjaGVkX3JkLCBQRVJGX1dJTkRPV19MSU1JVF9S
RUFDSEVEX1JEKSwKKwlTVE0zMl9ERFJfUE1VX0VWRU5UX0FUVFIocGVyZl93aW5kb3dfbGltaXRf
cmVhY2hlZF93ciwgUEVSRl9XSU5ET1dfTElNSVRfUkVBQ0hFRF9XUiksCisJU1RNMzJfRERSX1BN
VV9FVkVOVF9BVFRSKHRpbWVfY250LCBUSU1FX0NOVCksCisJTlVMTAorfTsKKworc3RhdGljIHN0
cnVjdCBhdHRyaWJ1dGVfZ3JvdXAgc3RtMzJfZGRyX3BtdV9ldmVudHNfYXR0cnNfZ3JvdXBfbXAy
ID0geworCS5uYW1lID0gImV2ZW50cyIsCisJLmF0dHJzID0gc3RtMzJfZGRyX3BtdV9ldmVudHNf
YXR0cnNfbXAyLAorfTsKKworUE1VX0ZPUk1BVF9BVFRSKGV2ZW50LCAiY29uZmlnOjAtOCIpOwor
CitzdGF0aWMgc3RydWN0IGF0dHJpYnV0ZSAqc3RtMzJfZGRyX3BtdV9mb3JtYXRfYXR0cnNbXSA9
IHsKKwkmZm9ybWF0X2F0dHJfZXZlbnQuYXR0ciwKKwlOVUxMCit9OworCitzdGF0aWMgY29uc3Qg
c3RydWN0IGF0dHJpYnV0ZV9ncm91cCBzdG0zMl9kZHJfcG11X2Zvcm1hdF9hdHRyX2dyb3VwID0g
eworCS5uYW1lID0gImZvcm1hdCIsCisJLmF0dHJzID0gc3RtMzJfZGRyX3BtdV9mb3JtYXRfYXR0
cnMsCit9OworCitzdGF0aWMgY29uc3Qgc3RydWN0IGF0dHJpYnV0ZV9ncm91cCAqc3RtMzJfZGRy
X3BtdV9hdHRyX2dyb3Vwc19tcDFbXSA9IHsKKwkmc3RtMzJfZGRyX3BtdV9ldmVudHNfYXR0cnNf
Z3JvdXBfbXAsCisJJnN0bTMyX2Rkcl9wbXVfZm9ybWF0X2F0dHJfZ3JvdXAsCisJTlVMTAorfTsK
Kworc3RhdGljIGNvbnN0IHN0cnVjdCBhdHRyaWJ1dGVfZ3JvdXAgKnN0bTMyX2Rkcl9wbXVfYXR0
cl9ncm91cHNfbXAyW10gPSB7CisJJnN0bTMyX2Rkcl9wbXVfZXZlbnRzX2F0dHJzX2dyb3VwX21w
MiwKKwkmc3RtMzJfZGRyX3BtdV9mb3JtYXRfYXR0cl9ncm91cCwKKwlOVUxMCit9OworCitzdGF0
aWMgaW50IHN0bTMyX2Rkcl9wbXVfZGV2aWNlX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2Ug
KnBkZXYpCit7CisJc3RydWN0IHN0bTMyX2ZpcmV3YWxsIGZpcmV3YWxsOworCXN0cnVjdCBzdG0z
Ml9kZHJfcG11ICpwbXU7CisJc3RydWN0IHJlc2V0X2NvbnRyb2wgKnJzdDsKKwlzdHJ1Y3QgcmVz
b3VyY2UgKnJlczsKKwlpbnQgcmV0OworCisJcG11ID0gZGV2bV9remFsbG9jKCZwZGV2LT5kZXYs
IHN0cnVjdF9zaXplKHBtdSwgY291bnRlcnMsIE1QMl9DTlRfTkIpLCBHRlBfS0VSTkVMKTsKKwlp
ZiAoIXBtdSkKKwkJcmV0dXJuIC1FTk9NRU07CisKKwlwbGF0Zm9ybV9zZXRfZHJ2ZGF0YShwZGV2
LCBwbXUpOworCXBtdS0+ZGV2ID0gJnBkZXYtPmRldjsKKworCXBtdS0+Y2ZnID0gZGV2aWNlX2dl
dF9tYXRjaF9kYXRhKHBtdS0+ZGV2KTsKKworCXBtdS0+bWVtYmFzZSA9IGRldm1fcGxhdGZvcm1f
Z2V0X2FuZF9pb3JlbWFwX3Jlc291cmNlKHBkZXYsIDAsICZyZXMpOworCWlmIChJU19FUlIocG11
LT5tZW1iYXNlKSkKKwkJcmV0dXJuIFBUUl9FUlIocG11LT5tZW1iYXNlKTsKKworCWlmIChvZl9w
cm9wZXJ0eV9wcmVzZW50KHBtdS0+ZGV2LT5vZl9ub2RlLCAiYWNjZXNzLWNvbnRyb2xsZXJzIikp
IHsKKwkJcmV0ID0gc3RtMzJfZmlyZXdhbGxfZ2V0X2ZpcmV3YWxsKHBtdS0+ZGV2LT5vZl9ub2Rl
LCAmZmlyZXdhbGwsIDEpOworCQlpZiAocmV0KQorCQkJcmV0dXJuIGRldl9lcnJfcHJvYmUocG11
LT5kZXYsIHJldCwgIkZhaWxlZCB0byBnZXQgZmlyZXdhbGxcbiIpOworCQlyZXQgPSBzdG0zMl9m
aXJld2FsbF9ncmFudF9hY2Nlc3NfYnlfaWQoJmZpcmV3YWxsLCBmaXJld2FsbC5maXJld2FsbF9p
ZCk7CisJCWlmIChyZXQpCisJCQlyZXR1cm4gZGV2X2Vycl9wcm9iZShwbXUtPmRldiwgcmV0LCAi
RmFpbGVkIHRvIGdyYW50IGFjY2Vzc1xuIik7CisJfQorCisJcG11LT5jbGsgPSBkZXZtX2Nsa19n
ZXRfb3B0aW9uYWxfZW5hYmxlZChwbXUtPmRldiwgTlVMTCk7CisJaWYgKElTX0VSUihwbXUtPmNs
aykpCisJCXJldHVybiBkZXZfZXJyX3Byb2JlKHBtdS0+ZGV2LCBQVFJfRVJSKHBtdS0+Y2xrKSwg
IkZhaWxlZCB0byBnZXQgcHJlcGFyZSBjbG9ja1xuIik7CisKKwlyc3QgPSBkZXZtX3Jlc2V0X2Nv
bnRyb2xfZ2V0X29wdGlvbmFsX2V4Y2x1c2l2ZShwbXUtPmRldiwgTlVMTCk7CisJaWYgKElTX0VS
Uihyc3QpKQorCQlyZXR1cm4gZGV2X2Vycl9wcm9iZShwbXUtPmRldiwgUFRSX0VSUihyc3QpLCAi
RmFpbGVkIHRvIGdldCByZXNldFxuIik7CisKKwlyZXNldF9jb250cm9sX2Fzc2VydChyc3QpOwor
CXJlc2V0X2NvbnRyb2xfZGVhc3NlcnQocnN0KTsKKworCXBtdS0+cG9sbF9wZXJpb2QgPSBtc190
b19rdGltZShQT0xMX01TKTsKKwlocnRpbWVyX3NldHVwKCZwbXUtPmhydGltZXIsIHN0bTMyX2Rk
cl9wbXVfcG9sbCwgQ0xPQ0tfTU9OT1RPTklDLCBIUlRJTUVSX01PREVfUkVMKTsKKworCWZvciAo
aW50IGkgPSAwOyBpIDwgTVAyX0NOVF9OQjsgaSsrKQorCQlJTklUX0xJU1RfSEVBRCgmcG11LT5j
b3VudGVyc1tpXSk7CisKKwlwbXUtPnNlbGVjdGVkX3NldCA9IC0xOworCisJcG11LT5wbXUgPSAo
c3RydWN0IHBtdSkgeworCQkudGFza19jdHhfbnIgPSBwZXJmX2ludmFsaWRfY29udGV4dCwKKwkJ
LnN0YXJ0ID0gc3RtMzJfZGRyX3BtdV9ldmVudF9zdGFydCwKKwkJLnN0b3AgPSBzdG0zMl9kZHJf
cG11X2V2ZW50X3N0b3AsCisJCS5hZGQgPSBzdG0zMl9kZHJfcG11X2V2ZW50X2FkZCwKKwkJLmRl
bCA9IHN0bTMyX2Rkcl9wbXVfZXZlbnRfZGVsLAorCQkucmVhZCA9IHN0bTMyX2Rkcl9wbXVfZXZl
bnRfcmVhZCwKKwkJLmV2ZW50X2luaXQgPSBzdG0zMl9kZHJfcG11X2V2ZW50X2luaXQsCisJCS5h
dHRyX2dyb3VwcyA9IHBtdS0+Y2ZnLT5hdHRyaWJ1dGUsCisJCS5tb2R1bGUgPSBUSElTX01PRFVM
RSwKKwl9OworCisJaWYgKHBtdS0+Y2ZnLT5yZWdzLT5kcmFtX2luZi5yZWcpIHsKKwkJcmV0ID0g
c3RtMzJfZGRyX3BtdV9nZXRfbWVtb3J5X3R5cGUocG11KTsKKwkJaWYgKHJldCkKKwkJCXJldHVy
biBkZXZfZXJyX3Byb2JlKHBtdS0+ZGV2LCByZXQsICJGYWlsZWQgdG8gZ2V0IG1lbW9yeSB0eXBl
XG4iKTsKKworCQl3cml0ZWxfcmVsYXhlZChwbXUtPmRyYW1fdHlwZSwgcG11LT5tZW1iYXNlICsg
cG11LT5jZmctPnJlZ3MtPmRyYW1faW5mLnJlZyk7CisJfQorCisJcmV0ID0gcGVyZl9wbXVfcmVn
aXN0ZXIoJnBtdS0+cG11LCBEUklWRVJfTkFNRSwgLTEpOworCWlmIChyZXQpCisJCXJldHVybiBk
ZXZfZXJyX3Byb2JlKHBtdS0+ZGV2LCByZXQsCisJCQkJIkNvdWxkbid0IHJlZ2lzdGVyIEREUlBF
UkZNIGRyaXZlciBhcyBhIFBNVVxuIik7CisKKwljbGtfZGlzYWJsZShwbXUtPmNsayk7CisKKwly
ZXR1cm4gMDsKK30KKworc3RhdGljIHZvaWQgc3RtMzJfZGRyX3BtdV9kZXZpY2VfcmVtb3ZlKHN0
cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCit7CisJc3RydWN0IHN0bTMyX2Rkcl9wbXUgKnN0
bTMyX2Rkcl9wbXUgPSBwbGF0Zm9ybV9nZXRfZHJ2ZGF0YShwZGV2KTsKKworCXBlcmZfcG11X3Vu
cmVnaXN0ZXIoJnN0bTMyX2Rkcl9wbXUtPnBtdSk7Cit9CisKK3N0YXRpYyBpbnQgX19tYXliZV91
bnVzZWQgc3RtMzJfZGRyX3BtdV9kZXZpY2VfcmVzdW1lKHN0cnVjdCBkZXZpY2UgKmRldikKK3sK
KwlzdHJ1Y3Qgc3RtMzJfZGRyX3BtdSAqcG11ID0gZGV2X2dldF9kcnZkYXRhKGRldik7CisKKwlj
bGtfZW5hYmxlKHBtdS0+Y2xrKTsKKwl3cml0ZWxfcmVsYXhlZChwbXUtPmRyYW1fdHlwZSwgcG11
LT5tZW1iYXNlICsgcG11LT5jZmctPnJlZ3MtPmRyYW1faW5mLnJlZyk7CisJY2xrX2Rpc2FibGUo
cG11LT5jbGspOworCisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyBjb25zdCBzdHJ1Y3Qgc3RtMzJf
ZGRyX3BtdV9yZWdzcGVjIHN0bTMyX2Rkcl9wbXVfcmVnc3BlY19tcDEgPSB7CisJLnN0b3AgPQkJ
eyBERFJQRVJGTV9DVFJMLCBDVFJMX1NUT1AgfSwKKwkuc3RhcnQgPQl7IEREUlBFUkZNX0NUUkws
IENUUkxfU1RBUlQgfSwKKwkuZW5hYmxlID0JeyBERFJQRVJGTV9DRkcgfSwKKwkuY2ZnID0JCXsg
RERSUEVSRk1fQ0ZHIH0sCisJLnN0YXR1cyA9CXsgRERSUEVSRk1fU1RBVFVTLCBNUDFfU1RBVFVT
X0JVU1kgfSwKKwkuY2xlYXJfY250ID0JeyBERFJQRVJGTV9DTFIsIE1QMV9DTFJfQ05UIH0sCisJ
LmNsZWFyX3RpbWUgPQl7IEREUlBFUkZNX0NMUiwgTVAxX0NMUl9USU1FIH0sCisJLmNvdW50ZXJf
dGltZSA9CXsgRERSUEVSRk1fVENOVCB9LAorCS5jb3VudGVyX2V2dCA9CXsKKwkJeyBERFJQRVJG
TV9FVkNOVCgwKSB9LAorCQl7IEREUlBFUkZNX0VWQ05UKDEpIH0sCisJCXsgRERSUEVSRk1fRVZD
TlQoMikgfSwKKwkJeyBERFJQRVJGTV9FVkNOVCgzKSB9LAorCX0sCit9OworCitzdGF0aWMgY29u
c3Qgc3RydWN0IHN0bTMyX2Rkcl9wbXVfcmVnc3BlYyBzdG0zMl9kZHJfcG11X3JlZ3NwZWNfbXAy
ID0geworCS5zdG9wID0JCXsgRERSUEVSRk1fQ1RSTCwgQ1RSTF9TVE9QIH0sCisJLnN0YXJ0ID0J
eyBERFJQRVJGTV9DVFJMLCBDVFJMX1NUQVJUIH0sCisJLnN0YXR1cyA9CXsgRERSUEVSRk1fTVAy
X1NUQVRVUywgTVAyX1NUQVRVU19CVVNZIH0sCisJLmNsZWFyX2NudCA9CXsgRERSUEVSRk1fQ0xS
LCBNUDJfQ0xSX0NOVCB9LAorCS5jbGVhcl90aW1lID0JeyBERFJQRVJGTV9DTFIsIE1QMl9DTFJf
VElNRSB9LAorCS5jZmcwID0JCXsgRERSUEVSRk1fTVAyX0NGRzAgfSwKKwkuY2ZnMSA9CQl7IERE
UlBFUkZNX01QMl9DRkcxIH0sCisJLmVuYWJsZSA9CXsgRERSUEVSRk1fTVAyX0NGRzUgfSwKKwku
ZHJhbV9pbmYgPQl7IEREUlBFUkZNX01QMl9EUkFNSU5GIH0sCisJLmNvdW50ZXJfdGltZSA9CXsg
RERSUEVSRk1fTVAyX1RDTlQgfSwKKwkuY291bnRlcl9ldnQgPQl7CisJCXsgRERSUEVSRk1fTVAy
X0VWQ05UKDApIH0sCisJCXsgRERSUEVSRk1fTVAyX0VWQ05UKDEpIH0sCisJCXsgRERSUEVSRk1f
TVAyX0VWQ05UKDIpIH0sCisJCXsgRERSUEVSRk1fTVAyX0VWQ05UKDMpIH0sCisJCXsgRERSUEVS
Rk1fTVAyX0VWQ05UKDQpIH0sCisJCXsgRERSUEVSRk1fTVAyX0VWQ05UKDUpIH0sCisJCXsgRERS
UEVSRk1fTVAyX0VWQ05UKDYpIH0sCisJCXsgRERSUEVSRk1fTVAyX0VWQ05UKDcpIH0sCisJfSwK
K307CisKK3N0YXRpYyBjb25zdCBzdHJ1Y3Qgc3RtMzJfZGRyX3BtdV9jZmcgc3RtMzJfZGRyX3Bt
dV9jZmdfbXAxID0geworCS5yZWdzID0gJnN0bTMyX2Rkcl9wbXVfcmVnc3BlY19tcDEsCisJLmF0
dHJpYnV0ZSA9IHN0bTMyX2Rkcl9wbXVfYXR0cl9ncm91cHNfbXAxLAorCS5jb3VudGVyc19uYiA9
IE1QMV9DTlRfTkIsCisJLmV2dF9jb3VudGVyc19uYiA9IE1QMV9DTlRfTkIgLSAxLCAvKiBUaW1l
IGNvdW50ZXIgaXMgbm90IGFuIGV2ZW50IGNvdW50ZXIgKi8KKwkudGltZV9jbnRfaWR4ID0gTVAx
X1RJTUVfQ05UX0lEWCwKKwkuZ2V0X2NvdW50ZXIgPSBzdG0zMl9kZHJfcG11X2dldF9ldmVudF9j
b3VudGVyX21wMSwKK307CisKK3N0YXRpYyBjb25zdCBzdHJ1Y3Qgc3RtMzJfZGRyX3BtdV9jZmcg
c3RtMzJfZGRyX3BtdV9jZmdfbXAyID0geworCS5yZWdzID0gJnN0bTMyX2Rkcl9wbXVfcmVnc3Bl
Y19tcDIsCisJLmF0dHJpYnV0ZSA9IHN0bTMyX2Rkcl9wbXVfYXR0cl9ncm91cHNfbXAyLAorCS5j
b3VudGVyc19uYiA9IE1QMl9DTlRfTkIsCisJLmV2dF9jb3VudGVyc19uYiA9IE1QMl9DTlRfTkIg
LSAxLCAvKiBUaW1lIGNvdW50ZXIgaXMgYW4gZXZlbnQgY291bnRlciAqLworCS50aW1lX2NudF9p
ZHggPSBNUDJfVElNRV9DTlRfSURYLAorCS5nZXRfY291bnRlciA9IHN0bTMyX2Rkcl9wbXVfZ2V0
X2V2ZW50X2NvdW50ZXJfbXAyLAorfTsKKworc3RhdGljIERFRklORV9TSU1QTEVfREVWX1BNX09Q
UyhzdG0zMl9kZHJfcG11X3BtX29wcywgTlVMTCwgc3RtMzJfZGRyX3BtdV9kZXZpY2VfcmVzdW1l
KTsKKworc3RhdGljIGNvbnN0IHN0cnVjdCBvZl9kZXZpY2VfaWQgc3RtMzJfZGRyX3BtdV9vZl9t
YXRjaFtdID0geworCXsKKwkJLmNvbXBhdGlibGUgPSAic3Qsc3RtMzJtcDEzMS1kZHItcG11IiwK
KwkJLmRhdGEgPSAmc3RtMzJfZGRyX3BtdV9jZmdfbXAxCisJfSwKKwl7CisJCS5jb21wYXRpYmxl
ID0gInN0LHN0bTMybXAyNTEtZGRyLXBtdSIsCisJCS5kYXRhID0gJnN0bTMyX2Rkcl9wbXVfY2Zn
X21wMgorCX0sCisJeyB9Cit9OworTU9EVUxFX0RFVklDRV9UQUJMRShvZiwgc3RtMzJfZGRyX3Bt
dV9vZl9tYXRjaCk7CisKK3N0YXRpYyBzdHJ1Y3QgcGxhdGZvcm1fZHJpdmVyIHN0bTMyX2Rkcl9w
bXVfZHJpdmVyID0geworCS5kcml2ZXIgPSB7CisJCS5uYW1lID0gRFJJVkVSX05BTUUsCisJCS5w
bSA9IHBtX3NsZWVwX3B0cigmc3RtMzJfZGRyX3BtdV9wbV9vcHMpLAorCQkub2ZfbWF0Y2hfdGFi
bGUgPSBzdG0zMl9kZHJfcG11X29mX21hdGNoLAorCX0sCisJLnByb2JlID0gc3RtMzJfZGRyX3Bt
dV9kZXZpY2VfcHJvYmUsCisJLnJlbW92ZSA9IHN0bTMyX2Rkcl9wbXVfZGV2aWNlX3JlbW92ZSwK
K307CisKK21vZHVsZV9wbGF0Zm9ybV9kcml2ZXIoc3RtMzJfZGRyX3BtdV9kcml2ZXIpOworCitN
T0RVTEVfQVVUSE9SKCJDbMOpbWVudCBMZSBHb2ZmaWMiKTsKK01PRFVMRV9ERVNDUklQVElPTigi
U1RNaWNyb2VsZWN0cm9uaWNzIFNUTTMyIEREUiBwZXJmb3JtYW5jZSBtb25pdG9yIGRyaXZlciIp
OworTU9EVUxFX0xJQ0VOU0UoIkdQTCIpOwoKLS0gCjIuNDMuMAoKX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX18KTGludXgtc3RtMzIgbWFpbGluZyBsaXN0Ckxp
bnV4LXN0bTMyQHN0LW1kLW1haWxtYW4uc3Rvcm1yZXBseS5jb20KaHR0cHM6Ly9zdC1tZC1tYWls
bWFuLnN0b3JtcmVwbHkuY29tL21haWxtYW4vbGlzdGluZm8vbGludXgtc3RtMzIK
