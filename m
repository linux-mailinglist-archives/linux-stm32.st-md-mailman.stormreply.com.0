Return-Path: <linux-stm32-bounces@st-md-mailman.stormreply.com>
X-Original-To: lists+linux-stm32@lfdr.de
Delivered-To: lists+linux-stm32@lfdr.de
Received: from stm-ict-prod-mailman-01.stormreply.prv (st-md-mailman.stormreply.com [52.209.6.89])
	by mail.lfdr.de (Postfix) with ESMTPS id 828159E2007
	for <lists+linux-stm32@lfdr.de>; Tue,  3 Dec 2024 15:53:05 +0100 (CET)
Received: from ip-172-31-3-47.eu-west-1.compute.internal (localhost [127.0.0.1])
	by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTP id 25416C6C83D;
	Tue,  3 Dec 2024 14:53:05 +0000 (UTC)
Received: from mail-pl1-f180.google.com (mail-pl1-f180.google.com
 [209.85.214.180])
 (using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
 (No client certificate requested)
 by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTPS id 881FDC6B47E
 for <linux-stm32@st-md-mailman.stormreply.com>;
 Tue,  3 Dec 2024 14:52:57 +0000 (UTC)
Received: by mail-pl1-f180.google.com with SMTP id
 d9443c01a7336-215c54e5f24so6199185ad.2
 for <linux-stm32@st-md-mailman.stormreply.com>;
 Tue, 03 Dec 2024 06:52:57 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=linaro.org; s=google; t=1733237576; x=1733842376;
 darn=st-md-mailman.stormreply.com; 
 h=in-reply-to:content-transfer-encoding:content-disposition
 :mime-version:references:message-id:subject:cc:to:from:date:from:to
 :cc:subject:date:message-id:reply-to;
 bh=+OqtoDTcuDSPlXiGjMGD8T8dleAY1Lykd97YYdvjsFI=;
 b=GTn//NsZ7kVG28US7Wj5rEDXjGUu9IBGyeWiybPBDv1h+kpINVfpQoVnVFRyCbtGaW
 r2PaK/7HFH3vhHIOTxONW4kI4/NDahUI+sM6S0WXT5Deew6pW9TP5jBX91YdItWEXiFT
 +MQvEpJnkdiQN3xCsmsc52lSZVR/XX/WcVuZF/2w1/5g0JTWF5caf46vMHaoEwKZZLVk
 dz1teKPhwGsXBcUffShV6AS+82iVGvL35wP1skwvUSJ0o2vktj/4MUC4K2ApUrbazF3m
 kE+p/Fe24wavRKkPvFw13pBGFikbuIZGWAPS5aU9Fh2S1v8PUE1Damv0W49eQo7/l8b7
 55cQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20230601; t=1733237576; x=1733842376;
 h=in-reply-to:content-transfer-encoding:content-disposition
 :mime-version:references:message-id:subject:cc:to:from:date
 :x-gm-message-state:from:to:cc:subject:date:message-id:reply-to;
 bh=+OqtoDTcuDSPlXiGjMGD8T8dleAY1Lykd97YYdvjsFI=;
 b=XemNKCtBjixbIStavAJjPsqsEltXS85x4LVnK7+UrhyTc5YO5bE5DRztKd/s9BXUnC
 YfVXbfcgIpfTq2uGipsFFtgqgNTYo2Tj8LBAatFlDH5FzodLr9O7+QHJX8oPHgzeVzkt
 Rxfuu+R1VTTk9+xyJ204A/it9ixTXF7n/MLb9xonf7SPddUXVNLb40issE+wud9L6jPZ
 nyxoEiczZBowtwFzYZwJF7kRjGXo+HgdAE6tEVTZCvXhSyz8iwa2pQS38BZJ3YYbZb7x
 xMlvTXWQFGmcrNN8etOfDKUQ+2FLDOg3we7PGv0AmnxctChqyL6FmUW9JfukxB65JV7Y
 tKoA==
X-Forwarded-Encrypted: i=1;
 AJvYcCXQdUlATnh+K92t5FaEaaXKDBx0l5LruIqGODO470W/BftdlxbOJW0VT/9Zr2ONbJMgzrt0sYh/ldINqA==@st-md-mailman.stormreply.com
X-Gm-Message-State: AOJu0YwDqBKatuTH8uq9XfnxtxkVv3Th8O97tCkpsjfEVBiXvNfl3W/M
 DBQTn4FAncGZVhAzI/q+sN6Sq+wAF0pR2C/srUkt70MEGm9ygMI6Ibp+ztzYNA==
X-Gm-Gg: ASbGncviN1uppZlrQC1eoIIVeqyHPPgLltaVO3cRqB4MN1N3yIZ09+eB9m9hfiiOXAi
 iz5HDwbkyJ1iItv/HPzqA0WJF9oYM/ntsF2lJzTVPoI5Au/3pL5v6+f9qnyf93iHqKvlCH7/jcS
 rF79E4mFmzBmeYaYVVWPhWUlfWTJOJCXx44fENhWWwCHWxLXpKpDZV9c36YejdsL367N5ojKRzx
 NDvVSnoRwAfJLyZZG2OPEaLiBFMbJwRzwHxsf/z0ebqpvSsFA+/6sjqmcd0
X-Google-Smtp-Source: AGHT+IG2+O34hbdTJ6jI9K4DCqLyYnmrK/L3HYJwczUUv/4lkpV9ewWB4mibpWI78gxJlkRNGNzT+g==
X-Received: by 2002:a17:902:ecc7:b0:215:7b7b:5cc9 with SMTP id
 d9443c01a7336-215bd0e035emr36010635ad.22.1733237575835; 
 Tue, 03 Dec 2024 06:52:55 -0800 (PST)
Received: from thinkpad ([120.60.48.217]) by smtp.gmail.com with ESMTPSA id
 d9443c01a7336-215964b6b76sm35813645ad.191.2024.12.03.06.52.50
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Tue, 03 Dec 2024 06:52:55 -0800 (PST)
Date: Tue, 3 Dec 2024 20:22:44 +0530
From: Manivannan Sadhasivam <manivannan.sadhasivam@linaro.org>
To: Christian Bruel <christian.bruel@foss.st.com>
Message-ID: <20241203145244.trgrobtfmumtiwuc@thinkpad>
References: <20241126155119.1574564-1-christian.bruel@foss.st.com>
 <20241126155119.1574564-3-christian.bruel@foss.st.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20241126155119.1574564-3-christian.bruel@foss.st.com>
Cc: kw@linux.com, conor+dt@kernel.org, p.zabel@pengutronix.de, robh@kernel.org,
 linux-pci@vger.kernel.org, lpieralisi@kernel.org, linux-kernel@vger.kernel.org,
 cassel@kernel.org, devicetree@vger.kernel.org, quic_schintav@quicinc.com,
 mcoquelin.stm32@gmail.com, bhelgaas@google.com, krzk+dt@kernel.org,
 linux-stm32@st-md-mailman.stormreply.com, linux-arm-kernel@lists.infradead.org
Subject: Re: [Linux-stm32] [PATCH v2 2/5] PCI: stm32: Add PCIe host support
	for STM32MP25
X-BeenThere: linux-stm32@st-md-mailman.stormreply.com
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: <linux-stm32.st-md-mailman.stormreply.com>
List-Unsubscribe: <https://st-md-mailman.stormreply.com/mailman/options/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=unsubscribe>
List-Archive: <http://st-md-mailman.stormreply.com/pipermail/linux-stm32/>
List-Post: <mailto:linux-stm32@st-md-mailman.stormreply.com>
List-Help: <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=help>
List-Subscribe: <https://st-md-mailman.stormreply.com/mailman/listinfo/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: linux-stm32-bounces@st-md-mailman.stormreply.com
Sender: "Linux-stm32" <linux-stm32-bounces@st-md-mailman.stormreply.com>

T24gVHVlLCBOb3YgMjYsIDIwMjQgYXQgMDQ6NTE6MTZQTSArMDEwMCwgQ2hyaXN0aWFuIEJydWVs
IHdyb3RlOgo+IEFkZCBkcml2ZXIgZm9yIHRoZSBTVE0zMk1QMjUgU29DIFBDSWUgR2VuMiBjb250
cm9sbGVyIGJhc2VkIG9uIHRoZQo+IERlc2lnbldhcmUgUENJZSBjb3JlLgo+IAo+IFN1cHBvcnRz
IE1TSSB2aWEgR0lDdjJtLCBTaW5nbGUgVmlydHVhbCBDaGFubmVsLCBTaW5nbGUgRnVuY3Rpb24K
PiAKPiBTaWduZWQtb2ZmLWJ5OiBDaHJpc3RpYW4gQnJ1ZWwgPGNocmlzdGlhbi5icnVlbEBmb3Nz
LnN0LmNvbT4KPiAtLS0KPiAgZHJpdmVycy9wY2kvY29udHJvbGxlci9kd2MvS2NvbmZpZyAgICAg
IHwgIDEyICsKPiAgZHJpdmVycy9wY2kvY29udHJvbGxlci9kd2MvTWFrZWZpbGUgICAgIHwgICAx
ICsKPiAgZHJpdmVycy9wY2kvY29udHJvbGxlci9kd2MvcGNpZS1zdG0zMi5jIHwgNDAyICsrKysr
KysrKysrKysrKysrKysrKysrKwo+ICBkcml2ZXJzL3BjaS9jb250cm9sbGVyL2R3Yy9wY2llLXN0
bTMyLmggfCAgMTUgKwo+ICA0IGZpbGVzIGNoYW5nZWQsIDQzMCBpbnNlcnRpb25zKCspCj4gIGNy
ZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL3BjaS9jb250cm9sbGVyL2R3Yy9wY2llLXN0bTMyLmMK
PiAgY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvcGNpL2NvbnRyb2xsZXIvZHdjL3BjaWUtc3Rt
MzIuaAo+IAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3BjaS9jb250cm9sbGVyL2R3Yy9LY29uZmln
IGIvZHJpdmVycy9wY2kvY29udHJvbGxlci9kd2MvS2NvbmZpZwo+IGluZGV4IGI2ZDY3NzhiMDY5
OC4uMGMxODg3OWI2MDRjIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvcGNpL2NvbnRyb2xsZXIvZHdj
L0tjb25maWcKPiArKysgYi9kcml2ZXJzL3BjaS9jb250cm9sbGVyL2R3Yy9LY29uZmlnCj4gQEAg
LTM4OSw2ICszODksMTggQEAgY29uZmlnIFBDSUVfU1BFQVIxM1hYCj4gIAloZWxwCj4gIAkgIFNh
eSBZIGhlcmUgaWYgeW91IHdhbnQgUENJZSBzdXBwb3J0IG9uIFNQRUFyMTNYWCBTb0NzLgo+ICAK
PiArY29uZmlnIFBDSUVfU1RNMzIKPiArCXRyaXN0YXRlICJTVE1pY3JvZWxlY3Ryb25pY3MgU1RN
MzJNUDI1IFBDSWUgQ29udHJvbGxlciAoaG9zdCBtb2RlKSIKPiArCWRlcGVuZHMgb24gQVJDSF9T
VE0zMiB8fCBDT01QSUxFX1RFU1QKPiArCWRlcGVuZHMgb24gUENJX01TSQo+ICsJc2VsZWN0IFBD
SUVfRFdfSE9TVAo+ICsJaGVscAo+ICsJICBFbmFibGVzIHN1cHBvcnQgZm9yIHRoZSBEZXNpZ25X
YXJlIGNvcmUgYmFzZWQgUENJZSBob3N0IGNvbnRyb2xsZXIKPiArCSAgZm91bmQgaW4gU1RNMzJN
UDI1IFNvQy4KPiArCj4gKwkgIFRoaXMgZHJpdmVyIGNhbiBhbHNvIGJlIGJ1aWx0IGFzIGEgbW9k
dWxlLiBJZiBzbywgdGhlIG1vZHVsZQo+ICsJICB3aWxsIGJlIGNhbGxlZCBwY2llLXN0bTMyLgo+
ICsKPiAgY29uZmlnIFBDSV9EUkE3WFgKPiAgCXRyaXN0YXRlCj4gIAo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL3BjaS9jb250cm9sbGVyL2R3Yy9NYWtlZmlsZSBiL2RyaXZlcnMvcGNpL2NvbnRyb2xs
ZXIvZHdjL01ha2VmaWxlCj4gaW5kZXggYTgzMDhkOWVhOTg2Li41NzZkOTljYjNiYzUgMTAwNjQ0
Cj4gLS0tIGEvZHJpdmVycy9wY2kvY29udHJvbGxlci9kd2MvTWFrZWZpbGUKPiArKysgYi9kcml2
ZXJzL3BjaS9jb250cm9sbGVyL2R3Yy9NYWtlZmlsZQo+IEBAIC0yOCw2ICsyOCw3IEBAIG9iai0k
KENPTkZJR19QQ0lFX1VOSVBISUVSKSArPSBwY2llLXVuaXBoaWVyLm8KPiAgb2JqLSQoQ09ORklH
X1BDSUVfVU5JUEhJRVJfRVApICs9IHBjaWUtdW5pcGhpZXItZXAubwo+ICBvYmotJChDT05GSUdf
UENJRV9WSVNDT05USV9IT1NUKSArPSBwY2llLXZpc2NvbnRpLm8KPiAgb2JqLSQoQ09ORklHX1BD
SUVfUkNBUl9HRU40KSArPSBwY2llLXJjYXItZ2VuNC5vCj4gK29iai0kKENPTkZJR19QQ0lFX1NU
TTMyKSArPSBwY2llLXN0bTMyLm8KPiAgCj4gICMgVGhlIGZvbGxvd2luZyBkcml2ZXJzIGFyZSBm
b3IgZGV2aWNlcyB0aGF0IHVzZSB0aGUgZ2VuZXJpYyBBQ1BJCj4gICMgcGNpX3Jvb3QuYyBkcml2
ZXIgYnV0IGRvbid0IHN1cHBvcnQgc3RhbmRhcmQgRUNBTSBjb25maWcgYWNjZXNzLgo+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL3BjaS9jb250cm9sbGVyL2R3Yy9wY2llLXN0bTMyLmMgYi9kcml2ZXJz
L3BjaS9jb250cm9sbGVyL2R3Yy9wY2llLXN0bTMyLmMKPiBuZXcgZmlsZSBtb2RlIDEwMDY0NAo+
IGluZGV4IDAwMDAwMDAwMDAwMC4uZmE3ODc0MDZjMGU0Cj4gLS0tIC9kZXYvbnVsbAo+ICsrKyBi
L2RyaXZlcnMvcGNpL2NvbnRyb2xsZXIvZHdjL3BjaWUtc3RtMzIuYwo+IEBAIC0wLDAgKzEsNDAy
IEBACj4gKy8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wLW9ubHkKPiArLyoKPiAr
ICogU1RNaWNyb2VsZWN0cm9uaWNzIFNUTTMyTVAyNSBQQ0llIHJvb3QgY29tcGxleCBkcml2ZXIu
Cj4gKyAqCj4gKyAqIENvcHlyaWdodCAoQykgMjAyNCBTVE1pY3JvZWxlY3Ryb25pY3MKPiArICog
QXV0aG9yOiBDaHJpc3RpYW4gQnJ1ZWwgPGNocmlzdGlhbi5icnVlbEBmb3NzLnN0LmNvbT4KPiAr
ICovCj4gKwo+ICsjaW5jbHVkZSA8bGludXgvY2xrLmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9tZmQv
c3lzY29uLmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9vZl9wbGF0Zm9ybS5oPgo+ICsjaW5jbHVkZSA8
bGludXgvcGh5L3BoeS5oPgo+ICsjaW5jbHVkZSA8bGludXgvcGluY3RybC9kZXZpbmZvLmg+Cj4g
KyNpbmNsdWRlIDxsaW51eC9wbV9ydW50aW1lLmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9wbGF0Zm9y
bV9kZXZpY2UuaD4KPiArI2luY2x1ZGUgPGxpbnV4L3JlZ21hcC5oPgo+ICsjaW5jbHVkZSA8bGlu
dXgvcmVzZXQuaD4KPiArI2luY2x1ZGUgInBjaWUtZGVzaWdud2FyZS5oIgo+ICsjaW5jbHVkZSAi
cGNpZS1zdG0zMi5oIgo+ICsjaW5jbHVkZSAiLi4vLi4vcGNpLmgiCj4gKwo+ICtzdHJ1Y3Qgc3Rt
MzJfcGNpZSB7Cj4gKwlzdHJ1Y3QgZHdfcGNpZSAqcGNpOwo+ICsJc3RydWN0IHJlZ21hcCAqcmVn
bWFwOwo+ICsJc3RydWN0IHJlc2V0X2NvbnRyb2wgKnJzdDsKPiArCXN0cnVjdCBwaHkgKnBoeTsK
PiArCXN0cnVjdCBjbGsgKmNsazsKPiArCXN0cnVjdCBncGlvX2Rlc2MgKnBlcnN0X2dwaW87Cj4g
KwlzdHJ1Y3QgZ3Bpb19kZXNjICp3YWtlX2dwaW87Cj4gKwl1bnNpZ25lZCBpbnQgd2FrZV9pcnE7
Cj4gKwlib29sIGxpbmtfaXNfdXA7Cj4gK307Cj4gKwo+ICtzdGF0aWMgaW50IHN0bTMyX3BjaWVf
c3RhcnRfbGluayhzdHJ1Y3QgZHdfcGNpZSAqcGNpKQo+ICt7Cj4gKwlzdHJ1Y3Qgc3RtMzJfcGNp
ZSAqc3RtMzJfcGNpZSA9IHRvX3N0bTMyX3BjaWUocGNpKTsKPiArCXUzMiByZXQ7Cj4gKwo+ICsJ
aWYgKHN0bTMyX3BjaWUtPnBlcnN0X2dwaW8pIHsKCmdwaW9kX3NldF92YWx1ZSgpIHdpbGwgYmFp
bCBvdXQgaWYgJ3BlcnN0X2dwaW8nIGlzIE5VTEwuIFNvIG5vIG5lZWQgdG8gYWRkIGEKY2hlY2su
Cgo+ICsJCS8qIE1ha2Ugc3VyZSBQRVJTVCMgaXMgYXNzZXJ0ZWQuICovCgpXaHk/Cgo+ICsJCWdw
aW9kX3NldF92YWx1ZShzdG0zMl9wY2llLT5wZXJzdF9ncGlvLCAxKTsKPiArCj4gKwkJZnNsZWVw
KFBDSUVfVF9QRVJTVF9DTEtfVVMpOwo+ICsJCWdwaW9kX3NldF92YWx1ZShzdG0zMl9wY2llLT5w
ZXJzdF9ncGlvLCAwKTsKCldoeSBjYW4ndCB5b3UgZGVhc3NlcnQgUEVSU1QjIGluIHN0bTMyX2Fk
ZF9wY2llX3BvcnQoKT8KCj4gKwl9Cj4gKwo+ICsJcmV0ID0gcmVnbWFwX3VwZGF0ZV9iaXRzKHN0
bTMyX3BjaWUtPnJlZ21hcCwgU1lTQ0ZHX1BDSUVDUiwKPiArCQkJCSBTVE0zMk1QMjVfUENJRUNS
X0xUU1NNX0VOLAo+ICsJCQkJIFNUTTMyTVAyNV9QQ0lFQ1JfTFRTU01fRU4pOwo+ICsKPiArCWlm
IChzdG0zMl9wY2llLT5wZXJzdF9ncGlvKQoKSXQgZG9lc24ndCBodXJ0IHRvIGNhbGwgbXNsZWVw
KCkgYWx3YXlzLgoKPiArCQltc2xlZXAoUENJRV9UX1JSU19SRUFEWV9NUyk7Cj4gKwo+ICsJcmV0
dXJuIHJldDsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgc3RtMzJfcGNpZV9zdG9wX2xpbmsoc3Ry
dWN0IGR3X3BjaWUgKnBjaSkKPiArewo+ICsJc3RydWN0IHN0bTMyX3BjaWUgKnN0bTMyX3BjaWUg
PSB0b19zdG0zMl9wY2llKHBjaSk7Cj4gKwo+ICsJcmVnbWFwX3VwZGF0ZV9iaXRzKHN0bTMyX3Bj
aWUtPnJlZ21hcCwgU1lTQ0ZHX1BDSUVDUiwKPiArCQkJICAgU1RNMzJNUDI1X1BDSUVDUl9MVFNT
TV9FTiwgMCk7Cj4gKwo+ICsJLyogQXNzZXJ0IFBFUlNUIyAqLwo+ICsJaWYgKHN0bTMyX3BjaWUt
PnBlcnN0X2dwaW8pCj4gKwkJZ3Bpb2Rfc2V0X3ZhbHVlKHN0bTMyX3BjaWUtPnBlcnN0X2dwaW8s
IDEpOwoKSSBkb24ndCBsaWtlIHR5aW5nIFBFUlNUIyBoYW5kbGluZyB3aXRoIHN0YXJ0L3N0b3Ag
bGluay4gUEVSU1QjIHNob3VsZCBiZQpoYW5kbGVkIGJhc2VkIG9uIHRoZSBwb3dlci9jbG9jayBz
dGF0ZS4KCj4gK30KPiArCj4gK3N0YXRpYyBpbnQgc3RtMzJfcGNpZV9zdXNwZW5kKHN0cnVjdCBk
ZXZpY2UgKmRldikKPiArewo+ICsJc3RydWN0IHN0bTMyX3BjaWUgKnN0bTMyX3BjaWUgPSBkZXZf
Z2V0X2RydmRhdGEoZGV2KTsKPiArCj4gKwlpZiAoZGV2aWNlX21heV93YWtldXAoZGV2KSB8fCBk
ZXZpY2Vfd2FrZXVwX3BhdGgoZGV2KSkKPiArCQllbmFibGVfaXJxX3dha2Uoc3RtMzJfcGNpZS0+
d2FrZV9pcnEpOwo+ICsKPiArCXJldHVybiAwOwo+ICt9Cj4gKwo+ICtzdGF0aWMgaW50IHN0bTMy
X3BjaWVfcmVzdW1lKHN0cnVjdCBkZXZpY2UgKmRldikKPiArewo+ICsJc3RydWN0IHN0bTMyX3Bj
aWUgKnN0bTMyX3BjaWUgPSBkZXZfZ2V0X2RydmRhdGEoZGV2KTsKPiArCj4gKwlpZiAoZGV2aWNl
X21heV93YWtldXAoZGV2KSB8fCBkZXZpY2Vfd2FrZXVwX3BhdGgoZGV2KSkKPiArCQlkaXNhYmxl
X2lycV93YWtlKHN0bTMyX3BjaWUtPndha2VfaXJxKTsKPiArCj4gKwlyZXR1cm4gMDsKPiArfQo+
ICsKPiArc3RhdGljIGludCBzdG0zMl9wY2llX3N1c3BlbmRfbm9pcnEoc3RydWN0IGRldmljZSAq
ZGV2KQo+ICt7Cj4gKwlzdHJ1Y3Qgc3RtMzJfcGNpZSAqc3RtMzJfcGNpZSA9IGRldl9nZXRfZHJ2
ZGF0YShkZXYpOwo+ICsKPiArCXN0bTMyX3BjaWUtPmxpbmtfaXNfdXAgPSBkd19wY2llX2xpbmtf
dXAoc3RtMzJfcGNpZS0+cGNpKTsKPiArCj4gKwlzdG0zMl9wY2llX3N0b3BfbGluayhzdG0zMl9w
Y2llLT5wY2kpOwoKSSBkb24ndCB1bmRlcnN0YW5kIGhvdyBlbmRwb2ludCBjYW4gd2FrZXVwIHRo
ZSBob3N0IGlmIFBFUlNUIyBnZXRzIGFzc2VydGVkLgoKPiArCWNsa19kaXNhYmxlX3VucHJlcGFy
ZShzdG0zMl9wY2llLT5jbGspOwo+ICsKPiArCWlmICghZGV2aWNlX21heV93YWtldXAoZGV2KSAm
JiAhZGV2aWNlX3dha2V1cF9wYXRoKGRldikpCj4gKwkJcGh5X2V4aXQoc3RtMzJfcGNpZS0+cGh5
KTsKPiArCj4gKwlyZXR1cm4gcGluY3RybF9wbV9zZWxlY3Rfc2xlZXBfc3RhdGUoZGV2KTsKPiAr
fQo+ICsKPiArc3RhdGljIGludCBzdG0zMl9wY2llX3Jlc3VtZV9ub2lycShzdHJ1Y3QgZGV2aWNl
ICpkZXYpCj4gK3sKPiArCXN0cnVjdCBzdG0zMl9wY2llICpzdG0zMl9wY2llID0gZGV2X2dldF9k
cnZkYXRhKGRldik7Cj4gKwlzdHJ1Y3QgZHdfcGNpZSAqcGNpID0gc3RtMzJfcGNpZS0+cGNpOwo+
ICsJc3RydWN0IGR3X3BjaWVfcnAgKnBwID0gJnBjaS0+cHA7Cj4gKwlpbnQgcmV0Owo+ICsKPiAr
CS8qIGluaXRfc3RhdGUgbXVzdCBiZSBjYWxsZWQgZmlyc3QgdG8gZm9yY2UgY2xrX3JlcSMgZ3Bp
byB3aGVuIG5vCgpDTEtSRVEjCgpXaHkgUkMgc2hvdWxkIGNvbnRyb2wgQ0xLUkVRIz8KCkFsc28g
cGxlYXNlIHVzZSBwcmVmZXJyZWQgc3R5bGUgZm9yIG11bHRpLWxpbmUgY29tbWVudHM6CgoJLyoK
CSAqIC4uLgoJICovCgo+ICsJICogZGV2aWNlIGlzIHBsdWdnZWQuCj4gKwkgKi8KPiArCWlmICgh
SVNfRVJSKGRldi0+cGlucy0+aW5pdF9zdGF0ZSkpCj4gKwkJcmV0ID0gcGluY3RybF9zZWxlY3Rf
c3RhdGUoZGV2LT5waW5zLT5wLCBkZXYtPnBpbnMtPmluaXRfc3RhdGUpOwo+ICsJZWxzZQo+ICsJ
CXJldCA9IHBpbmN0cmxfcG1fc2VsZWN0X2RlZmF1bHRfc3RhdGUoZGV2KTsKPiArCj4gKwlpZiAo
cmV0KSB7Cj4gKwkJZGV2X2VycihkZXYsICJGYWlsZWQgdG8gYWN0aXZhdGUgcGluY3RybCBwbSBz
dGF0ZTogJWRcbiIsIHJldCk7Cj4gKwkJcmV0dXJuIHJldDsKPiArCX0KPiArCj4gKwlpZiAoIWRl
dmljZV9tYXlfd2FrZXVwKGRldikgJiYgIWRldmljZV93YWtldXBfcGF0aChkZXYpKSB7Cj4gKwkJ
cmV0ID0gcGh5X2luaXQoc3RtMzJfcGNpZS0+cGh5KTsKPiArCQlpZiAocmV0KSB7Cj4gKwkJCXBp
bmN0cmxfcG1fc2VsZWN0X2RlZmF1bHRfc3RhdGUoZGV2KTsKPiArCQkJcmV0dXJuIHJldDsKPiAr
CQl9Cj4gKwl9Cj4gKwo+ICsJcmV0ID0gY2xrX3ByZXBhcmVfZW5hYmxlKHN0bTMyX3BjaWUtPmNs
ayk7Cj4gKwlpZiAocmV0KQo+ICsJCWdvdG8gY2xrX2VycjsKClBsZWFzZSBuYW1lIHRoZSBnb3Rv
IGxhYmVscyBvZiB0aGVpciBwdXJwb3NlLiBMaWtlIGVycl9waHlfZXhpdC4KCj4gKwo+ICsJcmV0
ID0gZHdfcGNpZV9zZXR1cF9yYyhwcCk7Cj4gKwlpZiAocmV0KQo+ICsJCWdvdG8gcGNpZV9lcnI7
CgpUaGlzIHNob3VsZCBiZSwgJ2Vycl9kaXNhYmxlX2NsaycuCgo+ICsKPiArCWlmIChzdG0zMl9w
Y2llLT5saW5rX2lzX3VwKSB7CgpXaHkgZG8geW91IG5lZWQgdGhpcyBjaGVjaz8gWW91IGNhbm5v
dCBzdGFydCB0aGUgbGluayBpbiB0aGUgYWJzZW5jZSBvZiBhbgplbmRwb2ludD8KCj4gKwkJcmV0
ID0gc3RtMzJfcGNpZV9zdGFydF9saW5rKHN0bTMyX3BjaWUtPnBjaSk7Cj4gKwkJaWYgKHJldCkK
PiArCQkJZ290byBwY2llX2VycjsKPiArCj4gKwkJLyogSWdub3JlIGVycm9ycywgdGhlIGxpbmsg
bWF5IGNvbWUgdXAgbGF0ZXIgKi8KPiArCQlkd19wY2llX3dhaXRfZm9yX2xpbmsoc3RtMzJfcGNp
ZS0+cGNpKTsKPiArCX0KPiArCj4gKwlwaW5jdHJsX3BtX3NlbGVjdF9kZWZhdWx0X3N0YXRlKGRl
dik7Cj4gKwo+ICsJcmV0dXJuIDA7Cj4gKwo+ICtwY2llX2VycjoKPiArCWR3X3BjaWVfaG9zdF9k
ZWluaXQocHApOwo+ICsJY2xrX2Rpc2FibGVfdW5wcmVwYXJlKHN0bTMyX3BjaWUtPmNsayk7Cj4g
K2Nsa19lcnI6Cj4gKwlwaHlfZXhpdChzdG0zMl9wY2llLT5waHkpOwo+ICsJcGluY3RybF9wbV9z
ZWxlY3RfZGVmYXVsdF9zdGF0ZShkZXYpOwo+ICsKPiArCXJldHVybiByZXQ7Cj4gK30KPiArCj4g
K3N0YXRpYyBjb25zdCBzdHJ1Y3QgZGV2X3BtX29wcyBzdG0zMl9wY2llX3BtX29wcyA9IHsKPiAr
CU5PSVJRX1NZU1RFTV9TTEVFUF9QTV9PUFMoc3RtMzJfcGNpZV9zdXNwZW5kX25vaXJxLAo+ICsJ
CQkJICBzdG0zMl9wY2llX3Jlc3VtZV9ub2lycSkKCkNhbiB5b3UgbWFrZSB1c2Ugb2YgZHdfcGNp
ZV97c3VzcGVuZC9yZXN1bWV9X25vaXJxKCkgQVBJcz8KCj4gKwlTWVNURU1fU0xFRVBfUE1fT1BT
KHN0bTMyX3BjaWVfc3VzcGVuZCwgc3RtMzJfcGNpZV9yZXN1bWUpCj4gK307Cj4gKwo+ICtzdGF0
aWMgY29uc3Qgc3RydWN0IGR3X3BjaWVfaG9zdF9vcHMgc3RtMzJfcGNpZV9ob3N0X29wcyA9IHsK
PiArfTsKPiArCj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3QgZHdfcGNpZV9vcHMgZHdfcGNpZV9vcHMg
PSB7Cj4gKwkuc3RhcnRfbGluayA9IHN0bTMyX3BjaWVfc3RhcnRfbGluaywKPiArCS5zdG9wX2xp
bmsgPSBzdG0zMl9wY2llX3N0b3BfbGluawo+ICt9Owo+ICsKClsuLi5dCgo+ICsJaWYgKGRldmlj
ZV9wcm9wZXJ0eV9yZWFkX2Jvb2woZGV2LCAid2FrZXVwLXNvdXJjZSIpKSB7Cj4gKwkJc3RtMzJf
cGNpZS0+d2FrZV9ncGlvID0gZGV2bV9ncGlvZF9nZXRfb3B0aW9uYWwoZGV2LCAid2FrZSIsCj4g
KwkJCQkJCQkJR1BJT0RfSU4pOwo+ICsJCWlmIChJU19FUlIoc3RtMzJfcGNpZS0+d2FrZV9ncGlv
KSkKPiArCQkJcmV0dXJuIGRldl9lcnJfcHJvYmUoZGV2LCBQVFJfRVJSKHN0bTMyX3BjaWUtPndh
a2VfZ3BpbyksCj4gKwkJCQkJICAgICAiRmFpbGVkIHRvIGdldCB3YWtlIEdQSU9cbiIpOwo+ICsJ
fQo+ICsKPiArCWlmIChzdG0zMl9wY2llLT53YWtlX2dwaW8pIHsKPiArCQlzdG0zMl9wY2llLT53
YWtlX2lycSA9IGdwaW9kX3RvX2lycShzdG0zMl9wY2llLT53YWtlX2dwaW8pOwo+ICsKPiArCQly
ZXQgPSBkZXZtX3JlcXVlc3RfdGhyZWFkZWRfaXJxKCZwZGV2LT5kZXYsCj4gKwkJCQkJCXN0bTMy
X3BjaWUtPndha2VfaXJxLCBOVUxMLAo+ICsJCQkJCQlzdG0zMl9wY2llX3dha2VfaXJxX2hhbmRs
ZXIsCj4gKwkJCQkJCUlSUUZfVFJJR0dFUl9GQUxMSU5HIHwgSVJRRl9PTkVTSE9ULAo+ICsJCQkJ
CQkid2FrZV9pcnEiLCBzdG0zMl9wY2llKTsKPiArCj4gKwkJaWYgKHJldCkKPiArCQkJcmV0dXJu
IGRldl9lcnJfcHJvYmUoZGV2LCByZXQsICJGYWlsZWQgdG8gcmVxdWVzdCBXQUtFIElSUTogJWRc
biIsIHJldCk7Cj4gKwl9CgpDYW4gd2UgbW92ZSBXQUtFIyBncGlvIGhhbmRsaW5nIHRvIERXQyBj
b3JlPyBUaGVyZSBpcyBub3RoaW5nIFNUTTMyIHNwZWNpZmljCmhlcmUuCgo+ICsKPiArCXJldCA9
IGRldm1fcG1fcnVudGltZV9lbmFibGUoZGV2KTsKPiArCWlmIChyZXQgPCAwKSB7Cj4gKwkJZGV2
X2VycihkZXYsICJGYWlsZWQgdG8gZW5hYmxlIHJ1bnRpbWUgUE0gJWRcbiIsIHJldCk7Cj4gKwkJ
cmV0dXJuIHJldDsKPiArCX0KPiArCj4gKwlyZXQgPSBwbV9ydW50aW1lX3Jlc3VtZV9hbmRfZ2V0
KGRldik7Cj4gKwlpZiAocmV0IDwgMCkgewo+ICsJCWRldl9lcnIoZGV2LCAiRmFpbGVkIHRvIGdl
dCBydW50aW1lIFBNICVkXG4iLCByZXQpOwo+ICsJCXJldHVybiByZXQ7Cj4gKwl9Cj4gKwo+ICsJ
cmV0ID0gc3RtMzJfYWRkX3BjaWVfcG9ydChzdG0zMl9wY2llLCBwZGV2KTsKPiArCWlmIChyZXQp
ICB7Cj4gKwkJcG1fcnVudGltZV9wdXRfc3luYygmcGRldi0+ZGV2KTsKPiArCQlyZXR1cm4gcmV0
Owo+ICsJfQo+ICsKPiArCWlmIChzdG0zMl9wY2llLT53YWtlX2dwaW8pCj4gKwkJZGV2aWNlX3Nl
dF93YWtldXBfY2FwYWJsZShkZXYsIHRydWUpOwo+ICsKPiArCXJldHVybiAwOwo+ICt9Cj4gKwo+
ICtzdGF0aWMgdm9pZCBzdG0zMl9wY2llX3JlbW92ZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpw
ZGV2KQo+ICt7Cj4gKwlzdHJ1Y3Qgc3RtMzJfcGNpZSAqc3RtMzJfcGNpZSA9IHBsYXRmb3JtX2dl
dF9kcnZkYXRhKHBkZXYpOwo+ICsJc3RydWN0IGR3X3BjaWVfcnAgKnBwID0gJnN0bTMyX3BjaWUt
PnBjaS0+cHA7Cj4gKwo+ICsJaWYgKHN0bTMyX3BjaWUtPndha2VfZ3BpbykKPiArCQlkZXZpY2Vf
aW5pdF93YWtldXAoJnBkZXYtPmRldiwgZmFsc2UpOwo+ICsKPiArCWR3X3BjaWVfaG9zdF9kZWlu
aXQocHApOwo+ICsJY2xrX2Rpc2FibGVfdW5wcmVwYXJlKHN0bTMyX3BjaWUtPmNsayk7Cj4gKwo+
ICsJcGh5X2V4aXQoc3RtMzJfcGNpZS0+cGh5KTsKPiArCj4gKwlwbV9ydW50aW1lX3B1dF9zeW5j
KCZwZGV2LT5kZXYpOwo+ICt9Cj4gKwo+ICtzdGF0aWMgY29uc3Qgc3RydWN0IG9mX2RldmljZV9p
ZCBzdG0zMl9wY2llX29mX21hdGNoW10gPSB7Cj4gKwl7IC5jb21wYXRpYmxlID0gInN0LHN0bTMy
bXAyNS1wY2llLXJjIiB9LAo+ICsJe30sCj4gK307Cj4gKwo+ICtzdGF0aWMgc3RydWN0IHBsYXRm
b3JtX2RyaXZlciBzdG0zMl9wY2llX2RyaXZlciA9IHsKPiArCS5wcm9iZSA9IHN0bTMyX3BjaWVf
cHJvYmUsCj4gKwkucmVtb3ZlID0gc3RtMzJfcGNpZV9yZW1vdmUsCj4gKwkuZHJpdmVyID0gewo+
ICsJCS5uYW1lID0gInN0bTMyLXBjaWUiLAo+ICsJCS5vZl9tYXRjaF90YWJsZSA9IHN0bTMyX3Bj
aWVfb2ZfbWF0Y2gsCj4gKwkJLnBtCQk9ICZzdG0zMl9wY2llX3BtX29wcywKCkp1c3QgdXNlIGEg
c2luZ2xlIHNwYWNlIGluc3RlYWQgb2YgdGFiLgoKQ291bGQgeW91IGFsc28gc2V0IFBST0JFX1BS
RUZFUl9BU1lOQ0hST05PVVMgdG8gYWxsb3cgYXN5bmMgcHJvYmluZyBvZgpjb250cm9sbGVyIGRy
aXZlcnM/Cgo+ICsJfSwKPiArfTsKPiArCj4gK3N0YXRpYyBib29sIGlzX3N0bTMyX3BjaWVfZHJp
dmVyKHN0cnVjdCBkZXZpY2UgKmRldikKPiArewo+ICsJLyogUENJIGJyaWRnZSAqLwo+ICsJZGV2
ID0gZ2V0X2RldmljZShkZXYpOwo+ICsKPiArCS8qIFBsYXRmb3JtIGRyaXZlciAqLwo+ICsJZGV2
ID0gZ2V0X2RldmljZShkZXYtPnBhcmVudCk7Cj4gKwo+ICsJcmV0dXJuIChkZXYtPmRyaXZlciA9
PSAmc3RtMzJfcGNpZV9kcml2ZXIuZHJpdmVyKTsKPiArfQo+ICsKPiArLyoKPiArICogRE1BIG1h
c3RlcnMgY2FuIG9ubHkgYWNjZXNzIHRoZSBmaXJzdCA0R0Igb2YgbWVtb3J5IHNwYWNlLAo+ICsg
KiBzbyB3ZSBzZXR1cCB0aGUgYnVzIERNQSBsaW1pdCBhY2NvcmRpbmdseS4KPiArICovCj4gK3N0
YXRpYyBpbnQgc3RtMzJfZG1hX2xpbWl0KHN0cnVjdCBwY2lfZGV2ICpwZGV2LCB2b2lkICpkYXRh
KQo+ICt7Cj4gKwlkZXZfZGJnKCZwZGV2LT5kZXYsICJkaXNhYmxpbmcgRE1BIERBQyBmb3IgZGV2
aWNlIik7Cj4gKwo+ICsJcGRldi0+ZGV2LmJ1c19kbWFfbGltaXQgPSBETUFfQklUX01BU0soMzIp
Owo+ICsKPiArCXJldHVybiAwOwo+ICt9Cj4gKwo+ICtzdGF0aWMgdm9pZCBxdWlya19zdG0zMl9k
bWFfbWFzayhzdHJ1Y3QgcGNpX2RldiAqcGNpKQo+ICt7Cj4gKwlzdHJ1Y3QgcGNpX2RldiAqcm9v
dF9wb3J0Owo+ICsKPiArCXJvb3RfcG9ydCA9IHBjaWVfZmluZF9yb290X3BvcnQocGNpKTsKPiAr
Cj4gKwlpZiAocm9vdF9wb3J0ICYmIGlzX3N0bTMyX3BjaWVfZHJpdmVyKHJvb3RfcG9ydC0+ZGV2
LnBhcmVudCkpCj4gKwkJcGNpX3dhbGtfYnVzKHBjaS0+YnVzLCBzdG0zMl9kbWFfbGltaXQsIE5V
TEwpOwo+ICt9Cj4gK0RFQ0xBUkVfUENJX0ZJWFVQX0ZJTkFMKFBDSV9WRU5ET1JfSURfU1lOT1BT
WVMsIDB4MDU1MCwgcXVpcmtfc3RtMzJfZG1hX21hc2spOwoKVGhpcyBpcyBub3QgdGhlIGNvcnJl
Y3Qgd2F5IG9mIHVzaW5nIERNQSBtYXNrcyBhcyBCam9ybiBub3RlZC4KCi0gTWFuaQoKLS0gCuCu
ruCuo+Cuv+CuteCuo+CvjeCuo+CuqeCvjSDgrprgrqTgrr7grprgrr/grrXgrq7gr40KX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KTGludXgtc3RtMzIgbWFp
bGluZyBsaXN0CkxpbnV4LXN0bTMyQHN0LW1kLW1haWxtYW4uc3Rvcm1yZXBseS5jb20KaHR0cHM6
Ly9zdC1tZC1tYWlsbWFuLnN0b3JtcmVwbHkuY29tL21haWxtYW4vbGlzdGluZm8vbGludXgtc3Rt
MzIK
