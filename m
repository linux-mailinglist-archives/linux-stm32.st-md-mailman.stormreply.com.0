Return-Path: <linux-stm32-bounces@st-md-mailman.stormreply.com>
X-Original-To: lists+linux-stm32@lfdr.de
Delivered-To: lists+linux-stm32@lfdr.de
Received: from stm-ict-prod-mailman-01.stormreply.prv (st-md-mailman.stormreply.com [52.209.6.89])
	by mail.lfdr.de (Postfix) with ESMTPS id DF7A8912600
	for <lists+linux-stm32@lfdr.de>; Fri, 21 Jun 2024 14:52:27 +0200 (CEST)
Received: from ip-172-31-3-47.eu-west-1.compute.internal (localhost [127.0.0.1])
	by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTP id AACAEC7128D;
	Fri, 21 Jun 2024 12:52:27 +0000 (UTC)
Received: from mx07-00178001.pphosted.com (mx08-00178001.pphosted.com
 [91.207.212.93])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
 (No client certificate requested)
 by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTPS id E9501C6907A
 for <linux-stm32@st-md-mailman.stormreply.com>;
 Fri, 21 Jun 2024 12:52:26 +0000 (UTC)
Received: from pps.filterd (m0046661.ppops.net [127.0.0.1])
 by mx07-00178001.pphosted.com (8.18.1.2/8.18.1.2) with ESMTP id 45LAtXJd011589;
 Fri, 21 Jun 2024 14:52:09 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=foss.st.com; h=
 cc:content-transfer-encoding:content-type:date:from:in-reply-to
 :message-id:mime-version:references:subject:to; s=selector1; bh=
 sCZLqKVkRBoOk0m5N4EQHRqtX4PoBuJIIpIVr7E8RDc=; b=hCP8ImGPVqkvKv5s
 CpLEoDnGKm8lLL/vW0nucH8hO0+rXx655Q+X+nSmCTb4dZCN2Dltu1LgGUOJyrSp
 bf0HhrbuPD1HQmrz1inEmqoc9XUhfq/XrkQiXxaTRcl+cDwcLaT1HYIfRMrk2/hC
 746ofOLCd6EaQxS989NQouR2bzefsHGwOsee4S02eThOES3Z5WXKiGBO2ZiX3p7r
 2Y5O0lWbqc5tsJ5uDmCm+k70zNpWBFuSxYpJLzea4vL2TG9Mi4nzjgLry3caIsVi
 4oV8obv0p1/Kjzpqv6li6u1iWuJoHv7VIYjvsayvvv2jozhEJqLVeJ3KZQUHGDC0
 Js0VdA==
Received: from beta.dmz-ap.st.com (beta.dmz-ap.st.com [138.198.100.35])
 by mx07-00178001.pphosted.com (PPS) with ESMTPS id 3yvrkdup7j-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Fri, 21 Jun 2024 14:52:08 +0200 (MEST)
Received: from euls16034.sgp.st.com (euls16034.sgp.st.com [10.75.44.20])
 by beta.dmz-ap.st.com (STMicroelectronics) with ESMTP id E469E40046;
 Fri, 21 Jun 2024 14:52:04 +0200 (CEST)
Received: from Webmail-eu.st.com (shfdag1node3.st.com [10.75.129.71])
 by euls16034.sgp.st.com (STMicroelectronics) with ESMTP id 3001F21A206;
 Fri, 21 Jun 2024 14:51:23 +0200 (CEST)
Received: from [10.48.87.177] (10.48.87.177) by SHFDAG1NODE3.st.com
 (10.75.129.71) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id 15.1.2507.35; Fri, 21 Jun
 2024 14:51:22 +0200
Message-ID: <b20e0f8b-0b06-42ab-b8a4-1461f380e723@foss.st.com>
Date: Fri, 21 Jun 2024 14:51:21 +0200
MIME-Version: 1.0
User-Agent: Mozilla Thunderbird
To: Raphael Gallais-Pou <raphael.gallais-pou@foss.st.com>, Philippe Cornu
 <philippe.cornu@foss.st.com>, Maarten Lankhorst
 <maarten.lankhorst@linux.intel.com>, Maxime Ripard <mripard@kernel.org>,
 Thomas Zimmermann <tzimmermann@suse.de>,
 David Airlie <airlied@gmail.com>, Daniel Vetter <daniel@ffwll.ch>,
 Maxime Coquelin <mcoquelin.stm32@gmail.com>,
 Alexandre Torgue <alexandre.torgue@foss.st.com>
References: <20240129104106.43141-1-raphael.gallais-pou@foss.st.com>
 <20240129104106.43141-4-raphael.gallais-pou@foss.st.com>
Content-Language: en-US
From: Yannick FERTRE <yannick.fertre@foss.st.com>
In-Reply-To: <20240129104106.43141-4-raphael.gallais-pou@foss.st.com>
X-Originating-IP: [10.48.87.177]
X-ClientProxiedBy: SHFCAS1NODE2.st.com (10.75.129.73) To SHFDAG1NODE3.st.com
 (10.75.129.71)
X-Proofpoint-Virus-Version: vendor=baseguard
 engine=ICAP:2.0.293,Aquarius:18.0.1039,Hydra:6.0.680,FMLib:17.12.28.16
 definitions=2024-06-21_04,2024-06-21_01,2024-05-17_01
Cc: linux-arm-kernel@lists.infradead.org,
 linux-stm32@st-md-mailman.stormreply.com, dri-devel@lists.freedesktop.org,
 linux-kernel@vger.kernel.org
Subject: Re: [Linux-stm32] [PATCH RESEND v3 3/3] drm/stm: dsi: expose DSI
	PHY internal clock
X-BeenThere: linux-stm32@st-md-mailman.stormreply.com
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: <linux-stm32.st-md-mailman.stormreply.com>
List-Unsubscribe: <https://st-md-mailman.stormreply.com/mailman/options/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=unsubscribe>
List-Archive: <http://st-md-mailman.stormreply.com/pipermail/linux-stm32/>
List-Post: <mailto:linux-stm32@st-md-mailman.stormreply.com>
List-Help: <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=help>
List-Subscribe: <https://st-md-mailman.stormreply.com/mailman/listinfo/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: linux-stm32-bounces@st-md-mailman.stormreply.com
Sender: "Linux-stm32" <linux-stm32-bounces@st-md-mailman.stormreply.com>

SGkgUmFwaGFlbCwKCnRoYW5rcyBmb3IgdGhlIHBhdGNoLgoKQWNrZWQtYnk6IFlhbm5pY2sgRmVy
dHJlIDx5YW5uaWNrLmZlcnRyZUBmb3NzLnN0LmNvbT4KClRlc3RlZC1ieTogWWFubmljayBGZXJ0
cmUgPHlhbm5pY2suZmVydHJlQGZvc3Muc3QuY29tPgoKQlIKCgpMZSAyOS8wMS8yMDI0IMOgIDEx
OjQxLCBSYXBoYWVsIEdhbGxhaXMtUG91IGEgw6ljcml0wqA6Cj4gCURTSVNSQyBfX19fX19fX19f
Cj4gCSAgICAgICAgICAgICAgIF9fXF8KPiAJICAgICAgICAgICAgICB8ICAgIFwKPiAJcGxsNF9w
X2NrICAgLT58ICAxICB8X19fX2RzaV9rCj4gCWNrX2RzaV9waHkgIC0+fCAgMCAgfAo+IAkgICAg
ICAgICAgICAgIHxfX19fLwo+Cj4gQSBEU0kgY2xvY2sgaXMgbWlzc2luZyBpbiB0aGUgY2xvY2sg
ZnJhbWV3b3JrLiBMb29raW5nIGF0IHRoZQo+IGNsa19zdW1tYXJ5LCBpdCBhcHBlYXJzIHRoYXQg
J2NrX2RzaV9waHknIGlzIG5vdCBpbXBsZW1lbnRlZC4gU2luY2UgdGhlCj4gRFNJIGtlcm5lbCBj
bG9jayBpcyBiYXNlZCBvbiB0aGUgaW50ZXJuYWwgRFNJIHBsbC4gVGhlIGNvbW1vbiBjbG9jawo+
IGRyaXZlciBjYW4gbm90IGRpcmVjdGx5IGV4cG9zZSB0aGlzICdja19kc2lfcGh5JyBjbG9jayBi
ZWNhdXNlIGl0IGRvZXMKPiBub3QgY29udGFpbiBhbnkgY29tbW9uIHJlZ2lzdGVycyB3aXRoIHRo
ZSBEU0kuIFRodXMgaXQgbmVlZHMgdG8gYmUgZG9uZQo+IGRpcmVjdGx5IHdpdGhpbiB0aGUgRFNJ
IHBoeSBkcml2ZXIuCj4KPiBTaWduZWQtb2ZmLWJ5OiBSYXBoYWVsIEdhbGxhaXMtUG91IDxyYXBo
YWVsLmdhbGxhaXMtcG91QGZvc3Muc3QuY29tPgo+IC0tLQo+IENoYW5nZXMgaW4gdjM6Cj4gCS0g
Rml4IHNtYXRjaCB3YXJuaW5nOgo+IAkuLi4vZHdfbWlwaV9kc2ktc3RtLmM6NzE5IGR3X21pcGlf
ZHNpX3N0bV9wcm9iZSgpIHdhcm46ICdkc2ktPnBjbGsnCj4gCWZyb20gY2xrX3ByZXBhcmVfZW5h
YmxlKCkgbm90IHJlbGVhc2VkIG9uIGxpbmVzOiA3MTkuCj4gLS0tCj4gICBkcml2ZXJzL2dwdS9k
cm0vc3RtL2R3X21pcGlfZHNpLXN0bS5jIHwgMjQ3ICsrKysrKysrKysrKysrKysrKysrKystLS0t
Cj4gICAxIGZpbGUgY2hhbmdlZCwgMjE2IGluc2VydGlvbnMoKyksIDMxIGRlbGV0aW9ucygtKQo+
Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9zdG0vZHdfbWlwaV9kc2ktc3RtLmMgYi9k
cml2ZXJzL2dwdS9kcm0vc3RtL2R3X21pcGlfZHNpLXN0bS5jCj4gaW5kZXggODJmZmY5ZTg0MzQ1
Li5iMjAxMjM4NTRjNGEgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3N0bS9kd19taXBp
X2RzaS1zdG0uYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9zdG0vZHdfbWlwaV9kc2ktc3RtLmMK
PiBAQCAtNyw3ICs3LDkgQEAKPiAgICAqLwo+ICAgCj4gICAjaW5jbHVkZSA8bGludXgvY2xrLmg+
Cj4gKyNpbmNsdWRlIDxsaW51eC9jbGstcHJvdmlkZXIuaD4KPiAgICNpbmNsdWRlIDxsaW51eC9p
b3BvbGwuaD4KPiArI2luY2x1ZGUgPGxpbnV4L2tlcm5lbC5oPgo+ICAgI2luY2x1ZGUgPGxpbnV4
L21vZF9kZXZpY2V0YWJsZS5oPgo+ICAgI2luY2x1ZGUgPGxpbnV4L21vZHVsZS5oPgo+ICAgI2lu
Y2x1ZGUgPGxpbnV4L3BsYXRmb3JtX2RldmljZS5oPgo+IEBAIC03Nyw5ICs3OSwxMiBAQCBlbnVt
IGRzaV9jb2xvciB7Cj4gICAKPiAgIHN0cnVjdCBkd19taXBpX2RzaV9zdG0gewo+ICAgCXZvaWQg
X19pb21lbSAqYmFzZTsKPiArCXN0cnVjdCBkZXZpY2UgKmRldjsKPiAgIAlzdHJ1Y3QgY2xrICpw
bGxyZWZfY2xrOwo+ICAgCXN0cnVjdCBjbGsgKnBjbGs7Cj4gKwlzdHJ1Y3QgY2xrX2h3IHR4Ynl0
ZV9jbGs7Cj4gICAJc3RydWN0IGR3X21pcGlfZHNpICpkc2k7Cj4gKwlzdHJ1Y3QgZHdfbWlwaV9k
c2lfcGxhdF9kYXRhIHBkYXRhOwo+ICAgCXUzMiBod192ZXJzaW9uOwo+ICAgCWludCBsYW5lX21p
bl9rYnBzOwo+ICAgCWludCBsYW5lX21heF9rYnBzOwo+IEBAIC0xOTYsMjkgKzIwMSwxOTggQEAg
c3RhdGljIGludCBkc2lfcGxsX2dldF9wYXJhbXMoc3RydWN0IGR3X21pcGlfZHNpX3N0bSAqZHNp
LAo+ICAgCXJldHVybiAwOwo+ICAgfQo+ICAgCj4gLXN0YXRpYyBpbnQgZHdfbWlwaV9kc2lfcGh5
X2luaXQodm9pZCAqcHJpdl9kYXRhKQo+ICsjZGVmaW5lIGNsa190b19kd19taXBpX2RzaV9zdG0o
Y2xrKSBcCj4gKwljb250YWluZXJfb2YoY2xrLCBzdHJ1Y3QgZHdfbWlwaV9kc2lfc3RtLCB0eGJ5
dGVfY2xrKQo+ICsKPiArc3RhdGljIHZvaWQgZHdfbWlwaV9kc2lfY2xrX2Rpc2FibGUoc3RydWN0
IGNsa19odyAqY2xrKQo+ICAgewo+IC0Jc3RydWN0IGR3X21pcGlfZHNpX3N0bSAqZHNpID0gcHJp
dl9kYXRhOwo+ICsJc3RydWN0IGR3X21pcGlfZHNpX3N0bSAqZHNpID0gY2xrX3RvX2R3X21pcGlf
ZHNpX3N0bShjbGspOwo+ICsKPiArCURSTV9ERUJVR19EUklWRVIoIlxuIik7Cj4gKwo+ICsJLyog
RGlzYWJsZSB0aGUgRFNJIFBMTCAqLwo+ICsJZHNpX2NsZWFyKGRzaSwgRFNJX1dSUENSLCBXUlBD
Ul9QTExFTik7Cj4gKwo+ICsJLyogRGlzYWJsZSB0aGUgcmVndWxhdG9yICovCj4gKwlkc2lfY2xl
YXIoZHNpLCBEU0lfV1JQQ1IsIFdSUENSX1JFR0VOIHwgV1JQQ1JfQkdSRU4pOwo+ICt9Cj4gKwo+
ICtzdGF0aWMgaW50IGR3X21pcGlfZHNpX2Nsa19lbmFibGUoc3RydWN0IGNsa19odyAqY2xrKQo+
ICt7Cj4gKwlzdHJ1Y3QgZHdfbWlwaV9kc2lfc3RtICpkc2kgPSBjbGtfdG9fZHdfbWlwaV9kc2lf
c3RtKGNsayk7Cj4gICAJdTMyIHZhbDsKPiAgIAlpbnQgcmV0Owo+ICAgCj4gKwlEUk1fREVCVUdf
RFJJVkVSKCJcbiIpOwo+ICsKPiAgIAkvKiBFbmFibGUgdGhlIHJlZ3VsYXRvciAqLwo+ICAgCWRz
aV9zZXQoZHNpLCBEU0lfV1JQQ1IsIFdSUENSX1JFR0VOIHwgV1JQQ1JfQkdSRU4pOwo+IC0JcmV0
ID0gcmVhZGxfcG9sbF90aW1lb3V0KGRzaS0+YmFzZSArIERTSV9XSVNSLCB2YWwsIHZhbCAmIFdJ
U1JfUlJTLAo+IC0JCQkJIFNMRUVQX1VTLCBUSU1FT1VUX1VTKTsKPiArCXJldCA9IHJlYWRsX3Bv
bGxfdGltZW91dF9hdG9taWMoZHNpLT5iYXNlICsgRFNJX1dJU1IsIHZhbCwgdmFsICYgV0lTUl9S
UlMsCj4gKwkJCQkJU0xFRVBfVVMsIFRJTUVPVVRfVVMpOwo+ICAgCWlmIChyZXQpCj4gICAJCURS
TV9ERUJVR19EUklWRVIoIiFUSU1FT1VUISB3YWl0aW5nIFJFR1UsIGxldCdzIGNvbnRpbnVlXG4i
KTsKPiAgIAo+ICAgCS8qIEVuYWJsZSB0aGUgRFNJIFBMTCAmIHdhaXQgZm9yIGl0cyBsb2NrICov
Cj4gICAJZHNpX3NldChkc2ksIERTSV9XUlBDUiwgV1JQQ1JfUExMRU4pOwo+IC0JcmV0ID0gcmVh
ZGxfcG9sbF90aW1lb3V0KGRzaS0+YmFzZSArIERTSV9XSVNSLCB2YWwsIHZhbCAmIFdJU1JfUExM
TFMsCj4gLQkJCQkgU0xFRVBfVVMsIFRJTUVPVVRfVVMpOwo+ICsJcmV0ID0gcmVhZGxfcG9sbF90
aW1lb3V0X2F0b21pYyhkc2ktPmJhc2UgKyBEU0lfV0lTUiwgdmFsLCB2YWwgJiBXSVNSX1BMTExT
LAo+ICsJCQkJCVNMRUVQX1VTLCBUSU1FT1VUX1VTKTsKPiAgIAlpZiAocmV0KQo+ICAgCQlEUk1f
REVCVUdfRFJJVkVSKCIhVElNRU9VVCEgd2FpdGluZyBQTEwsIGxldCdzIGNvbnRpbnVlXG4iKTsK
PiAgIAo+ICAgCXJldHVybiAwOwo+ICAgfQo+ICAgCj4gK3N0YXRpYyBpbnQgZHdfbWlwaV9kc2lf
Y2xrX2lzX2VuYWJsZWQoc3RydWN0IGNsa19odyAqaHcpCj4gK3sKPiArCXN0cnVjdCBkd19taXBp
X2RzaV9zdG0gKmRzaSA9IGNsa190b19kd19taXBpX2RzaV9zdG0oaHcpOwo+ICsKPiArCXJldHVy
biBkc2lfcmVhZChkc2ksIERTSV9XUlBDUikgJiBXUlBDUl9QTExFTjsKPiArfQo+ICsKPiArc3Rh
dGljIHVuc2lnbmVkIGxvbmcgZHdfbWlwaV9kc2lfY2xrX3JlY2FsY19yYXRlKHN0cnVjdCBjbGtf
aHcgKmh3LAo+ICsJCQkJCQkgdW5zaWduZWQgbG9uZyBwYXJlbnRfcmF0ZSkKPiArewo+ICsJc3Ry
dWN0IGR3X21pcGlfZHNpX3N0bSAqZHNpID0gY2xrX3RvX2R3X21pcGlfZHNpX3N0bShodyk7Cj4g
Kwl1bnNpZ25lZCBpbnQgaWRmLCBuZGl2LCBvZGYsIHBsbF9pbl9raHosIHBsbF9vdXRfa2h6Owo+
ICsJdTMyIHZhbDsKPiArCj4gKwlEUk1fREVCVUdfRFJJVkVSKCJcbiIpOwo+ICsKPiArCXBsbF9p
bl9raHogPSAodW5zaWduZWQgaW50KShwYXJlbnRfcmF0ZSAvIDEwMDApOwo+ICsKPiArCXZhbCA9
IGRzaV9yZWFkKGRzaSwgRFNJX1dSUENSKTsKPiArCj4gKwlpZGYgPSAodmFsICYgV1JQQ1JfSURG
KSA+PiAxMTsKPiArCWlmICghaWRmKQo+ICsJCWlkZiA9IDE7Cj4gKwluZGl2ID0gKHZhbCAmIFdS
UENSX05ESVYpID4+IDI7Cj4gKwlvZGYgPSBpbnRfcG93KDIsICh2YWwgJiBXUlBDUl9PREYpID4+
IDE2KTsKPiArCj4gKwkvKiBHZXQgdGhlIGFkanVzdGVkIHBsbCBvdXQgdmFsdWUgKi8KPiArCXBs
bF9vdXRfa2h6ID0gZHNpX3BsbF9nZXRfY2xrb3V0X2toeihwbGxfaW5fa2h6LCBpZGYsIG5kaXYs
IG9kZik7Cj4gKwo+ICsJcmV0dXJuICh1bnNpZ25lZCBsb25nKXBsbF9vdXRfa2h6ICogMTAwMDsK
PiArfQo+ICsKPiArc3RhdGljIGxvbmcgZHdfbWlwaV9kc2lfY2xrX3JvdW5kX3JhdGUoc3RydWN0
IGNsa19odyAqaHcsIHVuc2lnbmVkIGxvbmcgcmF0ZSwKPiArCQkJCSAgICAgICB1bnNpZ25lZCBs
b25nICpwYXJlbnRfcmF0ZSkKPiArewo+ICsJc3RydWN0IGR3X21pcGlfZHNpX3N0bSAqZHNpID0g
Y2xrX3RvX2R3X21pcGlfZHNpX3N0bShodyk7Cj4gKwl1bnNpZ25lZCBpbnQgaWRmLCBuZGl2LCBv
ZGYsIHBsbF9pbl9raHosIHBsbF9vdXRfa2h6Owo+ICsJaW50IHJldDsKPiArCj4gKwlEUk1fREVC
VUdfRFJJVkVSKCJcbiIpOwo+ICsKPiArCXBsbF9pbl9raHogPSAodW5zaWduZWQgaW50KSgqcGFy
ZW50X3JhdGUgLyAxMDAwKTsKPiArCj4gKwkvKiBDb21wdXRlIGJlc3QgcGxsIHBhcmFtZXRlcnMg
Ki8KPiArCWlkZiA9IDA7Cj4gKwluZGl2ID0gMDsKPiArCW9kZiA9IDA7Cj4gKwo+ICsJcmV0ID0g
ZHNpX3BsbF9nZXRfcGFyYW1zKGRzaSwgcGxsX2luX2toeiwgcmF0ZSAvIDEwMDAsCj4gKwkJCQkg
JmlkZiwgJm5kaXYsICZvZGYpOwo+ICsJaWYgKHJldCkKPiArCQlEUk1fV0FSTigiV2FybmluZyBk
c2lfcGxsX2dldF9wYXJhbXMoKTogYmFkIHBhcmFtc1xuIik7Cj4gKwo+ICsJLyogR2V0IHRoZSBh
ZGp1c3RlZCBwbGwgb3V0IHZhbHVlICovCj4gKwlwbGxfb3V0X2toeiA9IGRzaV9wbGxfZ2V0X2Ns
a291dF9raHoocGxsX2luX2toeiwgaWRmLCBuZGl2LCBvZGYpOwo+ICsKPiArCXJldHVybiBwbGxf
b3V0X2toeiAqIDEwMDA7Cj4gK30KPiArCj4gK3N0YXRpYyBpbnQgZHdfbWlwaV9kc2lfY2xrX3Nl
dF9yYXRlKHN0cnVjdCBjbGtfaHcgKmh3LCB1bnNpZ25lZCBsb25nIHJhdGUsCj4gKwkJCQkgICAg
dW5zaWduZWQgbG9uZyBwYXJlbnRfcmF0ZSkKPiArewo+ICsJc3RydWN0IGR3X21pcGlfZHNpX3N0
bSAqZHNpID0gY2xrX3RvX2R3X21pcGlfZHNpX3N0bShodyk7Cj4gKwl1bnNpZ25lZCBpbnQgaWRm
LCBuZGl2LCBvZGYsIHBsbF9pbl9raHosIHBsbF9vdXRfa2h6Owo+ICsJaW50IHJldDsKPiArCXUz
MiB2YWw7Cj4gKwo+ICsJRFJNX0RFQlVHX0RSSVZFUigiXG4iKTsKPiArCj4gKwlwbGxfaW5fa2h6
ID0gKHVuc2lnbmVkIGludCkocGFyZW50X3JhdGUgLyAxMDAwKTsKPiArCj4gKwkvKiBDb21wdXRl
IGJlc3QgcGxsIHBhcmFtZXRlcnMgKi8KPiArCWlkZiA9IDA7Cj4gKwluZGl2ID0gMDsKPiArCW9k
ZiA9IDA7Cj4gKwo+ICsJcmV0ID0gZHNpX3BsbF9nZXRfcGFyYW1zKGRzaSwgcGxsX2luX2toeiwg
cmF0ZSAvIDEwMDAsICZpZGYsICZuZGl2LCAmb2RmKTsKPiArCWlmIChyZXQpCj4gKwkJRFJNX1dB
Uk4oIldhcm5pbmcgZHNpX3BsbF9nZXRfcGFyYW1zKCk6IGJhZCBwYXJhbXNcbiIpOwo+ICsKPiAr
CS8qIEdldCB0aGUgYWRqdXN0ZWQgcGxsIG91dCB2YWx1ZSAqLwo+ICsJcGxsX291dF9raHogPSBk
c2lfcGxsX2dldF9jbGtvdXRfa2h6KHBsbF9pbl9raHosIGlkZiwgbmRpdiwgb2RmKTsKPiArCj4g
KwkvKiBTZXQgdGhlIFBMTCBkaXZpc2lvbiBmYWN0b3JzICovCj4gKwlkc2lfdXBkYXRlX2JpdHMo
ZHNpLCBEU0lfV1JQQ1IsCVdSUENSX05ESVYgfCBXUlBDUl9JREYgfCBXUlBDUl9PREYsCj4gKwkJ
CShuZGl2IDw8IDIpIHwgKGlkZiA8PCAxMSkgfCAoKGZmcyhvZGYpIC0gMSkgPDwgMTYpKTsKPiAr
Cj4gKwkvKiBDb21wdXRlIHVpeDQgJiBzZXQgdGhlIGJpdCBwZXJpb2QgaW4gaGlnaC1zcGVlZCBt
b2RlICovCj4gKwl2YWwgPSA0MDAwMDAwIC8gcGxsX291dF9raHo7Cj4gKwlkc2lfdXBkYXRlX2Jp
dHMoZHNpLCBEU0lfV1BDUjAsIFdQQ1IwX1VJWDQsIHZhbCk7Cj4gKwo+ICsJcmV0dXJuIDA7Cj4g
K30KPiArCj4gK3N0YXRpYyB2b2lkIGR3X21pcGlfZHNpX2Nsa191bnJlZ2lzdGVyKHZvaWQgKmRh
dGEpCj4gK3sKPiArCXN0cnVjdCBkd19taXBpX2RzaV9zdG0gKmRzaSA9IGRhdGE7Cj4gKwo+ICsJ
RFJNX0RFQlVHX0RSSVZFUigiXG4iKTsKPiArCj4gKwlvZl9jbGtfZGVsX3Byb3ZpZGVyKGRzaS0+
ZGV2LT5vZl9ub2RlKTsKPiArCWNsa19od191bnJlZ2lzdGVyKCZkc2ktPnR4Ynl0ZV9jbGspOwo+
ICt9Cj4gKwo+ICtzdGF0aWMgY29uc3Qgc3RydWN0IGNsa19vcHMgZHdfbWlwaV9kc2lfc3RtX2Ns
a19vcHMgPSB7Cj4gKwkuZW5hYmxlID0gZHdfbWlwaV9kc2lfY2xrX2VuYWJsZSwKPiArCS5kaXNh
YmxlID0gZHdfbWlwaV9kc2lfY2xrX2Rpc2FibGUsCj4gKwkuaXNfZW5hYmxlZCA9IGR3X21pcGlf
ZHNpX2Nsa19pc19lbmFibGVkLAo+ICsJLnJlY2FsY19yYXRlID0gZHdfbWlwaV9kc2lfY2xrX3Jl
Y2FsY19yYXRlLAo+ICsJLnJvdW5kX3JhdGUgPSBkd19taXBpX2RzaV9jbGtfcm91bmRfcmF0ZSwK
PiArCS5zZXRfcmF0ZSA9IGR3X21pcGlfZHNpX2Nsa19zZXRfcmF0ZSwKPiArfTsKPiArCj4gK3N0
YXRpYyBzdHJ1Y3QgY2xrX2luaXRfZGF0YSBjZGF0YV9pbml0ID0gewo+ICsJLm5hbWUgPSAiY2tf
ZHNpX3BoeSIsCj4gKwkub3BzID0gJmR3X21pcGlfZHNpX3N0bV9jbGtfb3BzLAo+ICsJLnBhcmVu
dF9uYW1lcyA9IChjb25zdCBjaGFyICogW10pIHsiY2tfaHNlIn0sCj4gKwkubnVtX3BhcmVudHMg
PSAxLAo+ICt9Owo+ICsKPiArc3RhdGljIGludCBkd19taXBpX2RzaV9jbGtfcmVnaXN0ZXIoc3Ry
dWN0IGR3X21pcGlfZHNpX3N0bSAqZHNpLAo+ICsJCQkJICAgIHN0cnVjdCBkZXZpY2UgKmRldikK
PiArewo+ICsJc3RydWN0IGRldmljZV9ub2RlICpub2RlID0gZGV2LT5vZl9ub2RlOwo+ICsJaW50
IHJldDsKPiArCj4gKwlEUk1fREVCVUdfRFJJVkVSKCJSZWdpc3RlcmluZyBjbGtcbiIpOwo+ICsK
PiArCWRzaS0+dHhieXRlX2Nsay5pbml0ID0gJmNkYXRhX2luaXQ7Cj4gKwo+ICsJcmV0ID0gY2xr
X2h3X3JlZ2lzdGVyKGRldiwgJmRzaS0+dHhieXRlX2Nsayk7Cj4gKwlpZiAocmV0KQo+ICsJCXJl
dHVybiByZXQ7Cj4gKwo+ICsJcmV0ID0gb2ZfY2xrX2FkZF9od19wcm92aWRlcihub2RlLCBvZl9j
bGtfaHdfc2ltcGxlX2dldCwKPiArCQkJCSAgICAgJmRzaS0+dHhieXRlX2Nsayk7Cj4gKwlpZiAo
cmV0KQo+ICsJCWNsa19od191bnJlZ2lzdGVyKCZkc2ktPnR4Ynl0ZV9jbGspOwo+ICsKPiArCXJl
dHVybiByZXQ7Cj4gK30KPiArCj4gK3N0YXRpYyBpbnQgZHdfbWlwaV9kc2lfcGh5X2luaXQodm9p
ZCAqcHJpdl9kYXRhKQo+ICt7Cj4gKwlzdHJ1Y3QgZHdfbWlwaV9kc2lfc3RtICpkc2kgPSBwcml2
X2RhdGE7Cj4gKwlpbnQgcmV0Owo+ICsKPiArCXJldCA9IGNsa19wcmVwYXJlX2VuYWJsZShkc2kt
PnR4Ynl0ZV9jbGsuY2xrKTsKPiArCXJldHVybiByZXQ7Cj4gK30KPiArCj4gICBzdGF0aWMgdm9p
ZCBkd19taXBpX2RzaV9waHlfcG93ZXJfb24odm9pZCAqcHJpdl9kYXRhKQo+ICAgewo+ICAgCXN0
cnVjdCBkd19taXBpX2RzaV9zdG0gKmRzaSA9IHByaXZfZGF0YTsKPiBAQCAtMjM1LDYgKzQwOSw4
IEBAIHN0YXRpYyB2b2lkIGR3X21pcGlfZHNpX3BoeV9wb3dlcl9vZmYodm9pZCAqcHJpdl9kYXRh
KQo+ICAgCj4gICAJRFJNX0RFQlVHX0RSSVZFUigiXG4iKTsKPiAgIAo+ICsJY2xrX2Rpc2FibGVf
dW5wcmVwYXJlKGRzaS0+dHhieXRlX2Nsay5jbGspOwo+ICsKPiAgIAkvKiBEaXNhYmxlIHRoZSBE
U0kgd3JhcHBlciAqLwo+ICAgCWRzaV9jbGVhcihkc2ksIERTSV9XQ1IsIFdDUl9EU0lFTik7Cj4g
ICB9Cj4gQEAgLTI0NSw5ICs0MjEsOCBAQCBkd19taXBpX2RzaV9nZXRfbGFuZV9tYnBzKHZvaWQg
KnByaXZfZGF0YSwgY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGUsCj4gICAJCQkg
IHVuc2lnbmVkIGludCAqbGFuZV9tYnBzKQo+ICAgewo+ICAgCXN0cnVjdCBkd19taXBpX2RzaV9z
dG0gKmRzaSA9IHByaXZfZGF0YTsKPiAtCXVuc2lnbmVkIGludCBpZGYsIG5kaXYsIG9kZiwgcGxs
X2luX2toeiwgcGxsX291dF9raHo7Cj4gKwl1bnNpZ25lZCBpbnQgcGxsX2luX2toeiwgcGxsX291
dF9raHo7Cj4gICAJaW50IHJldCwgYnBwOwo+IC0JdTMyIHZhbDsKPiAgIAo+ICAgCXBsbF9pbl9r
aHogPSAodW5zaWduZWQgaW50KShjbGtfZ2V0X3JhdGUoZHNpLT5wbGxyZWZfY2xrKSAvIDEwMDAp
Owo+ICAgCj4gQEAgLTI2OCwyNSArNDQzLDEwIEBAIGR3X21pcGlfZHNpX2dldF9sYW5lX21icHMo
dm9pZCAqcHJpdl9kYXRhLCBjb25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZSwKPiAg
IAkJRFJNX1dBUk4oIldhcm5pbmcgbWluIHBoeSBtYnBzIGlzIHVzZWRcbiIpOwo+ICAgCX0KPiAg
IAo+IC0JLyogQ29tcHV0ZSBiZXN0IHBsbCBwYXJhbWV0ZXJzICovCj4gLQlpZGYgPSAwOwo+IC0J
bmRpdiA9IDA7Cj4gLQlvZGYgPSAwOwo+IC0JcmV0ID0gZHNpX3BsbF9nZXRfcGFyYW1zKGRzaSwg
cGxsX2luX2toeiwgcGxsX291dF9raHosCj4gLQkJCQkgJmlkZiwgJm5kaXYsICZvZGYpOwo+ICsJ
cmV0ID0gY2xrX3NldF9yYXRlKChkc2ktPnR4Ynl0ZV9jbGsuY2xrKSwgcGxsX291dF9raHogKiAx
MDAwKTsKPiAgIAlpZiAocmV0KQo+IC0JCURSTV9XQVJOKCJXYXJuaW5nIGRzaV9wbGxfZ2V0X3Bh
cmFtcygpOiBiYWQgcGFyYW1zXG4iKTsKPiAtCj4gLQkvKiBHZXQgdGhlIGFkanVzdGVkIHBsbCBv
dXQgdmFsdWUgKi8KPiAtCXBsbF9vdXRfa2h6ID0gZHNpX3BsbF9nZXRfY2xrb3V0X2toeihwbGxf
aW5fa2h6LCBpZGYsIG5kaXYsIG9kZik7Cj4gLQo+IC0JLyogU2V0IHRoZSBQTEwgZGl2aXNpb24g
ZmFjdG9ycyAqLwo+IC0JZHNpX3VwZGF0ZV9iaXRzKGRzaSwgRFNJX1dSUENSLAlXUlBDUl9ORElW
IHwgV1JQQ1JfSURGIHwgV1JQQ1JfT0RGLAo+IC0JCQkobmRpdiA8PCAyKSB8IChpZGYgPDwgMTEp
IHwgKChmZnMob2RmKSAtIDEpIDw8IDE2KSk7Cj4gLQo+IC0JLyogQ29tcHV0ZSB1aXg0ICYgc2V0
IHRoZSBiaXQgcGVyaW9kIGluIGhpZ2gtc3BlZWQgbW9kZSAqLwo+IC0JdmFsID0gNDAwMDAwMCAv
IHBsbF9vdXRfa2h6Owo+IC0JZHNpX3VwZGF0ZV9iaXRzKGRzaSwgRFNJX1dQQ1IwLCBXUENSMF9V
SVg0LCB2YWwpOwo+ICsJCURSTV9ERUJVR19EUklWRVIoIkVSUk9SIENvdWxkIG5vdCBzZXQgcmF0
ZSBvZiAlZCB0byAlcyBjbGstPm5hbWUiLAo+ICsJCQkJIHBsbF9vdXRfa2h6LCBjbGtfaHdfZ2V0
X25hbWUoJmRzaS0+dHhieXRlX2NsaykpOwo+ICAgCj4gICAJLyogU2VsZWN0IHZpZGVvIG1vZGUg
YnkgcmVzZXR0aW5nIERTSU0gYml0ICovCj4gICAJZHNpX2NsZWFyKGRzaSwgRFNJX1dDRkdSLCBX
Q0ZHUl9EU0lNKTsKPiBAQCAtNDQ1LDYgKzYwNSw3IEBAIHN0YXRpYyBpbnQgZHdfbWlwaV9kc2lf
c3RtX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCj4gICB7Cj4gICAJc3RydWN0
IGRldmljZSAqZGV2ID0gJnBkZXYtPmRldjsKPiAgIAlzdHJ1Y3QgZHdfbWlwaV9kc2lfc3RtICpk
c2k7Cj4gKwljb25zdCBzdHJ1Y3QgZHdfbWlwaV9kc2lfcGxhdF9kYXRhICpwZGF0YSA9IG9mX2Rl
dmljZV9nZXRfbWF0Y2hfZGF0YShkZXYpOwo+ICAgCWludCByZXQ7Cj4gICAKPiAgIAlkc2kgPSBk
ZXZtX2t6YWxsb2MoZGV2LCBzaXplb2YoKmRzaSksIEdGUF9LRVJORUwpOwo+IEBAIC01MTQsMTgg
KzY3NSw0MSBAQCBzdGF0aWMgaW50IGR3X21pcGlfZHNpX3N0bV9wcm9iZShzdHJ1Y3QgcGxhdGZv
cm1fZGV2aWNlICpwZGV2KQo+ICAgCQlkc2ktPmxhbmVfbWF4X2ticHMgKj0gMjsKPiAgIAl9Cj4g
ICAKPiAtCWR3X21pcGlfZHNpX3N0bV9wbGF0X2RhdGEuYmFzZSA9IGRzaS0+YmFzZTsKPiAtCWR3
X21pcGlfZHNpX3N0bV9wbGF0X2RhdGEucHJpdl9kYXRhID0gZHNpOwo+ICsJZHNpLT5wZGF0YSA9
ICpwZGF0YTsKPiArCWRzaS0+cGRhdGEuYmFzZSA9IGRzaS0+YmFzZTsKPiArCWRzaS0+cGRhdGEu
cHJpdl9kYXRhID0gZHNpOwo+ICsKPiArCWRzaS0+cGRhdGEubWF4X2RhdGFfbGFuZXMgPSAyOwo+
ICsJZHNpLT5wZGF0YS5waHlfb3BzID0gJmR3X21pcGlfZHNpX3N0bV9waHlfb3BzOwo+ICAgCj4g
ICAJcGxhdGZvcm1fc2V0X2RydmRhdGEocGRldiwgZHNpKTsKPiAgIAo+IC0JZHNpLT5kc2kgPSBk
d19taXBpX2RzaV9wcm9iZShwZGV2LCAmZHdfbWlwaV9kc2lfc3RtX3BsYXRfZGF0YSk7Cj4gKwlk
c2ktPmRzaSA9IGR3X21pcGlfZHNpX3Byb2JlKHBkZXYsICZkc2ktPnBkYXRhKTsKPiAgIAlpZiAo
SVNfRVJSKGRzaS0+ZHNpKSkgewo+ICAgCQlyZXQgPSBQVFJfRVJSKGRzaS0+ZHNpKTsKPiAgIAkJ
ZGV2X2Vycl9wcm9iZShkZXYsIHJldCwgIkZhaWxlZCB0byBpbml0aWFsaXplIG1pcGkgZHNpIGhv
c3RcbiIpOwo+ICAgCQlnb3RvIGVycl9kc2lfcHJvYmU7Cj4gICAJfQo+ICAgCj4gKwkvKgo+ICsJ
ICogV2UgbmVlZCB0byB3YWl0IGZvciB0aGUgZ2VuZXJpYyBicmlkZ2UgdG8gcHJvYmUgYmVmb3Jl
IGVuYWJsaW5nIGFuZAo+ICsJICogcmVnaXN0ZXIgdGhlIGludGVybmFsIHBpeGVsIGNsb2NrLgo+
ICsJICovCj4gKwlyZXQgPSBjbGtfcHJlcGFyZV9lbmFibGUoZHNpLT5wY2xrKTsKPiArCWlmIChy
ZXQpIHsKPiArCQlEUk1fRVJST1IoIiVzOiBGYWlsZWQgdG8gZW5hYmxlIHBlcmlwaGVyYWwgY2xr
XG4iLCBfX2Z1bmNfXyk7Cj4gKwkJZ290byBlcnJfZHNpX3Byb2JlOwo+ICsJfQo+ICsKPiArCXJl
dCA9IGR3X21pcGlfZHNpX2Nsa19yZWdpc3Rlcihkc2ksIGRldik7Cj4gKwlpZiAocmV0KSB7Cj4g
KwkJRFJNX0VSUk9SKCJGYWlsZWQgdG8gcmVnaXN0ZXIgRFNJIHBpeGVsIGNsb2NrOiAlZFxuIiwg
cmV0KTsKPiArCQljbGtfZGlzYWJsZV91bnByZXBhcmUoZHNpLT5wY2xrKTsKPiArCQlnb3RvIGVy
cl9kc2lfcHJvYmU7Cj4gKwl9Cj4gKwo+ICsJY2xrX2Rpc2FibGVfdW5wcmVwYXJlKGRzaS0+cGNs
ayk7Cj4gKwo+ICAgCXJldHVybiAwOwo+ICAgCj4gICBlcnJfZHNpX3Byb2JlOgo+IEBAIC01NDIs
MTIgKzcyNiwxMyBAQCBzdGF0aWMgdm9pZCBkd19taXBpX2RzaV9zdG1fcmVtb3ZlKHN0cnVjdCBw
bGF0Zm9ybV9kZXZpY2UgKnBkZXYpCj4gICAKPiAgIAlkd19taXBpX2RzaV9yZW1vdmUoZHNpLT5k
c2kpOwo+ICAgCWNsa19kaXNhYmxlX3VucHJlcGFyZShkc2ktPnBsbHJlZl9jbGspOwo+ICsJZHdf
bWlwaV9kc2lfY2xrX3VucmVnaXN0ZXIoZHNpKTsKPiAgIAlyZWd1bGF0b3JfZGlzYWJsZShkc2kt
PnZkZF9zdXBwbHkpOwo+ICAgfQo+ICAgCj4gICBzdGF0aWMgaW50IGR3X21pcGlfZHNpX3N0bV9z
dXNwZW5kKHN0cnVjdCBkZXZpY2UgKmRldikKPiAgIHsKPiAtCXN0cnVjdCBkd19taXBpX2RzaV9z
dG0gKmRzaSA9IGR3X21pcGlfZHNpX3N0bV9wbGF0X2RhdGEucHJpdl9kYXRhOwo+ICsJc3RydWN0
IGR3X21pcGlfZHNpX3N0bSAqZHNpID0gZGV2X2dldF9kcnZkYXRhKGRldik7Cj4gICAKPiAgIAlE
Uk1fREVCVUdfRFJJVkVSKCJcbiIpOwo+ICAgCj4gQEAgLTU2MCw3ICs3NDUsNyBAQCBzdGF0aWMg
aW50IGR3X21pcGlfZHNpX3N0bV9zdXNwZW5kKHN0cnVjdCBkZXZpY2UgKmRldikKPiAgIAo+ICAg
c3RhdGljIGludCBkd19taXBpX2RzaV9zdG1fcmVzdW1lKHN0cnVjdCBkZXZpY2UgKmRldikKPiAg
IHsKPiAtCXN0cnVjdCBkd19taXBpX2RzaV9zdG0gKmRzaSA9IGR3X21pcGlfZHNpX3N0bV9wbGF0
X2RhdGEucHJpdl9kYXRhOwo+ICsJc3RydWN0IGR3X21pcGlfZHNpX3N0bSAqZHNpID0gZGV2X2dl
dF9kcnZkYXRhKGRldik7Cj4gICAJaW50IHJldDsKPiAgIAo+ICAgCURSTV9ERUJVR19EUklWRVIo
IlxuIik7Cl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkxp
bnV4LXN0bTMyIG1haWxpbmcgbGlzdApMaW51eC1zdG0zMkBzdC1tZC1tYWlsbWFuLnN0b3JtcmVw
bHkuY29tCmh0dHBzOi8vc3QtbWQtbWFpbG1hbi5zdG9ybXJlcGx5LmNvbS9tYWlsbWFuL2xpc3Rp
bmZvL2xpbnV4LXN0bTMyCg==
