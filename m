Return-Path: <linux-stm32-bounces@st-md-mailman.stormreply.com>
X-Original-To: lists+linux-stm32@lfdr.de
Delivered-To: lists+linux-stm32@lfdr.de
Received: from stm-ict-prod-mailman-01.stormreply.prv (st-md-mailman.stormreply.com [52.209.6.89])
	by mail.lfdr.de (Postfix) with ESMTPS id 54E69AA0E1
	for <lists+linux-stm32@lfdr.de>; Thu,  5 Sep 2019 13:06:40 +0200 (CEST)
Received: from ip-172-31-3-76.eu-west-1.compute.internal (localhost [127.0.0.1])
	by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTP id 0D86FC35E01;
	Thu,  5 Sep 2019 11:06:40 +0000 (UTC)
Received: from mail-wr1-f65.google.com (mail-wr1-f65.google.com
 [209.85.221.65])
 (using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
 (No client certificate requested)
 by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTPS id 9B426C36B3E
 for <linux-stm32@st-md-mailman.stormreply.com>;
 Thu,  5 Sep 2019 10:50:07 +0000 (UTC)
Received: by mail-wr1-f65.google.com with SMTP id 30so2152691wrk.11
 for <linux-stm32@st-md-mailman.stormreply.com>;
 Thu, 05 Sep 2019 03:50:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=subject:to:cc:references:from:message-id:date:user-agent
 :mime-version:in-reply-to:content-language:content-transfer-encoding;
 bh=ppGfaxwbEsnYh3HmwqQSWM/unqq1LegMqQ2YngPd5Bg=;
 b=JZqCMmhnUawcv4ckg1/CCRh/jSD5LIpDKQMBVNZBifJG4v4nsLjfphYFDv3h9knYpo
 rLLGvbkRKGlRB0aePNZ6L9z587sH54p/+vQkq86/ob9ypC2A2pTI5rt0TSUOaZNA1OEj
 z+QBQ/mzxlC+OtIHwhNZ8UkleYb5YIKx4mPZJggI2LgP/K2Z4vfNfYWEUlTPTvOWH5+W
 /5OSZjRojmL2qYor98LBkHVZEDjcdKuGqijsLJzWoaVkqOyeh+NciCI2vX5ku5rqJEXl
 jrUeMYFZOwS7z5yiQksW2C56hcuxZQ/xmQxlOAMyZuixU+vIc4Khu4gqJyThpYDtcBn2
 jyPw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:subject:to:cc:references:from:message-id:date
 :user-agent:mime-version:in-reply-to:content-language
 :content-transfer-encoding;
 bh=ppGfaxwbEsnYh3HmwqQSWM/unqq1LegMqQ2YngPd5Bg=;
 b=PXJyIqgfxqGQXBcnGQE2M27cJifuK53Ck/vv+64sia5ADTmlhLGsHCsIO9zAP6TgyH
 aYqvO7XUZ0Ft++qFEExUBqOCdwCWUsDQC7cQrwJoemvAeUMyoKt5VmKxKhxr8/yClqOq
 7wFV4/OM1Oc59c6oVHt64tF6tiu3ptDDDJu4UeC11w2EdVxCeZuEyqn1vGqLSTc0JuPP
 TkzQDSO13PDNPE6dAV+uLb1RA72QTbxKEAzxPFOgzlAqWBx+S4Lnexe1bWz3XL1U0oKk
 ul/QACrzlU3BoSTRlH9jMQnfjBi2fOt6lfGVY+QJCCJ8oPd3uWRrUtv2PzvB4nvTan/+
 4YDA==
X-Gm-Message-State: APjAAAWQ3H0l8BtZY7tBsm2XwWr1vM8OMKyUTZfRVmq0FRBAJcQgzx3d
 WZ8OautnMFPwgao1a4kmLjw=
X-Google-Smtp-Source: APXvYqwEWG3j+vvi2pFbaNRzIEymybin0TIt/2NA1uR0jVEei2D85FXd8pQ115r8GD2HluzrgDnzeg==
X-Received: by 2002:a05:6000:106:: with SMTP id
 o6mr1997721wrx.57.1567680607095; 
 Thu, 05 Sep 2019 03:50:07 -0700 (PDT)
Received: from [192.168.2.41] ([46.227.18.67])
 by smtp.gmail.com with ESMTPSA id x15sm1654388wmc.16.2019.09.05.03.50.06
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Thu, 05 Sep 2019 03:50:06 -0700 (PDT)
To: Arnaud Pouliquen <arnaud.pouliquen@st.com>
References: <1567602594-2913-1-git-send-email-arnaud.pouliquen@st.com>
 <1567602594-2913-3-git-send-email-arnaud.pouliquen@st.com>
From: Richard Genoud <richard.genoud@gmail.com>
Message-ID: <6595e951-82ff-212d-b488-af4422461a8e@gmail.com>
Date: Thu, 5 Sep 2019 12:50:05 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <1567602594-2913-3-git-send-email-arnaud.pouliquen@st.com>
Content-Language: en-US
X-Mailman-Approved-At: Thu, 05 Sep 2019 11:06:38 +0000
Cc: Ohad Ben-Cohen <ohad@wizery.com>, Alan Cox <gnomes@lxorguk.ukuu.org.uk>,
 xiang xiao <xiaoxiang781216@gmail.com>,
 Greg Kroah-Hartman <gregkh@linuxfoundation.org>,
 linux-remoteproc@vger.kernel.org, linux-kernel@vger.kernel.org,
 Fabien DESSENNE <fabien.dessenne@st.com>,
 Bjorn Andersson <bjorn.andersson@linaro.org>, Jiri Slaby <jslaby@suse.com>,
 Suman Anna <s-anna@ti.com>, linux-stm32@st-md-mailman.stormreply.com
Subject: Re: [Linux-stm32] [PATCH v6 2/2] tty: add rpmsg driver
X-BeenThere: linux-stm32@st-md-mailman.stormreply.com
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: <linux-stm32.st-md-mailman.stormreply.com>
List-Unsubscribe: <https://st-md-mailman.stormreply.com/mailman/options/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=unsubscribe>
List-Archive: <http://st-md-mailman.stormreply.com/pipermail/linux-stm32/>
List-Post: <mailto:linux-stm32@st-md-mailman.stormreply.com>
List-Help: <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=help>
List-Subscribe: <https://st-md-mailman.stormreply.com/mailman/listinfo/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: linux-stm32-bounces@st-md-mailman.stormreply.com
Sender: "Linux-stm32" <linux-stm32-bounces@st-md-mailman.stormreply.com>

SGkgQXJuYXVkLAoKTGUgMDQvMDkvMjAxOSDDoCAxNTowOSwgQXJuYXVkIFBvdWxpcXVlbiBhIMOp
Y3JpdMKgOgo+IFRoaXMgZHJpdmVyIGV4cG9zZXMgYSBzdGFuZGFyZCB0dHkgaW50ZXJmYWNlIG9u
IHRvcCBvZiB0aGUgcnBtc2cKPiBmcmFtZXdvcmsgdGhyb3VnaCBhIHJwbXNnIHNlcnZpY2UuCj4g
Cj4gVGhpcyBkcml2ZXIgc3VwcG9ydHMgbXVsdGktaW5zdGFuY2VzLCBvZmZlcmluZyBhIC9kZXYv
dHR5UlBNU0d4IGVudHJ5Cj4gcGVyIHJwbXNnIGVuZHBvaW50Lgo+IAo+IFNpZ25lZC1vZmYtYnk6
IEFybmF1ZCBQb3VsaXF1ZW4gPGFybmF1ZC5wb3VsaXF1ZW5Ac3QuY29tPgo+IFNpZ25lZC1vZmYt
Ynk6IEZhYmllbiBEZXNzZW5uZSA8ZmFiaWVuLmRlc3Nlbm5lQHN0LmNvbT4KPiAtLS0KPiAgRG9j
dW1lbnRhdGlvbi9zZXJpYWwvdHR5X3JwbXNnLnJzdCB8ICA0NSArKysrCj4gIGRyaXZlcnMvdHR5
L0tjb25maWcgICAgICAgICAgICAgICAgfCAgIDkgKwo+ICBkcml2ZXJzL3R0eS9NYWtlZmlsZSAg
ICAgICAgICAgICAgIHwgICAxICsKPiAgZHJpdmVycy90dHkvcnBtc2dfdHR5LmMgICAgICAgICAg
ICB8IDQxOCArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrCj4gIDQgZmlsZXMg
Y2hhbmdlZCwgNDczIGluc2VydGlvbnMoKykKPiAgY3JlYXRlIG1vZGUgMTAwNjQ0IERvY3VtZW50
YXRpb24vc2VyaWFsL3R0eV9ycG1zZy5yc3QKPiAgY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMv
dHR5L3JwbXNnX3R0eS5jCj4gCj4gZGlmZiAtLWdpdCBhL0RvY3VtZW50YXRpb24vc2VyaWFsL3R0
eV9ycG1zZy5yc3QgYi9Eb2N1bWVudGF0aW9uL3NlcmlhbC90dHlfcnBtc2cucnN0Cj4gbmV3IGZp
bGUgbW9kZSAxMDA2NDQKPiBpbmRleCAwMDAwMDAwMDAwMDAuLmZjMWQzZmJhNzNjNQo+IC0tLSAv
ZGV2L251bGwKPiArKysgYi9Eb2N1bWVudGF0aW9uL3NlcmlhbC90dHlfcnBtc2cucnN0Cj4gQEAg
LTAsMCArMSw0NSBAQAo+ICsuLiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMAo+ICsK
PiArPT09PT09PT09PT09PQo+ICtUaGUgcnBtc2cgVFRZCj4gKz09PT09PT09PT09PT0KPiArCj4g
K1RoZSBycG1zZyB0dHkgZHJpdmVyIGltcGxlbWVudHMgc2VyaWFsIGNvbW11bmljYXRpb24gb24g
dGhlIFJQTXNnIGJ1cyB0byBtYWtlcyBwb3NzaWJsZSBmb3IgdXNlci1zcGFjZSBwcm9ncmFtcyB0
byBzZW5kIGFuZCByZWNlaXZlIHJwbXNnIG1lc3NhZ2VzIGFzIGEgc3RhbmRhcmQgdHR5IHByb3Rv
Y29sLgo+ICsKPiArVGhlIHJlbW90ZSBwcm9jZXNzb3IgY2FuIGluc3RhbnRpYXRlIGEgbmV3IHR0
eSBieSByZXF1ZXN0aW5nOgo+ICstIGEgInJwbXNnLXR0eS1yYXciIFJQTXNnIHNlcnZpY2UsIGZv
ciBUVFkgcmF3IGRhdGEgc3VwcG9ydCB3aXRob3V0IGZsb3cgY29udHJvbAo+ICstIGEgInJwbXNn
LXR0eS1jdHJsIiBSUE1TZyBzZXJ2aWNlLCBmb3IgVFRZIHN1cHBvcnQgd2l0aCBmbG93IGNvbnRy
b2wuCj4gKwo+ICtJbmZvcm1hdGlvbiByZWxhdGVkIHRvIHRoZSBSUE1zZyBhbmQgYXNzb2NpYXRl
ZCB0dHkgZGV2aWNlIGlzIGF2YWlsYWJsZSBpbgo+ICsvc3lzL2J1cy9ycG1zZy9kZXZpY2VzLy4K
PiArCj4gK1JQTXNnIFRUWSB3aXRob3V0IGNvbnRyb2wKPiArLS0tLS0tLS0tLS0tLS0tLS0tLS0t
Cj4gKwo+ICtUaGUgZGVmYXVsdCBlbmQgcG9pbnQgYXNzb2NpYXRlZCB3aXRoIHRoZSAicnBtc2ct
dHR5LXJhdyIgc2VydmljZSBpcyBkaXJlY3RseQo+ICt1c2VkIGZvciBkYXRhIGV4Y2hhbmdlLiBO
byBmbG93IGNvbnRyb2wgaXMgYXZhaWxhYmxlLgo+ICsKPiArVG8gYmUgY29tcGxpYW50IHdpdGgg
dGhpcyBkcml2ZXIsIHRoZSByZW1vdGUgZmlybXdhcmUgbXVzdCBjcmVhdGUgaXRzIGRhdGEgZW5k
IHBvaW50IGFzc29jaWF0ZWQgd2l0aCB0aGUgInJwbXNnLXR0eS1yYXciIHNlcnZpY2UuCj4gKwo+
ICtSUE1zZyBUVFkgd2l0aCBjb250cm9sCj4gKy0tLS0tLS0tLS0tLS0tLS0tLS0tLQo+ICsKPiAr
VGhlIGRlZmF1bHQgZW5kIHBvaW50IGFzc29jaWF0ZWQgd2l0aCB0aGUgInJwbXNnLXR0eS1jdHJs
IiBzZXJ2aWNlIGlzIHJlc2VydmVkIGZvcgo+ICt0aGUgY29udHJvbC4gQSBzZWNvbmQgZW5kcG9p
bnQgbXVzdCBiZSBjcmVhdGVkIGZvciBkYXRhIGV4Y2hhbmdlLgo+ICsKPiArVGhlIGNvbnRyb2wg
Y2hhbm5lbCBpcyB1c2VkIHRvIHRyYW5zbWl0IHRvIHRoZSByZW1vdGUgcHJvY2Vzc29yIHRoZSBD
VFMgc3RhdHVzLAo+ICthcyB3ZWxsIGFzIHRoZSBlbmQgcG9pbnQgYWRkcmVzcyBmb3IgZGF0YSB0
cmFuc2Zlci4KPiArCj4gK1RvIGJlIGNvbXBhdGlibGUgd2l0aCB0aGlzIGRyaXZlciwgdGhlIHJl
bW90ZSBmaXJtd2FyZSBtdXN0IGNyZWF0ZSBvciB1c2UgaXRzIGVuZCBwb2ludCBhc3NvY2lhdGVk
IHdpdGggInJwbXNnLXR0eS1jdHJsIiBzZXJ2aWNlLCBwbHVzIGEgc2Vjb25kIGVuZHBvaW50IGZv
ciB0aGUgZGF0YSBmbG93Lgo+ICtPbiBMaW51eCBycG1zZ190dHkgcHJvYmVzLCB0aGUgZGF0YSBl
bmRwb2ludCBhZGRyZXNzIGFuZCB0aGUgQ1RTIChzZXQgdG8gZGlzYWJsZSkKPiAraXMgc2VudCB0
byB0aGUgcmVtb3RlIHByb2Nlc3Nvci4KPiArVGhlIHJlbW90ZSBwcm9jZXNzb3IgaGFzIHRvIHJl
c3BlY3QgZm9sbG93aW5nIHJ1bGVzOgo+ICstIEl0IG9ubHkgdHJhbnNtaXRzIGRhdGEgd2hlbiBM
aW51eCByZW1vdGUgY3RzIGlzIGVuYWJsZSwgb3RoZXJ3aXNlIG1lc3NhZ2UKPiArICBjb3VsZCBi
ZSBsb3N0Lgo+ICstIEl0IGNhbiBwYXVzZS9yZXN1bWUgcmVjZXB0aW9uIGJ5IHNlbmRpbmcgYSBj
b250cm9sIG1lc3NhZ2UgKHJlbHkgb24gQ1RTIHN0YXRlKS4KPiArCj4gK0NvbnRyb2wgbWVzc2Fn
ZSBzdHJ1Y3R1cmU6Cj4gK3N0cnVjdCBycG1zZ190dHlfY3RybCB7Cj4gKwl1OCBjdHM7CQkJLyog
cmVtb3RlIHJlY2VwdGlvbiBzdGF0dXMgKi8KPiArCXUxNiBkX2VwdF9hZGRyOwkJLyogZGF0YSBl
bmRwb2ludCBhZGRyZXNzICovCj4gK307CkNvcnJlY3QgbWUgaWYgSSdtIHdyb25nLCBidXQgSSB0
aGluayB0aGlzIHN0cnVjdHVyZSBzaG91bGQgYmUgcGFja2VkLApzaG91bGRuJ3QgaXQgPwpJdCdz
IHdvcmtpbmcgb2sgb24gdGhlIFNUTTMyTVAxMjcsIGJldHdlZW4gTTQgYW5kIEE3LCBidXQgdGhl
IGFsaWdubWVudAptYXkgYmUgbm90IHRoZSBzYW1lIG9uIGFub3RoZXIgYXJjaGl0ZWN0dXJlID8K
CgoKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy90dHkvS2NvbmZpZyBiL2RyaXZlcnMvdHR5L0tjb25m
aWcKPiBpbmRleCBjNzYyM2Y5OWFjMGYuLjEwNDZiZjRhYTcwOSAxMDA2NDQKPiAtLS0gYS9kcml2
ZXJzL3R0eS9LY29uZmlnCj4gKysrIGIvZHJpdmVycy90dHkvS2NvbmZpZwo+IEBAIC00NTQsNiAr
NDU0LDE1IEBAIGNvbmZpZyBWQ0MKPiAgCWhlbHAKPiAgCSAgU3VwcG9ydCBmb3IgU3VuIGxvZ2lj
YWwgZG9tYWluIGNvbnNvbGVzLgo+ICAKPiArY29uZmlnIFJQTVNHX1RUWQo+ICsJdHJpc3RhdGUg
IlJQTVNHIHR0eSBkcml2ZXIiCj4gKwlkZXBlbmRzIG9uIFJQTVNHCj4gKwloZWxwCj4gKwkgIFNh
eSB5IGhlcmUgdG8gZXhwb3J0IHJwbXNnIGVuZHBvaW50cyBhcyB0dHkgZGV2aWNlcywgdXN1YWxs
eSBmb3VuZAo+ICsJICBpbiAvZGV2L3R0eVJQTVNHeC4KPiArCSAgVGhpcyBtYWtlcyBpdCBwb3Nz
aWJsZSBmb3IgdXNlci1zcGFjZSBwcm9ncmFtcyB0byBzZW5kIGFuZCByZWNlaXZlCj4gKwkgIHJw
bXNnIG1lc3NhZ2VzIGFzIGEgc3RhbmRhcmQgdHR5IHByb3RvY29sLgo+ICsKPiAgY29uZmlnIExE
SVNDX0FVVE9MT0FECj4gIAlib29sICJBdXRvbWF0aWNhbGx5IGxvYWQgVFRZIExpbmUgRGlzY2lw
bGluZXMiCj4gIAlkZWZhdWx0IHkKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy90dHkvTWFrZWZpbGUg
Yi9kcml2ZXJzL3R0eS9NYWtlZmlsZQo+IGluZGV4IDAyMGIxY2Q5Mjk0Zi4uYzI0NjVlN2ViYzJh
IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvdHR5L01ha2VmaWxlCj4gKysrIGIvZHJpdmVycy90dHkv
TWFrZWZpbGUKPiBAQCAtMzQsNSArMzQsNiBAQCBvYmotJChDT05GSUdfUFBDX0VQQVBSX0hWX0JZ
VEVDSEFOKSArPSBlaHZfYnl0ZWNoYW4ubwo+ICBvYmotJChDT05GSUdfR09MREZJU0hfVFRZKQkr
PSBnb2xkZmlzaC5vCj4gIG9iai0kKENPTkZJR19NSVBTX0VKVEFHX0ZEQ19UVFkpICs9IG1pcHNf
ZWp0YWdfZmRjLm8KPiAgb2JqLSQoQ09ORklHX1ZDQykJCSs9IHZjYy5vCj4gK29iai0kKENPTkZJ
R19SUE1TR19UVFkpCQkrPSBycG1zZ190dHkubwo+ICAKPiAgb2JqLXkgKz0gaXB3aXJlbGVzcy8K
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy90dHkvcnBtc2dfdHR5LmMgYi9kcml2ZXJzL3R0eS9ycG1z
Z190dHkuYwo+IG5ldyBmaWxlIG1vZGUgMTAwNjQ0Cj4gaW5kZXggMDAwMDAwMDAwMDAwLi4zZTRk
MGUxYTY2NjMKPiAtLS0gL2Rldi9udWxsCj4gKysrIGIvZHJpdmVycy90dHkvcnBtc2dfdHR5LmMK
PiBAQCAtMCwwICsxLDQxOCBAQAo+ICsvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIu
MAo+ICsvKgo+ICsgKiBDb3B5cmlnaHQgKEMpIFNUTWljcm9lbGVjdHJvbmljcyAyMDE5IC0gQWxs
IFJpZ2h0cyBSZXNlcnZlZAo+ICsgKiBBdXRob3JzOiBBcm5hdWQgUG91bGlxdWVuIDxhcm5hdWQu
cG91bGlxdWVuQHN0LmNvbT4gZm9yIFNUTWljcm9lbGVjdHJvbmljcy4KPiArICovCj4gKwo+ICsj
aW5jbHVkZSA8bGludXgvbW9kdWxlLmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9ycG1zZy5oPgo+ICsj
aW5jbHVkZSA8bGludXgvc2xhYi5oPgo+ICsjaW5jbHVkZSA8bGludXgvdHR5Lmg+Cj4gKyNpbmNs
dWRlIDxsaW51eC90dHlfZmxpcC5oPgo+ICsKPiArI2RlZmluZSBNQVhfVFRZX1JQTVNHCTMyCj4g
Kwo+ICsjZGVmaW5lIFRUWV9DSF9OQU1FX1JBVwkJInJwbXNnLXR0eS1yYXciCj4gKyNkZWZpbmUg
VFRZX0NIX05BTUVfV0lUSF9DVFMJInJwbXNnLXR0eS1jdHJsIgo+ICsKPiArc3RhdGljIERFRklO
RV9JRFIodHR5X2lkcik7CS8qIHR0eSBpbnN0YW5jZSBpZCAqLwo+ICtzdGF0aWMgREVGSU5FX01V
VEVYKGlkcl9sb2NrKTsJLyogcHJvdGVjdHMgdHR5X2lkciAqLwo+ICsKPiArc3RhdGljIHN0cnVj
dCB0dHlfZHJpdmVyICpycG1zZ190dHlfZHJpdmVyOwo+ICsKPiArc3RydWN0IHJwbXNnX3R0eV9j
dHJsIHsKPiArCXU4IGN0czsJCQkvKiByZW1vdGUgcmVjZXB0aW9uIHN0YXR1cyAqLwo+ICsJdTE2
IGRfZXB0X2FkZHI7CQkvKiBkYXRhIGVuZHBvaW50IGFkZHJlc3MgKi8KPiArfTsKPiArCj4gK3N0
cnVjdCBycG1zZ190dHlfcG9ydCB7Cj4gKwlzdHJ1Y3QgdHR5X3BvcnQJCXBvcnQ7CSAvKiBUVFkg
cG9ydCBkYXRhICovCj4gKwlpbnQJCQlpZDsJIC8qIFRUWSBycG1zZyBpbmRleCAqLwo+ICsJYm9v
bAkJCWN0czsJIC8qIHJlbW90ZSByZWNlcHRpb24gc3RhdHVzICovCj4gKwlzdHJ1Y3QgcnBtc2df
ZGV2aWNlCSpycGRldjsJIC8qIHJwbXNnIGRldmljZSAqLwo+ICsJc3RydWN0IHJwbXNnX2VuZHBv
aW50ICAgKmNzX2VwdDsgLyogY2hhbm5lbCBjb250cm9sIGVuZHBvaW50ICovCj4gKwlzdHJ1Y3Qg
cnBtc2dfZW5kcG9pbnQgICAqZF9lcHQ7ICAvKiBkYXRhIGVuZHBvaW50ICovCj4gKwl1MzIgZGF0
YV9kc3Q7CQkJIC8qIGRhdGEgZGVzdGluYXRpb24gZW5kcG9pbnQgYWRkcmVzcyAqLwo+ICt9Owo+
ICsKPiArdHlwZWRlZiB2b2lkICgqcnBtc2dfdHR5X3J4X2NiX3QpKHN0cnVjdCBycG1zZ19kZXZp
Y2UgKiwgdm9pZCAqLCBpbnQsIHZvaWQgKiwKPiArCQkJCSAgdTMyKTsKPiArCj4gK3N0YXRpYyBp
bnQgcnBtc2dfdHR5X2NiKHN0cnVjdCBycG1zZ19kZXZpY2UgKnJwZGV2LCB2b2lkICpkYXRhLCBp
bnQgbGVuLAo+ICsJCQl2b2lkICpwcml2LCB1MzIgc3JjKQo+ICt7Cj4gKwlzdHJ1Y3QgcnBtc2df
dHR5X3BvcnQgKmNwb3J0ID0gZGV2X2dldF9kcnZkYXRhKCZycGRldi0+ZGV2KTsKPiArCWludCBj
b3BpZWQ7Cj4gKwo+ICsJaWYgKHNyYyA9PSBjcG9ydC0+ZGF0YV9kc3QpIHsKPiArCQkvKiBkYXRh
IG1lc3NhZ2UgKi8KPiArCQlpZiAoIWxlbikKPiArCQkJcmV0dXJuIC1FSU5WQUw7Cj4gKwkJLyog
ZGF0YSBtZXNzYWdlICovCj4gKwkJY29waWVkID0gdHR5X2luc2VydF9mbGlwX3N0cmluZ19maXhl
ZF9mbGFnKCZjcG9ydC0+cG9ydCwgZGF0YSwKPiArCQkJCQkJCSAgIFRUWV9OT1JNQUwsIGxlbik7
Cj4gKwkJaWYgKGNvcGllZCAhPSBsZW4pCj4gKwkJCWRldl9kYmcoJnJwZGV2LT5kZXYsICJ0cnVu
YyBidWZmZXI6IGF2YWlsYWJsZSBzcGFjZSBpcyAlZFxuIiwKPiArCQkJCWNvcGllZCk7Cj4gKwkJ
dHR5X2ZsaXBfYnVmZmVyX3B1c2goJmNwb3J0LT5wb3J0KTsKPiArCX0gZWxzZSB7Cj4gKwkJLyog
Y29udHJvbCBtZXNzYWdlICovCj4gKwkJc3RydWN0IHJwbXNnX3R0eV9jdHJsICptc2cgPSBkYXRh
Owo+ICsKPiArCQlpZiAobGVuICE9IHNpemVvZigqbXNnKSkKPiArCQkJcmV0dXJuIC1FSU5WQUw7
Cj4gKwo+ICsJCWNwb3J0LT5kYXRhX2RzdCA9IG1zZy0+ZF9lcHRfYWRkcjsKPiArCj4gKwkJLyog
VXBkYXRlIHJlbW90ZSBjdHMgc3RhdGUgKi8KPiArCQljcG9ydC0+Y3RzID0gbXNnLT5jdHMgPyAx
IDogMDsKPiArCj4gKwkJaWYgKGNwb3J0LT5jdHMpCj4gKwkJCXR0eV9wb3J0X3R0eV93YWtldXAo
JmNwb3J0LT5wb3J0KTsKPiArCX0KPiArCj4gKwlyZXR1cm4gMDsKPiArfQo+ICsKPiArc3RhdGlj
IHZvaWQgcnBtc2dfdHR5X3NlbmRfdGVybV9yZWFkeShzdHJ1Y3QgdHR5X3N0cnVjdCAqdHR5LCB1
OCBzdGF0ZSkKPiArewo+ICsJc3RydWN0IHJwbXNnX3R0eV9wb3J0ICpjcG9ydCA9IHR0eS0+ZHJp
dmVyX2RhdGE7Cj4gKwlzdHJ1Y3QgcnBtc2dfdHR5X2N0cmwgbV9jdHJsOwo+ICsJaW50IHJldDsK
PiArCj4gKwltX2N0cmwuY3RzID0gc3RhdGU7Cj4gKwltX2N0cmwuZF9lcHRfYWRkciA9IGNwb3J0
LT5kX2VwdC0+YWRkcjsKPiArCj4gKwlyZXQgPSBycG1zZ190cnlzZW5kKGNwb3J0LT5jc19lcHQs
ICZtX2N0cmwsIHNpemVvZihtX2N0cmwpKTsKPiArCWlmIChyZXQgPCAwKQo+ICsJCWRldl9kYmco
dHR5LT5kZXYsICJjYW5ub3Qgc2VuZCBjb250cm9sICglZClcbiIsIHJldCk7Cj4gK307Cj4gKwo+
ICtzdGF0aWMgdm9pZCBycG1zZ190dHlfdGhyb3R0bGUoc3RydWN0IHR0eV9zdHJ1Y3QgKnR0eSkK
PiArewo+ICsJc3RydWN0IHJwbXNnX3R0eV9wb3J0ICpjcG9ydCA9IHR0eS0+ZHJpdmVyX2RhdGE7
Cj4gKwo+ICsJLyogRGlzYWJsZSByZW1vdGUgdHJhbnNtaXNzaW9uICovCj4gKwlpZiAoY3BvcnQt
PmNzX2VwdCkKPiArCQlycG1zZ190dHlfc2VuZF90ZXJtX3JlYWR5KHR0eSwgMCk7Cj4gK307Cj4g
Kwo+ICtzdGF0aWMgdm9pZCBycG1zZ190dHlfdW50aHJvdHRsZShzdHJ1Y3QgdHR5X3N0cnVjdCAq
dHR5KQo+ICt7Cj4gKwlzdHJ1Y3QgcnBtc2dfdHR5X3BvcnQgKmNwb3J0ID0gdHR5LT5kcml2ZXJf
ZGF0YTsKPiArCj4gKwkvKiBFbmFibGUgcmVtb3RlIHRyYW5zbWlzc2lvbiAqLwo+ICsJaWYgKGNw
b3J0LT5jc19lcHQpCj4gKwkJcnBtc2dfdHR5X3NlbmRfdGVybV9yZWFkeSh0dHksIDEpOwo+ICt9
Owo+ICsKPiArc3RhdGljIGludCBycG1zZ190dHlfaW5zdGFsbChzdHJ1Y3QgdHR5X2RyaXZlciAq
ZHJpdmVyLCBzdHJ1Y3QgdHR5X3N0cnVjdCAqdHR5KQo+ICt7Cj4gKwlzdHJ1Y3QgcnBtc2dfdHR5
X3BvcnQgKmNwb3J0ID0gaWRyX2ZpbmQoJnR0eV9pZHIsIHR0eS0+aW5kZXgpOwo+ICsKPiArCWlm
ICghY3BvcnQpIHsKPiArCQlkZXZfZXJyKHR0eS0+ZGV2LCAiY2Fubm90IGdldCBjcG9ydFxuIik7
Cj4gKwkJcmV0dXJuIC1FTk9ERVY7Cj4gKwl9Cj4gKwo+ICsJdHR5LT5kcml2ZXJfZGF0YSA9IGNw
b3J0Owo+ICsKPiArCXJldHVybiB0dHlfcG9ydF9pbnN0YWxsKCZjcG9ydC0+cG9ydCwgZHJpdmVy
LCB0dHkpOwo+ICt9Cj4gKwo+ICtzdGF0aWMgaW50IHJwbXNnX3R0eV9vcGVuKHN0cnVjdCB0dHlf
c3RydWN0ICp0dHksIHN0cnVjdCBmaWxlICpmaWxwKQo+ICt7Cj4gKwlyZXR1cm4gdHR5X3BvcnRf
b3Blbih0dHktPnBvcnQsIHR0eSwgZmlscCk7Cj4gK30KPiArCj4gK3N0YXRpYyB2b2lkIHJwbXNn
X3R0eV9jbG9zZShzdHJ1Y3QgdHR5X3N0cnVjdCAqdHR5LCBzdHJ1Y3QgZmlsZSAqZmlscCkKPiAr
ewo+ICsJcmV0dXJuIHR0eV9wb3J0X2Nsb3NlKHR0eS0+cG9ydCwgdHR5LCBmaWxwKTsKPiArfQo+
ICsKPiArc3RhdGljIGludCBycG1zZ190dHlfd3JpdGUoc3RydWN0IHR0eV9zdHJ1Y3QgKnR0eSwg
Y29uc3QgdTggKmJ1ZiwgaW50IGxlbikKPiArewo+ICsJc3RydWN0IHJwbXNnX3R0eV9wb3J0ICpj
cG9ydCA9IHR0eS0+ZHJpdmVyX2RhdGE7Cj4gKwlzdHJ1Y3QgcnBtc2dfZGV2aWNlICpycGRldjsK
PiArCWludCBtc2dfbWF4X3NpemUsIG1zZ19zaXplOwo+ICsJaW50IHJldDsKPiArCXU4ICp0bXBi
dWY7Cj4gKwo+ICsJLyogSWYgY3RzIG5vdCBzZXQsIHRoZSBtZXNzYWdlIGlzIG5vdCBzZW50Ki8K
PiArCWlmICghY3BvcnQtPmN0cykKPiArCQlyZXR1cm4gMDsKPiArCj4gKwlycGRldiA9IGNwb3J0
LT5ycGRldjsKPiArCj4gKwlkZXZfZGJnKCZycGRldi0+ZGV2LCAiJXM6IHNlbmQgbXNnIGZyb20g
dHR5LT5pbmRleCA9ICVkLCBsZW4gPSAlZFxuIiwKPiArCQlfX2Z1bmNfXywgdHR5LT5pbmRleCwg
bGVuKTsKPiArCj4gKwltc2dfbWF4X3NpemUgPSBycG1zZ19nZXRfbXR1KHJwZGV2LT5lcHQpOwo+
ICsKPiArCW1zZ19zaXplID0gbWluKGxlbiwgbXNnX21heF9zaXplKTsKPiArCXRtcGJ1ZiA9IGt6
YWxsb2MobXNnX3NpemUsIEdGUF9LRVJORUwpOwo+ICsJaWYgKCF0bXBidWYpCj4gKwkJcmV0dXJu
IC1FTk9NRU07Cj4gKwo+ICsJbWVtY3B5KHRtcGJ1ZiwgYnVmLCBtc2dfc2l6ZSk7Cj4gKwo+ICsJ
LyoKPiArCSAqIFRyeSB0byBzZW5kIHRoZSBtZXNzYWdlIHRvIHJlbW90ZSBwcm9jZXNzb3IsIGlm
IGZhaWxlZCByZXR1cm4gMCBhcwo+ICsJICogbm8gZGF0YSBzZW50Cj4gKwkgKi8KPiArCXJldCA9
IHJwbXNnX3RyeXNlbmR0byhjcG9ydC0+ZF9lcHQsIHRtcGJ1ZiwgbXNnX3NpemUsIGNwb3J0LT5k
YXRhX2RzdCk7Cj4gKwlrZnJlZSh0bXBidWYpOwo+ICsJaWYgKHJldCkgewo+ICsJCWRldl9kYmco
JnJwZGV2LT5kZXYsICJycG1zZ19zZW5kIGZhaWxlZDogJWRcbiIsIHJldCk7Cj4gKwkJcmV0dXJu
IDA7Cj4gKwl9Cj4gKwo+ICsJcmV0dXJuIG1zZ19zaXplOwo+ICt9Cj4gKwo+ICtzdGF0aWMgaW50
IHJwbXNnX3R0eV93cml0ZV9yb29tKHN0cnVjdCB0dHlfc3RydWN0ICp0dHkpCj4gK3sKPiArCXN0
cnVjdCBycG1zZ190dHlfcG9ydCAqY3BvcnQgPSB0dHktPmRyaXZlcl9kYXRhOwo+ICsKPiArCXJl
dHVybiBjcG9ydC0+Y3RzID8gcnBtc2dfZ2V0X210dShjcG9ydC0+cnBkZXYtPmVwdCkgOiAwOwo+
ICt9Cj4gKwo+ICtzdGF0aWMgY29uc3Qgc3RydWN0IHR0eV9vcGVyYXRpb25zIHJwbXNnX3R0eV9v
cHMgPSB7Cj4gKwkuaW5zdGFsbAk9IHJwbXNnX3R0eV9pbnN0YWxsLAo+ICsJLm9wZW4JCT0gcnBt
c2dfdHR5X29wZW4sCj4gKwkuY2xvc2UJCT0gcnBtc2dfdHR5X2Nsb3NlLAo+ICsJLndyaXRlCQk9
IHJwbXNnX3R0eV93cml0ZSwKPiArCS53cml0ZV9yb29tCT0gcnBtc2dfdHR5X3dyaXRlX3Jvb20s
Cj4gKwkudGhyb3R0bGUJPSBycG1zZ190dHlfdGhyb3R0bGUsCj4gKwkudW50aHJvdHRsZQk9IHJw
bXNnX3R0eV91bnRocm90dGxlLAo+ICt9Owo+ICsKPiArc3RhdGljIHN0cnVjdCBycG1zZ190dHlf
cG9ydCAqcnBtc2dfdHR5X2FsbG9jX2Nwb3J0KHZvaWQpCj4gK3sKPiArCXN0cnVjdCBycG1zZ190
dHlfcG9ydCAqY3BvcnQ7Cj4gKwo+ICsJY3BvcnQgPSBremFsbG9jKHNpemVvZigqY3BvcnQpLCBH
RlBfS0VSTkVMKTsKPiArCWlmICghY3BvcnQpCj4gKwkJcmV0dXJuIEVSUl9QVFIoLUVOT01FTSk7
Cj4gKwo+ICsJbXV0ZXhfbG9jaygmaWRyX2xvY2spOwo+ICsJY3BvcnQtPmlkID0gaWRyX2FsbG9j
KCZ0dHlfaWRyLCBjcG9ydCwgMCwgTUFYX1RUWV9SUE1TRywgR0ZQX0tFUk5FTCk7Cj4gKwltdXRl
eF91bmxvY2soJmlkcl9sb2NrKTsKPiArCj4gKwlpZiAoY3BvcnQtPmlkIDwgMCkgewo+ICsJCWtm
cmVlKGNwb3J0KTsKPiArCQlyZXR1cm4gRVJSX1BUUigtRU5PU1BDKTsKPiArCX0KPiArCj4gKwly
ZXR1cm4gY3BvcnQ7Cj4gK30KPiArCj4gK3N0YXRpYyB2b2lkIHJwbXNnX3R0eV9yZWxlYXNlX2Nw
b3J0KHN0cnVjdCBycG1zZ190dHlfcG9ydCAqY3BvcnQpCj4gK3sKPiArCW11dGV4X2xvY2soJmlk
cl9sb2NrKTsKPiArCWlkcl9yZW1vdmUoJnR0eV9pZHIsIGNwb3J0LT5pZCk7Cj4gKwltdXRleF91
bmxvY2soJmlkcl9sb2NrKTsKPiArCj4gKwlrZnJlZShjcG9ydCk7Cj4gK30KPiArCj4gK3N0YXRp
YyBpbnQgcnBtc2dfdHR5X3BvcnRfYWN0aXZhdGUoc3RydWN0IHR0eV9wb3J0ICpwLCBzdHJ1Y3Qg
dHR5X3N0cnVjdCAqdHR5KQo+ICt7Cj4gKwlwLT5sb3dfbGF0ZW5jeSA9IChwLT5mbGFncyAmIEFT
WU5DX0xPV19MQVRFTkNZKSA/IDEgOiAwOwo+ICsKPiArCS8qIEFsbG9jYXRlIHRoZSBidWZmZXIg
d2UgdXNlIGZvciB3cml0aW5nIGRhdGEgKi8KPiArCXJldHVybiB0dHlfcG9ydF9hbGxvY194bWl0
X2J1ZihwKTsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgcnBtc2dfdHR5X3BvcnRfc2h1dGRvd24o
c3RydWN0IHR0eV9wb3J0ICpwKQo+ICt7Cj4gKwkvKiBGcmVlIHRoZSB3cml0ZSBidWZmZXIgKi8K
PiArCXR0eV9wb3J0X2ZyZWVfeG1pdF9idWYocCk7Cj4gK30KPiArCj4gK3N0YXRpYyB2b2lkIHJw
bXNnX3R0eV9kdHJfcnRzKHN0cnVjdCB0dHlfcG9ydCAqcG9ydCwgaW50IHJhaXNlKQo+ICt7Cj4g
KwlkZXZfZGJnKHBvcnQtPnR0eS0+ZGV2LCAiJXM6IGR0cl9ydHMgc3RhdGUgJWRcbiIsIF9fZnVu
Y19fLCByYWlzZSk7Cj4gKwo+ICsJaWYgKHJhaXNlKQo+ICsJCXJwbXNnX3R0eV91bnRocm90dGxl
KHBvcnQtPnR0eSk7Cj4gKwllbHNlCj4gKwkJcnBtc2dfdHR5X3Rocm90dGxlKHBvcnQtPnR0eSk7
Cj4gK30KPiArCj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3QgdHR5X3BvcnRfb3BlcmF0aW9ucyBycG1z
Z190dHlfcG9ydF9vcHMgPSB7Cj4gKwkuYWN0aXZhdGUgPSBycG1zZ190dHlfcG9ydF9hY3RpdmF0
ZSwKPiArCS5zaHV0ZG93biA9IHJwbXNnX3R0eV9wb3J0X3NodXRkb3duLAo+ICsJLmR0cl9ydHMg
ID0gcnBtc2dfdHR5X2R0cl9ydHMsCj4gK307Cj4gKwo+ICtzdGF0aWMgaW50IHJwbXNnX3R0eV9w
cm9iZShzdHJ1Y3QgcnBtc2dfZGV2aWNlICpycGRldikKPiArewo+ICsJc3RydWN0IHJwbXNnX3R0
eV9wb3J0ICpjcG9ydDsKPiArCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZycGRldi0+ZGV2Owo+ICsJ
c3RydWN0IHJwbXNnX2NoYW5uZWxfaW5mbyBjaGluZm87Cj4gKwlzdHJ1Y3QgZGV2aWNlICp0dHlf
ZGV2Owo+ICsJaW50IHJldDsKPiArCj4gKwljcG9ydCA9IHJwbXNnX3R0eV9hbGxvY19jcG9ydCgp
Owo+ICsJaWYgKElTX0VSUihjcG9ydCkpIHsKPiArCQlkZXZfZXJyKGRldiwgImZhaWxlZCB0byBh
bGxvYyB0dHkgcG9ydFxuIik7Cj4gKwkJcmV0dXJuIFBUUl9FUlIoY3BvcnQpOwo+ICsJfQo+ICsK
PiArCWlmICghc3RybmNtcChycGRldi0+aWQubmFtZSwgVFRZX0NIX05BTUVfV0lUSF9DVFMsCj4g
KwkJICAgICBzaXplb2YoVFRZX0NIX05BTUVfV0lUSF9DVFMpKSkgewo+ICsJCS8qCj4gKwkJICog
dGhlIGRlZmF1bHQgZW5kcG9pbnQgaXMgdXNlZCBmb3IgY29udHJvbC4gQ3JlYXRlIGEgc2Vjb25k
Cj4gKwkJICogZW5kcG9pbnQgZm9yIHRoZSBkYXRhIHRoYXQgd291bGQgYmUgZXhjaGFuZ2VzIHRy
b3VnaCBjb250cm9sCj4gKwkJICogZW5kcG9pbnQuIGFkZHJlc3Mgb2YgdGhlIGRhdGEgZW5kcG9p
bnQgd2lsbCBiZSBwcm92aWRlZCB3aXRoCj4gKwkJICogdGhlIGN0cyBzdGF0ZQo+ICsJCSAqLwo+
ICsJCWNwb3J0LT5jc19lcHQgPSBycGRldi0+ZXB0Owo+ICsJCWNwb3J0LT5kYXRhX2RzdCA9IFJQ
TVNHX0FERFJfQU5ZOwo+ICsKPiArCQlzdHJzY3B5KGNoaW5mby5uYW1lLCBUVFlfQ0hfTkFNRV9X
SVRIX0NUUywgc2l6ZW9mKGNoaW5mby5uYW1lKSk7Cj4gKwkJY2hpbmZvLnNyYyA9IFJQTVNHX0FE
RFJfQU5ZOwo+ICsJCWNoaW5mby5kc3QgPSBSUE1TR19BRERSX0FOWTsKPiArCj4gKwkJY3BvcnQt
PmRfZXB0ID0gcnBtc2dfY3JlYXRlX2VwdChycGRldiwgcnBtc2dfdHR5X2NiLCBjcG9ydCwKPiAr
CQkJCQkJY2hpbmZvKTsKPiArCQlpZiAoIWNwb3J0LT5kX2VwdCkgewo+ICsJCQlkZXZfZXJyKGRl
diwgImZhaWxlZCB0byBjcmVhdGUgdHR5IGNvbnRyb2wgY2hhbm5lbFxuIik7Cj4gKwkJCXJldCA9
IC1FTk9NRU07Cj4gKwkJCWdvdG8gZXJyX3JfY3BvcnQ7Cj4gKwkJfQo+ICsJCWRldl9kYmcoZGV2
LCAiJXM6IGNyZWF0aW5nIGRhdGEgZW5kcG9pbnQgd2l0aCBhZGRyZXNzICUjeFxuIiwKPiArCQkJ
X19mdW5jX18sIGNwb3J0LT5kX2VwdC0+YWRkcik7Cj4gKwl9IGVsc2Ugewo+ICsJCS8qCj4gKwkJ
ICogVFRZIG92ZXIgcnBtc2cgd2l0aG91dCBDVFMgbWFuYWdlbWVudCB0aGUgZGVmYXVsdCBlbmRw
b2ludAo+ICsJCSAqIGlzIHVzZSBmb3IgcmF3IGRhdGEgdHJhbnNtaXNzaW9uLgo+ICsJCSAqLwo+
ICsJCWNwb3J0LT5jc19lcHQgPSBOVUxMOwo+ICsJCWNwb3J0LT5jdHMgPSAxOwo+ICsJCWNwb3J0
LT5kX2VwdCA9IHJwZGV2LT5lcHQ7Cj4gKwkJY3BvcnQtPmRhdGFfZHN0ID0gcnBkZXYtPmRzdDsK
PiArCX0KPiArCj4gKwl0dHlfcG9ydF9pbml0KCZjcG9ydC0+cG9ydCk7Cj4gKwljcG9ydC0+cG9y
dC5vcHMgPSAmcnBtc2dfdHR5X3BvcnRfb3BzOwo+ICsKPiArCXR0eV9kZXYgPSB0dHlfcG9ydF9y
ZWdpc3Rlcl9kZXZpY2UoJmNwb3J0LT5wb3J0LCBycG1zZ190dHlfZHJpdmVyLAo+ICsJCQkJCSAg
IGNwb3J0LT5pZCwgZGV2KTsKPiArCWlmIChJU19FUlIodHR5X2RldikpIHsKPiArCQlkZXZfZXJy
KGRldiwgImZhaWxlZCB0byByZWdpc3RlciB0dHkgcG9ydFxuIik7Cj4gKwkJcmV0ID0gUFRSX0VS
Uih0dHlfZGV2KTsKPiArCQlnb3RvICBlcnJfZGVzdHJveTsKPiArCX0KPiArCj4gKwljcG9ydC0+
cnBkZXYgPSBycGRldjsKPiArCj4gKwlkZXZfc2V0X2RydmRhdGEoZGV2LCBjcG9ydCk7Cj4gKwo+
ICsJZGV2X2RiZyhkZXYsICJuZXcgY2hhbm5lbDogMHgleCAtPiAweCV4IDogdHR5UlBNU0clZFxu
IiwKPiArCQlycGRldi0+c3JjLCBycGRldi0+ZHN0LCBjcG9ydC0+aWQpOwo+ICsKPiArCXJldHVy
biAwOwo+ICsKPiArZXJyX2Rlc3Ryb3k6Cj4gKwl0dHlfcG9ydF9kZXN0cm95KCZjcG9ydC0+cG9y
dCk7Cj4gKwlpZiAoY3BvcnQtPmNzX2VwdCkKPiArCQlycG1zZ19kZXN0cm95X2VwdChjcG9ydC0+
ZF9lcHQpOwo+ICtlcnJfcl9jcG9ydDoKPiArCXJwbXNnX3R0eV9yZWxlYXNlX2Nwb3J0KGNwb3J0
KTsKPiArCj4gKwlyZXR1cm4gcmV0Owo+ICt9Cj4gKwo+ICtzdGF0aWMgdm9pZCBycG1zZ190dHlf
cmVtb3ZlKHN0cnVjdCBycG1zZ19kZXZpY2UgKnJwZGV2KQo+ICt7Cj4gKwlzdHJ1Y3QgcnBtc2df
dHR5X3BvcnQgKmNwb3J0ID0gZGV2X2dldF9kcnZkYXRhKCZycGRldi0+ZGV2KTsKPiArCj4gKwlk
ZXZfZGJnKCZycGRldi0+ZGV2LCAicmVtb3ZpbmcgcnBtc2cgdHR5IGRldmljZSAlZFxuIiwgY3Bv
cnQtPmlkKTsKPiArCj4gKwkvKiBVc2VyIGhhbmcgdXAgdG8gcmVsZWFzZSB0aGUgdHR5ICovCj4g
KwlpZiAodHR5X3BvcnRfaW5pdGlhbGl6ZWQoJmNwb3J0LT5wb3J0KSkKPiArCQl0dHlfcG9ydF90
dHlfaGFuZ3VwKCZjcG9ydC0+cG9ydCwgZmFsc2UpOwo+ICsKPiArCXR0eV91bnJlZ2lzdGVyX2Rl
dmljZShycG1zZ190dHlfZHJpdmVyLCBjcG9ydC0+aWQpOwo+ICsKPiArCXR0eV9wb3J0X2Rlc3Ry
b3koJmNwb3J0LT5wb3J0KTsKPiArCWlmIChjcG9ydC0+Y3NfZXB0KQo+ICsJCXJwbXNnX2Rlc3Ry
b3lfZXB0KGNwb3J0LT5kX2VwdCk7Cj4gKwlycG1zZ190dHlfcmVsZWFzZV9jcG9ydChjcG9ydCk7
Cj4gK30KPiArCj4gK3N0YXRpYyBzdHJ1Y3QgcnBtc2dfZGV2aWNlX2lkIHJwbXNnX2RyaXZlcl90
dHlfaWRfdGFibGVbXSA9IHsKPiArCXsgLm5hbWUJPSBUVFlfQ0hfTkFNRV9SQVcgfSwKPiArCXsg
Lm5hbWUJPSBUVFlfQ0hfTkFNRV9XSVRIX0NUU30sCj4gKwl7IH0sCj4gK307Cj4gK01PRFVMRV9E
RVZJQ0VfVEFCTEUocnBtc2csIHJwbXNnX2RyaXZlcl90dHlfaWRfdGFibGUpOwo+ICsKPiArc3Rh
dGljIHN0cnVjdCBycG1zZ19kcml2ZXIgcnBtc2dfdHR5X3JwbXNnX2RydiA9IHsKPiArCS5kcnYu
bmFtZQk9IEtCVUlMRF9NT0ROQU1FLAo+ICsJLmlkX3RhYmxlCT0gcnBtc2dfZHJpdmVyX3R0eV9p
ZF90YWJsZSwKPiArCS5wcm9iZQkJPSBycG1zZ190dHlfcHJvYmUsCj4gKwkuY2FsbGJhY2sJPSBy
cG1zZ190dHlfY2IsCj4gKwkucmVtb3ZlCQk9IHJwbXNnX3R0eV9yZW1vdmUsCj4gK307Cj4gKwo+
ICtzdGF0aWMgaW50IF9faW5pdCBycG1zZ190dHlfaW5pdCh2b2lkKQo+ICt7Cj4gKwlpbnQgZXJy
Owo+ICsKPiArCXJwbXNnX3R0eV9kcml2ZXIgPSB0dHlfYWxsb2NfZHJpdmVyKE1BWF9UVFlfUlBN
U0csIFRUWV9EUklWRVJfUkVBTF9SQVcgfAo+ICsJCQkJCSAgICBUVFlfRFJJVkVSX0RZTkFNSUNf
REVWKTsKPiArCWlmIChJU19FUlIocnBtc2dfdHR5X2RyaXZlcikpCj4gKwkJcmV0dXJuIFBUUl9F
UlIocnBtc2dfdHR5X2RyaXZlcik7Cj4gKwo+ICsJcnBtc2dfdHR5X2RyaXZlci0+ZHJpdmVyX25h
bWUgPSAicnBtc2dfdHR5IjsKPiArCXJwbXNnX3R0eV9kcml2ZXItPm5hbWUgPSAidHR5UlBNU0ci
Owo+ICsJcnBtc2dfdHR5X2RyaXZlci0+bWFqb3IgPSAwOwo+ICsJcnBtc2dfdHR5X2RyaXZlci0+
dHlwZSA9IFRUWV9EUklWRVJfVFlQRV9DT05TT0xFOwo+ICsKPiArCS8qIERpc2FibGUgdW51c2Vk
IG1vZGUgYnkgZGVmYXVsdCAqLwo+ICsJcnBtc2dfdHR5X2RyaXZlci0+aW5pdF90ZXJtaW9zID0g
dHR5X3N0ZF90ZXJtaW9zOwo+ICsJcnBtc2dfdHR5X2RyaXZlci0+aW5pdF90ZXJtaW9zLmNfbGZs
YWcgJj0gfihFQ0hPIHwgSUNBTk9OKTsKPiArCXJwbXNnX3R0eV9kcml2ZXItPmluaXRfdGVybWlv
cy5jX29mbGFnICY9IH4oT1BPU1QgfCBPTkxDUik7Cj4gKwo+ICsJdHR5X3NldF9vcGVyYXRpb25z
KHJwbXNnX3R0eV9kcml2ZXIsICZycG1zZ190dHlfb3BzKTsKPiArCj4gKwllcnIgPSB0dHlfcmVn
aXN0ZXJfZHJpdmVyKHJwbXNnX3R0eV9kcml2ZXIpOwo+ICsJaWYgKGVyciA8IDApIHsKPiArCQlw
cl9lcnIoIkNvdWxkbid0IGluc3RhbGwgcnBtc2cgdHR5IGRyaXZlcjogZXJyICVkXG4iLCBlcnIp
Owo+ICsJCWdvdG8gZXJyb3JfcHV0Owo+ICsJfQo+ICsKPiArCWVyciA9IHJlZ2lzdGVyX3JwbXNn
X2RyaXZlcigmcnBtc2dfdHR5X3JwbXNnX2Rydik7Cj4gKwlpZiAoZXJyIDwgMCkgewo+ICsJCXBy
X2VycigiQ291bGRuJ3QgcmVnaXN0ZXIgcnBtc2cgdHR5IGRyaXZlcjogZXJyICVkXG4iLCBlcnIp
Owo+ICsJCWdvdG8gZXJyb3JfdW5yZWdpc3RlcjsKPiArCX0KPiArCj4gKwlyZXR1cm4gMDsKPiAr
Cj4gK2Vycm9yX3VucmVnaXN0ZXI6Cj4gKwl0dHlfdW5yZWdpc3Rlcl9kcml2ZXIocnBtc2dfdHR5
X2RyaXZlcik7Cj4gKwo+ICtlcnJvcl9wdXQ6Cj4gKwlwdXRfdHR5X2RyaXZlcihycG1zZ190dHlf
ZHJpdmVyKTsKPiArCj4gKwlyZXR1cm4gZXJyOwo+ICt9Cj4gKwo+ICtzdGF0aWMgdm9pZCBfX2V4
aXQgcnBtc2dfdHR5X2V4aXQodm9pZCkKPiArewo+ICsJdW5yZWdpc3Rlcl9ycG1zZ19kcml2ZXIo
JnJwbXNnX3R0eV9ycG1zZ19kcnYpOwo+ICsJdHR5X3VucmVnaXN0ZXJfZHJpdmVyKHJwbXNnX3R0
eV9kcml2ZXIpOwo+ICsJcHV0X3R0eV9kcml2ZXIocnBtc2dfdHR5X2RyaXZlcik7Cj4gKwlpZHJf
ZGVzdHJveSgmdHR5X2lkcik7Cj4gK30KPiArCj4gK21vZHVsZV9pbml0KHJwbXNnX3R0eV9pbml0
KTsKPiArbW9kdWxlX2V4aXQocnBtc2dfdHR5X2V4aXQpOwo+ICsKPiArTU9EVUxFX0FVVEhPUigi
QXJuYXVkIFBvdWxpcXVlbiA8YXJuYXVkLnBvdWxpcXVlbkBzdC5jb20+Iik7Cj4gK01PRFVMRV9E
RVNDUklQVElPTigicmVtb3RlIHByb2Nlc3NvciBtZXNzYWdpbmcgdHR5IGRyaXZlciIpOwo+ICtN
T0RVTEVfTElDRU5TRSgiR1BMIHYyIik7Cj4gCgpCZXN0IHJlZ2FyZHMsClJpY2hhcmQKX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KTGludXgtc3RtMzIgbWFp
bGluZyBsaXN0CkxpbnV4LXN0bTMyQHN0LW1kLW1haWxtYW4uc3Rvcm1yZXBseS5jb20KaHR0cHM6
Ly9zdC1tZC1tYWlsbWFuLnN0b3JtcmVwbHkuY29tL21haWxtYW4vbGlzdGluZm8vbGludXgtc3Rt
MzIK
