Return-Path: <linux-stm32-bounces@st-md-mailman.stormreply.com>
X-Original-To: lists+linux-stm32@lfdr.de
Delivered-To: lists+linux-stm32@lfdr.de
Received: from stm-ict-prod-mailman-01.stormreply.prv (st-md-mailman.stormreply.com [52.209.6.89])
	by mail.lfdr.de (Postfix) with ESMTPS id C997AAC3697
	for <lists+linux-stm32@lfdr.de>; Sun, 25 May 2025 21:41:02 +0200 (CEST)
Received: from ip-172-31-3-47.eu-west-1.compute.internal (localhost [127.0.0.1])
	by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTP id 66594C78F71;
	Sun, 25 May 2025 19:41:02 +0000 (UTC)
Received: from mail-pj1-f43.google.com (mail-pj1-f43.google.com
 [209.85.216.43])
 (using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
 (No client certificate requested)
 by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTPS id 72968C78F6F
 for <linux-stm32@st-md-mailman.stormreply.com>;
 Sun, 25 May 2025 19:41:00 +0000 (UTC)
Received: by mail-pj1-f43.google.com with SMTP id
 98e67ed59e1d1-310ce23a660so990667a91.1
 for <linux-stm32@st-md-mailman.stormreply.com>;
 Sun, 25 May 2025 12:41:00 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20230601; t=1748202059; x=1748806859;
 darn=st-md-mailman.stormreply.com; 
 h=content-transfer-encoding:cc:to:subject:message-id:date:from
 :in-reply-to:references:mime-version:from:to:cc:subject:date
 :message-id:reply-to;
 bh=Br+0Wl0PbsODPUn4zgvPQLLKP3q/KrHky+/TbAbWixk=;
 b=iE71H6bJ9kjw+UnGQlMkhjSmFLugTotBxOcWAOKMEkvLhfqbLQMyjeIWHlBXPiOGZJ
 Y9WGKZ9bA4y430Hx2LYWBVR3BN0+53Z6lH8WATRE1oaKlvHlZPxSXF0VIOreOhmwNgzh
 lIlmGzFg+yshXJrxmv6AeUw+dYEr+8Vy/KBDi4lY5AxchA+5kbAyd6Z3JYQtV7jcm+Ff
 IZ5BhN2X4pGqPkvSv60EYETnU1rKSK6o9ybE0wVJ5B4E7tj0vINpSSrqNuimCbP5h7tZ
 PfinUOt9/gVRAV/bch3qeZup4Awjyw2FLN/NGXM34OUflW54dxGfE9f8vJ5fWgpxEcft
 X4Wg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20230601; t=1748202059; x=1748806859;
 h=content-transfer-encoding:cc:to:subject:message-id:date:from
 :in-reply-to:references:mime-version:x-gm-message-state:from:to:cc
 :subject:date:message-id:reply-to;
 bh=Br+0Wl0PbsODPUn4zgvPQLLKP3q/KrHky+/TbAbWixk=;
 b=gqB9q5BZ2rCI/NNuxNHlkAUsOKcR4K7qicbWNv1J8qcaXFEF2wdkRPFnaiEshVNBv5
 vyn52ZkZs1lOpxmW45MDGJabqgE88OUjIcpD1J3CHxcKPqd4baUqVfncdMNnJ1HHsZyB
 YQUXrePNEwrjYIUQnHtuVYtf8HGhzl7s38w0DSziF8tfd1bHhcbUPOr9cCOSDUyG5GCo
 CuaIaCnoUmip4+AmMiFE+CKpV/mFxSy8xtAsiOMAVGjSjixaby5SKvyapZganzabK682
 GrRd5nOOgYgLTJqznOasnj2ZMihYc8bTPtFvuuT3kSE+1qG1bTT7UVpllcKerNOrc/EO
 CBTw==
X-Forwarded-Encrypted: i=1;
 AJvYcCUC4SY7HTFIvQPq47TX3ZINn2ljnPPQhIzHvfaxq+J3DqUkcVegp6RjCMek+Sb5xbmoQSLXrHPnil2DLg==@st-md-mailman.stormreply.com
X-Gm-Message-State: AOJu0YxGjV1YapSfYa/t0bnZS2j/103DInWeHMTg+GPwMKl47YVNcOD1
 MoGC4ZEDETL/t5qFrzUSMTCzjccSRJ1axOeKxLzgZ5XxtdVHyUwE19cjBiH0T9k3NZGBs7jkw8r
 XOvE12Oqy0zCtmdsAE8fQh7FUisaEzYg=
X-Gm-Gg: ASbGnctHVEj4go1XLty6BW/VWZawKsmsicn4KjrhXC2S8dY+m++zz0XRtupPoeS7eGK
 bBJrYIz40dlnY++v5j8COtPPiCHWmj40/5OERxOwHfdNN7cEYo3U5SN0to+LCN+uz8GXNnwcEUj
 Kr743eQn3q36gRPbG4tnzkhAlBm01V0KeF
X-Google-Smtp-Source: AGHT+IFAfTw7Q87x10e7pHfNFCXN5AJjoFzo4QoiNWcxlBpqwQMj3/JLkljdETcdSPsiIvkprQGP+nytGgAVOf1nMJ4=
X-Received: by 2002:a17:90b:358c:b0:30a:4c29:4c9c with SMTP id
 98e67ed59e1d1-3110f0c9deemr7507465a91.6.1748202058538; Sun, 25 May 2025
 12:40:58 -0700 (PDT)
MIME-Version: 1.0
References: <20250509-drm-bridge-convert-to-alloc-api-v3-0-b8bc1f16d7aa@bootlin.com>
 <20250509-drm-bridge-convert-to-alloc-api-v3-2-b8bc1f16d7aa@bootlin.com>
In-Reply-To: <20250509-drm-bridge-convert-to-alloc-api-v3-2-b8bc1f16d7aa@bootlin.com>
From: Adam Ford <aford173@gmail.com>
Date: Sun, 25 May 2025 14:40:46 -0500
X-Gm-Features: AX0GCFvNYgh6KsIliiGfmZyKK-Yn5WxJr4VGF4fWAjf3coFdcwK7wZkxIL57fcg
Message-ID: <CAHCN7xLPxmaZcOESvaU2W1gX4o1z-1A_atq4jZdrpAH5Wmht+g@mail.gmail.com>
To: Luca Ceresoli <luca.ceresoli@bootlin.com>
Cc: imx@lists.linux.dev, Manikandan Muralidharan <manikandan.m@microchip.com>,
 Sasha Finkelstein <fnkl.kernel@gmail.com>,
 Thomas Petazzoni <thomas.petazzoni@bootlin.com>,
 Vitalii Mordan <mordan@ispras.ru>, Sui Jingfeng <sui.jingfeng@linux.dev>,
 Paul Kocialkowski <paulk@sys-base.io>, linux-kernel@vger.kernel.org,
 Biju Das <biju.das.jz@bp.renesas.com>,
 Laurent Pinchart <Laurent.pinchart@ideasonboard.com>,
 Andrzej Hajda <andrzej.hajda@intel.com>, Guenter Roeck <groeck@chromium.org>,
 Janne Grunau <j@jannau.net>, Fabio Estevam <festevam@gmail.com>,
 linux-stm32@st-md-mailman.stormreply.com, Heiko Stuebner <heiko@sntech.de>,
 Simona Vetter <simona@ffwll.ch>, chrome-platform@lists.linux.dev,
 Krzysztof Kozlowski <krzk@kernel.org>, Robert Foss <rfoss@kernel.org>,
 David Airlie <airlied@gmail.com>, Anusha Srivatsa <asrivats@redhat.com>,
 Detlev Casanova <detlev.casanova@collabora.com>,
 Jernej Skrabec <jernej.skrabec@gmail.com>,
 Sugar Zhang <sugar.zhang@rock-chips.com>, Liu Ying <victor.liu@nxp.com>,
 Dharma Balasubiramani <dharma.b@microchip.com>,
 Matthias Brugger <matthias.bgg@gmail.com>,
 Jagan Teki <jagan@amarulasolutions.com>, Phong LE <ple@baylibre.com>,
 Philipp Zabel <p.zabel@pengutronix.de>, Jerome Brunet <jbrunet@baylibre.com>,
 Martin Blumenstingl <martin.blumenstingl@googlemail.com>,
 Adrien Grassein <adrien.grassein@gmail.com>,
 Chun-Kuang Hu <chunkuang.hu@kernel.org>,
 Pengutronix Kernel Team <kernel@pengutronix.de>,
 Jonas Karlman <jonas@kwiboo.se>, Jani Nikula <jani.nikula@intel.com>,
 linux-arm-msm@vger.kernel.org, Sascha Hauer <s.hauer@pengutronix.de>,
 Maarten Lankhorst <maarten.lankhorst@linux.intel.com>,
 Maxime Ripard <mripard@kernel.org>, linux-samsung-soc@vger.kernel.org,
 linux-mediatek@lists.infradead.org, dri-devel@lists.freedesktop.org,
 Tomi Valkeinen <tomi.valkeinen+renesas@ideasonboard.com>,
 Hui Pu <Hui.Pu@gehealthcare.com>, linux-amlogic@lists.infradead.org,
 platform-driver-x86@vger.kernel.org, Benson Leung <bleung@chromium.org>,
 linux-arm-kernel@lists.infradead.org,
 AngeloGioacchino Del Regno <angelogioacchino.delregno@collabora.com>,
 Neil Armstrong <neil.armstrong@linaro.org>,
 Jesse Van Gavere <jesseevg@gmail.com>, Dmitry Baryshkov <lumag@kernel.org>,
 freedreno@lists.freedesktop.org, Douglas Anderson <dianders@chromium.org>,
 linux-renesas-soc@vger.kernel.org, Christoph Fritz <chf.fritz@googlemail.com>,
 Kieran Bingham <kieran.bingham+renesas@ideasonboard.com>,
 asahi@lists.linux.dev, Thomas Zimmermann <tzimmermann@suse.de>,
 Kevin Hilman <khilman@baylibre.com>,
 Cristian Ciocaltea <cristian.ciocaltea@collabora.com>,
 Andy Yan <andy.yan@rock-chips.com>, Shawn Guo <shawnguo@kernel.org>,
 Aleksandr Mishin <amishin@t-argos.ru>
Subject: Re: [Linux-stm32] [PATCH v3 02/22] drm: convert many bridge drivers
 from devm_kzalloc() to devm_drm_bridge_alloc() API
X-BeenThere: linux-stm32@st-md-mailman.stormreply.com
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: <linux-stm32.st-md-mailman.stormreply.com>
List-Unsubscribe: <https://st-md-mailman.stormreply.com/mailman/options/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=unsubscribe>
List-Archive: <http://st-md-mailman.stormreply.com/pipermail/linux-stm32/>
List-Post: <mailto:linux-stm32@st-md-mailman.stormreply.com>
List-Help: <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=help>
List-Subscribe: <https://st-md-mailman.stormreply.com/mailman/listinfo/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: linux-stm32-bounces@st-md-mailman.stormreply.com
Sender: "Linux-stm32" <linux-stm32-bounces@st-md-mailman.stormreply.com>

T24gRnJpLCBNYXkgOSwgMjAyNSBhdCA4OjU24oCvQU0gTHVjYSBDZXJlc29saSA8bHVjYS5jZXJl
c29saUBib290bGluLmNvbT4gd3JvdGU6Cj4KPiBkZXZtX2RybV9icmlkZ2VfYWxsb2MoKSBpcyB0
aGUgbmV3IEFQSSB0byBiZSB1c2VkIGZvciBhbGxvY2F0aW5nIChhbmQKPiBwYXJ0aWFsbHkgaW5p
dGlhbGl6aW5nKSBhIHByaXZhdGUgZHJpdmVyIHN0cnVjdCBlbWJlZGRpbmcgYSBzdHJ1Y3QKPiBk
cm1fYnJpZGdlLgo+Cj4gRm9yIG1hbnkgZHJpdmVycyBoYXZpbmcgYSBzaW1wbGUgY29kZSBmbG93
IGluIHRoZSBwcm9iZSBmdW5jdGlvbiwgdGhpcwo+IGNvbW1pdCBkb2VzIGEgbWFzcyBjb252ZXJz
aW9uIGF1dG9tYXRpY2FsbHkgd2l0aCB0aGUgZm9sbG93aW5nIHNlbWFudGljCj4gcGF0Y2guIFRo
ZSBjaGFuZ2VzIGhhdmUgYmVlbiByZXZpZXdlZCBtYW51YWxseSBmb3IgY29ycmVjdG5lc3MgYXMg
d2VsbCBhcwo+IHRvIGZpbmQgYW55IGZhbHNlIHBvc2l0aXZlcy4KPgo+IFRoZSBwYXRjaCBoYXMg
YmVlbiBhcHBsaWVkIHdpdGggdGhlIGV4cGxpY2l0IGV4Y2x1c2lvbiBvZiBicmlkZ2UvcGFuZWwu
YywKPiBoYW5kbGVkIGJ5IGEgc2VwYXJhdGUgcGF0Y2guCj4KPiBBZnRlciBhcHBseWluZyB0aGUg
c2VtYW50aWMgcGF0Y2gsIG1hbnVhbGx5IGZpeGVkIHRoZXNlIGlzc3VlczoKPgo+ICAtIDQgZHJp
dmVycyBuZWVkIEVSUl9DQVNUKCkgaW5zdGVhZCBvZiBQVFJfRVJSKCkgYXMgdGhlIGZ1bmN0aW9u
IGNhbGxpbmcKPiAgICBkZXZtX2RybV9icmlkZ2VfYWxsb2MoKSByZXR1cm5zIGEgcG9pbnRlcgo+
ICAtIHJlLWFkZGVkIGVtcHR5IGxpbmVzIGFuZCBjb21tZW50cyB0aGF0IHRoZSBzY3JpcHQgaGFk
IHJlbW92ZWQgYnV0IHRoYXQKPiAgICBzaG91bGQgc3RheQo+Cj4gICBAQAo+ICAgdHlwZSBUOwo+
ICAgaWRlbnRpZmllciBDOwo+ICAgaWRlbnRpZmllciBCUjsKPiAgIGV4cHJlc3Npb24gREVWOwo+
ICAgZXhwcmVzc2lvbiBGVU5DUzsKPiAgIEBACj4gICAtVCAqQzsKPiAgICtUICpDOwo+ICAgIC4u
Lgo+ICAgKAo+ICAgLUMgPSBkZXZtX2t6YWxsb2MoREVWLCAuLi4pOwo+ICAgLWlmICghQykKPiAg
IC0gICAgcmV0dXJuIC1FTk9NRU07Cj4gICArQyA9IGRldm1fZHJtX2JyaWRnZV9hbGxvYyhERVYs
IFQsIEJSLCBGVU5DUyk7Cj4gICAraWYgKElTX0VSUihDKSkKPiAgICsgICAgIHJldHVybiBQVFJf
RVJSKEMpOwo+ICAgfAo+ICAgLUMgPSBkZXZtX2t6YWxsb2MoREVWLCAuLi4pOwo+ICAgLWlmICgh
QykKPiAgIC0gICAgcmV0dXJuIEVSUl9QVFIoLUVOT01FTSk7Cj4gICArQyA9IGRldm1fZHJtX2Jy
aWRnZV9hbGxvYyhERVYsIFQsIEJSLCBGVU5DUyk7Cj4gICAraWYgKElTX0VSUihDKSkKPiAgICsg
ICAgIHJldHVybiBQVFJfRVJSKEMpOwo+ICAgKQo+ICAgIC4uLgo+ICAgLUMtPkJSLmZ1bmNzID0g
RlVOQ1M7Cj4KPiBSZXZpZXdlZC1ieTogTWFuaWthbmRhbiBNdXJhbGlkaGFyYW4gPG1hbmlrYW5k
YW4ubUBtaWNyb2NoaXAuY29tPiAjIG1pY3JvY2hpcC1sdmRzLmMKPiBSZXZpZXdlZC1ieTogRG91
Z2xhcyBBbmRlcnNvbiA8ZGlhbmRlcnNAY2hyb21pdW0ub3JnPiAjIHBhcmFkZS1wczg2NDAKPiBU
ZXN0ZWQtYnk6IERvdWdsYXMgQW5kZXJzb24gPGRpYW5kZXJzQGNocm9taXVtLm9yZz4gIyBwYXJh
ZGUtcHM4NjQwCj4gU2lnbmVkLW9mZi1ieTogTHVjYSBDZXJlc29saSA8bHVjYS5jZXJlc29saUBi
b290bGluLmNvbT4KPiAtLS0KPgo+IENjOiBBZGFtIEZvcmQgPGFmb3JkMTczQGdtYWlsLmNvbT4K
PiBDYzogQWRyaWVuIEdyYXNzZWluIDxhZHJpZW4uZ3Jhc3NlaW5AZ21haWwuY29tPgo+IENjOiBB
bGVrc2FuZHIgTWlzaGluIDxhbWlzaGluQHQtYXJnb3MucnU+Cj4gQ2M6IEFuZHkgWWFuIDxhbmR5
LnlhbkByb2NrLWNoaXBzLmNvbT4KPiBDYzogQW5nZWxvR2lvYWNjaGlubyBEZWwgUmVnbm8gPGFu
Z2Vsb2dpb2FjY2hpbm8uZGVscmVnbm9AY29sbGFib3JhLmNvbT4KPiBDYzogQmVuc29uIExldW5n
IDxibGV1bmdAY2hyb21pdW0ub3JnPgo+IENjOiBCaWp1IERhcyA8YmlqdS5kYXMuanpAYnAucmVu
ZXNhcy5jb20+Cj4gQ2M6IENocmlzdG9waCBGcml0eiA8Y2hmLmZyaXR6QGdvb2dsZW1haWwuY29t
Pgo+IENjOiBDcmlzdGlhbiBDaW9jYWx0ZWEgPGNyaXN0aWFuLmNpb2NhbHRlYUBjb2xsYWJvcmEu
Y29tPgo+IENjOiBEZXRsZXYgQ2FzYW5vdmEgPGRldGxldi5jYXNhbm92YUBjb2xsYWJvcmEuY29t
Pgo+IENjOiBEaGFybWEgQmFsYXN1YmlyYW1hbmkgPGRoYXJtYS5iQG1pY3JvY2hpcC5jb20+Cj4g
Q2M6IEd1ZW50ZXIgUm9lY2sgPGdyb2Vja0BjaHJvbWl1bS5vcmc+Cj4gQ2M6IEhlaWtvIFN0dWVi
bmVyIDxoZWlrb0BzbnRlY2guZGU+Cj4gQ2M6IEphbmkgTmlrdWxhIDxqYW5pLm5pa3VsYUBpbnRl
bC5jb20+Cj4gQ2M6IEphbm5lIEdydW5hdSA8akBqYW5uYXUubmV0Pgo+IENjOiBKZXJvbWUgQnJ1
bmV0IDxqYnJ1bmV0QGJheWxpYnJlLmNvbT4KPiBDYzogSmVzc2UgVmFuIEdhdmVyZSA8amVzc2Vl
dmdAZ21haWwuY29tPgo+IENjOiBLZXZpbiBIaWxtYW4gPGtoaWxtYW5AYmF5bGlicmUuY29tPgo+
IENjOiBLaWVyYW4gQmluZ2hhbSA8a2llcmFuLmJpbmdoYW0rcmVuZXNhc0BpZGVhc29uYm9hcmQu
Y29tPgo+IENjOiBMaXUgWWluZyA8dmljdG9yLmxpdUBueHAuY29tPgo+IENjOiBNYW5pa2FuZGFu
IE11cmFsaWRoYXJhbiA8bWFuaWthbmRhbi5tQG1pY3JvY2hpcC5jb20+Cj4gQ2M6IE1hcnRpbiBC
bHVtZW5zdGluZ2wgPG1hcnRpbi5ibHVtZW5zdGluZ2xAZ29vZ2xlbWFpbC5jb20+Cj4gQ2M6IE1h
dHRoaWFzIEJydWdnZXIgPG1hdHRoaWFzLmJnZ0BnbWFpbC5jb20+Cj4gQ2M6IFBoaWxpcHAgWmFi
ZWwgPHAuemFiZWxAcGVuZ3V0cm9uaXguZGU+Cj4gQ2M6IFBob25nIExFIDxwbGVAYmF5bGlicmUu
Y29tPgo+IENjOiBTYXNoYSBGaW5rZWxzdGVpbiA8Zm5rbC5rZXJuZWxAZ21haWwuY29tPgo+IENj
OiBTdWdhciBaaGFuZyA8c3VnYXIuemhhbmdAcm9jay1jaGlwcy5jb20+Cj4gQ2M6IFN1aSBKaW5n
ZmVuZyA8c3VpLmppbmdmZW5nQGxpbnV4LmRldj4KPiBDYzogVG9taSBWYWxrZWluZW4gPHRvbWku
dmFsa2VpbmVuK3JlbmVzYXNAaWRlYXNvbmJvYXJkLmNvbT4KPiBDYzogVml0YWxpaSBNb3JkYW4g
PG1vcmRhbkBpc3ByYXMucnU+Cj4KPiBDaGFuZ2VkIGluIHYzOgo+IC0gbWFudWFsbHkgcmVwbGFj
ZWQgUFRSX0VSUigpIHdpdGggRVJSX0NBU1QoKSBpbiB0aGUgNCBjYXNlcyB3aGVyZSB0aGUKPiAg
IHJldHVybiB2YWx1ZSBpcyBub3QgaW50Cj4gLSBtYW51YWxseSBhZGRlZCBlbXB0eSBsaW5lcyBh
bmQgY29tbWVudHMgdGhhdCB0aGUgc3BhdGNoIGhhZCByZW1vdmVkCj4gICBpbmFwcHJvcHJpYXRl
bHkKPiAtIGltcHJvdmVkIGNvbW1pdCBtZXNzYWdlCj4KPiBDaGFuZ2VkIGluIHYyOgo+IC0gYWRk
ZWQgbWlzc2luZyBQVFJfRVJSKCkgaW4gdGhlIHNlY29uZCBzcGF0Y2ggYWx0ZXJuYXRpdmUKPiAt
LS0KPiAgZHJpdmVycy9ncHUvZHJtL2FkcC9hZHAtbWlwaS5jICAgICAgICAgICAgICAgICAgICAg
IHwgIDggKysrKy0tLS0KPiAgZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hZHY3NTExL2Fkdjc1MTFf
ZHJ2LmMgICAgICAgIHwgIDggKysrKy0tLS0KPiAgZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFs
b2dpeC9hbmFsb2dpeC1hbng3OHh4LmMgIHwgIDkgKysrKy0tLS0tCj4gIGRyaXZlcnMvZ3B1L2Ry
bS9icmlkZ2UvYXV4LWJyaWRnZS5jICAgICAgICAgICAgICAgICB8ICA4ICsrKystLS0tCj4gIGRy
aXZlcnMvZ3B1L2RybS9icmlkZ2UvYXV4LWhwZC1icmlkZ2UuYyAgICAgICAgICAgICB8ICA5ICsr
KysrLS0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2NhZGVuY2UvY2Rucy1taGRwODU0Ni1j
b3JlLmMgfCAgOCArKysrLS0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2NoaXBvbmUtaWNu
NjIxMS5jICAgICAgICAgICAgfCAgOCArKysrLS0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vYnJpZGdl
L2Nocm9udGVsLWNoNzAzMy5jICAgICAgICAgICAgfCAgOCArKysrLS0tLQo+ICBkcml2ZXJzL2dw
dS9kcm0vYnJpZGdlL2Nyb3MtZWMtYW54NzY4OC5jICAgICAgICAgICAgfCAgOCArKysrLS0tLQo+
ICBkcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2ZzbC1sZGIuYyAgICAgICAgICAgICAgICAgICAgfCAg
NyArKystLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvaW14L2lteC1sZWdhY3ktYnJpZGdl
LmMgICAgICB8ICA4ICsrKystLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvaW14L2lteDht
cC1oZG1pLXB2aS5jICAgICAgICB8ICA4ICsrKystLS0tCgpGb3I6IGlteDhtcC1oZG1pLXB2aS5j
IGFuZCBhZHY3NTExX2Rydi5jCgpUZXN0ZWQtYnk6IEFkYW0gRm9yZCA8YWZvcmQxNzNAZ21haWwu
Y29tPiAjaW14OG1wLWJlYWNvbi1raXQKCj4gIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvaW14L2lt
eDhxeHAtcGl4ZWwtbGluay5jICAgICB8ICA4ICsrKystLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9i
cmlkZ2UvaW14L2lteDhxeHAtcHhsMmRwaS5jICAgICAgICB8ICA4ICsrKystLS0tCj4gIGRyaXZl
cnMvZ3B1L2RybS9icmlkZ2UvaXRlLWl0NjI2My5jICAgICAgICAgICAgICAgICB8ICA4ICsrKyst
LS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvaXRlLWl0NjUwNS5jICAgICAgICAgICAgICAg
ICB8ICA4ICsrKystLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvaXRlLWl0NjYxMjEuYyAg
ICAgICAgICAgICAgICB8ICA4ICsrKystLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvbG9u
dGl1bS1sdDg5MTJiLmMgICAgICAgICAgICB8ICA4ICsrKystLS0tCj4gIGRyaXZlcnMvZ3B1L2Ry
bS9icmlkZ2UvbG9udGl1bS1sdDkyMTEuYyAgICAgICAgICAgICB8ICA3ICsrKy0tLS0KPiAgZHJp
dmVycy9ncHUvZHJtL2JyaWRnZS9sb250aXVtLWx0OTYxMS5jICAgICAgICAgICAgIHwgIDggKysr
Ky0tLS0KPiAgZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9sdmRzLWNvZGVjLmMgICAgICAgICAgICAg
ICAgIHwgIDkgKysrKy0tLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvbWljcm9jaGlwLWx2
ZHMuYyAgICAgICAgICAgICB8ICA4ICsrKystLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2Uv
bndsLWRzaS5jICAgICAgICAgICAgICAgICAgICB8ICA4ICsrKystLS0tCj4gIGRyaXZlcnMvZ3B1
L2RybS9icmlkZ2UvcGFyYWRlLXBzODYyMi5jICAgICAgICAgICAgICB8ICA4ICsrKystLS0tCj4g
IGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvcGFyYWRlLXBzODY0MC5jICAgICAgICAgICAgICB8ICA4
ICsrKystLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2Uvc2lpOTIzNC5jICAgICAgICAgICAg
ICAgICAgICB8ICA4ICsrKystLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2Uvc2lsLXNpaTg2
MjAuYyAgICAgICAgICAgICAgICB8ICA4ICsrKystLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9icmlk
Z2Uvc2ltcGxlLWJyaWRnZS5jICAgICAgICAgICAgICB8ICA4ICsrKystLS0tCj4gIGRyaXZlcnMv
Z3B1L2RybS9icmlkZ2Uvc3lub3BzeXMvZHctaGRtaS1xcC5jICAgICAgICB8ICA4ICsrKystLS0t
Cj4gIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2Uvc3lub3BzeXMvZHctbWlwaS1kc2kuYyAgICAgICB8
ICA4ICsrKystLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2Uvc3lub3BzeXMvZHctbWlwaS1k
c2kyLmMgICAgICB8ICA4ICsrKystLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvdGMzNTg3
NjIuYyAgICAgICAgICAgICAgICAgICB8ICA4ICsrKystLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9i
cmlkZ2UvdGMzNTg3NjQuYyAgICAgICAgICAgICAgICAgICB8ICA4ICsrKystLS0tCj4gIGRyaXZl
cnMvZ3B1L2RybS9icmlkZ2UvdGMzNTg3NjguYyAgICAgICAgICAgICAgICAgICB8ICA4ICsrKyst
LS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvdGMzNTg3NzUuYyAgICAgICAgICAgICAgICAg
ICB8ICA4ICsrKystLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvdGhjNjNsdmQxMDI0LmMg
ICAgICAgICAgICAgICB8ICA4ICsrKystLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvdGkt
ZGxwYzM0MzMuYyAgICAgICAgICAgICAgICB8ICA4ICsrKystLS0tCj4gIGRyaXZlcnMvZ3B1L2Ry
bS9icmlkZ2UvdGktdGRwMTU4LmMgICAgICAgICAgICAgICAgICB8ICA4ICsrKystLS0tCj4gIGRy
aXZlcnMvZ3B1L2RybS9icmlkZ2UvdGktdGZwNDEwLmMgICAgICAgICAgICAgICAgICB8ICA4ICsr
KystLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvdGktdHBkMTJzMDE1LmMgICAgICAgICAg
ICAgICB8ICA4ICsrKystLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfZHAuYyAg
ICAgICAgICAgICAgICAgICB8ICA4ICsrKystLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9tZWRpYXRl
ay9tdGtfZHBpLmMgICAgICAgICAgICAgICAgICB8ICA4ICsrKystLS0tCj4gIGRyaXZlcnMvZ3B1
L2RybS9tZWRpYXRlay9tdGtfZHNpLmMgICAgICAgICAgICAgICAgICB8ICA4ICsrKystLS0tCj4g
IGRyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfaGRtaS5jICAgICAgICAgICAgICAgICB8ICA4
ICsrKystLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9tZXNvbi9tZXNvbl9lbmNvZGVyX2N2YnMuYyAg
ICAgICAgICB8IDEwICsrKysrKy0tLS0KPiAgZHJpdmVycy9ncHUvZHJtL21lc29uL21lc29uX2Vu
Y29kZXJfZHNpLmMgICAgICAgICAgIHwgMTAgKysrKysrLS0tLQo+ICBkcml2ZXJzL2dwdS9kcm0v
bWVzb24vbWVzb25fZW5jb2Rlcl9oZG1pLmMgICAgICAgICAgfCAxMCArKysrKystLS0tCj4gIGRy
aXZlcnMvZ3B1L2RybS9yZW5lc2FzL3JjYXItZHUvcmNhcl9sdmRzLmMgICAgICAgICB8ICA4ICsr
KystLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9yZW5lc2FzL3J6LWR1L3J6ZzJsX21pcGlfZHNpLmMg
ICAgICB8ICA4ICsrKystLS0tCj4gIDQ5IGZpbGVzIGNoYW5nZWQsIDIwMSBpbnNlcnRpb25zKCsp
LCAxOTggZGVsZXRpb25zKC0pCj4KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FkcC9h
ZHAtbWlwaS5jIGIvZHJpdmVycy9ncHUvZHJtL2FkcC9hZHAtbWlwaS5jCj4gaW5kZXggMmI2MDEy
OGUyYzY5M2U5Zjg1YWZmZmY1NjljYzU3Y2RiNmY0NzkwOS4uY2JhN2QzMjE1MGE5OGQ3OGQwN2Ey
NWIxODIyZGVjNmJmMmYwOGY2NSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYWRwL2Fk
cC1taXBpLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYWRwL2FkcC1taXBpLmMKPiBAQCAtMjI5
LDkgKzIyOSwxMCBAQCBzdGF0aWMgaW50IGFkcF9taXBpX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9k
ZXZpY2UgKnBkZXYpCj4gIHsKPiAgICAgICAgIHN0cnVjdCBhZHBfbWlwaV9kcnZfcHJpdmF0ZSAq
YWRwOwo+Cj4gLSAgICAgICBhZHAgPSBkZXZtX2t6YWxsb2MoJnBkZXYtPmRldiwgc2l6ZW9mKCph
ZHApLCBHRlBfS0VSTkVMKTsKPiAtICAgICAgIGlmICghYWRwKQo+IC0gICAgICAgICAgICAgICBy
ZXR1cm4gLUVOT01FTTsKPiArICAgICAgIGFkcCA9IGRldm1fZHJtX2JyaWRnZV9hbGxvYygmcGRl
di0+ZGV2LCBzdHJ1Y3QgYWRwX21pcGlfZHJ2X3ByaXZhdGUsCj4gKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgYnJpZGdlLCAmYWRwX2RzaV9icmlkZ2VfZnVuY3MpOwo+ICsgICAg
ICAgaWYgKElTX0VSUihhZHApKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gUFRSX0VSUihhZHAp
Owo+Cj4gICAgICAgICBhZHAtPm1pcGkgPSBkZXZtX3BsYXRmb3JtX2lvcmVtYXBfcmVzb3VyY2Uo
cGRldiwgMCk7Cj4gICAgICAgICBpZiAoSVNfRVJSKGFkcC0+bWlwaSkpIHsKPiBAQCAtMjQxLDcg
KzI0Miw2IEBAIHN0YXRpYyBpbnQgYWRwX21pcGlfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2Rldmlj
ZSAqcGRldikKPgo+ICAgICAgICAgYWRwLT5kc2kuZGV2ID0gJnBkZXYtPmRldjsKPiAgICAgICAg
IGFkcC0+ZHNpLm9wcyA9ICZhZHBfZHNpX2hvc3Rfb3BzOwo+IC0gICAgICAgYWRwLT5icmlkZ2Uu
ZnVuY3MgPSAmYWRwX2RzaV9icmlkZ2VfZnVuY3M7Cj4gICAgICAgICBhZHAtPmJyaWRnZS5vZl9u
b2RlID0gcGRldi0+ZGV2Lm9mX25vZGU7Cj4gICAgICAgICBhZHAtPmJyaWRnZS50eXBlID0gRFJN
X01PREVfQ09OTkVDVE9SX0RTSTsKPiAgICAgICAgIGRldl9zZXRfZHJ2ZGF0YSgmcGRldi0+ZGV2
LCBhZHApOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2Fkdjc1MTEvYWR2
NzUxMV9kcnYuYyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYWR2NzUxMS9hZHY3NTExX2Rydi5j
Cj4gaW5kZXggMTI1NzAwOWU4NTBjMWIyMDE4NGNmYWVhNWI2YTQ0NDBlNzVlMTBkNy4uOGQ3YjAw
N2VhMjAzZDBkOGJlOGY1YjE0NWY4NTMxZTIzMjk0ZGFjYyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJz
L2dwdS9kcm0vYnJpZGdlL2Fkdjc1MTEvYWR2NzUxMV9kcnYuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1
L2RybS9icmlkZ2UvYWR2NzUxMS9hZHY3NTExX2Rydi5jCj4gQEAgLTEyMjQsOSArMTIyNCwxMCBA
QCBzdGF0aWMgaW50IGFkdjc1MTFfcHJvYmUoc3RydWN0IGkyY19jbGllbnQgKmkyYykKPiAgICAg
ICAgIGlmICghZGV2LT5vZl9ub2RlKQo+ICAgICAgICAgICAgICAgICByZXR1cm4gLUVJTlZBTDsK
Pgo+IC0gICAgICAgYWR2NzUxMSA9IGRldm1fa3phbGxvYyhkZXYsIHNpemVvZigqYWR2NzUxMSks
IEdGUF9LRVJORUwpOwo+IC0gICAgICAgaWYgKCFhZHY3NTExKQo+IC0gICAgICAgICAgICAgICBy
ZXR1cm4gLUVOT01FTTsKPiArICAgICAgIGFkdjc1MTEgPSBkZXZtX2RybV9icmlkZ2VfYWxsb2Mo
ZGV2LCBzdHJ1Y3QgYWR2NzUxMSwgYnJpZGdlLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAmYWR2NzUxMV9icmlkZ2VfZnVuY3MpOwo+ICsgICAgICAgaWYgKElTX0VS
UihhZHY3NTExKSkKPiArICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9FUlIoYWR2NzUxMSk7Cj4K
PiAgICAgICAgIGFkdjc1MTEtPmkyY19tYWluID0gaTJjOwo+ICAgICAgICAgYWR2NzUxMS0+cG93
ZXJlZCA9IGZhbHNlOwo+IEBAIC0xMzI3LDcgKzEzMjgsNiBAQCBzdGF0aWMgaW50IGFkdjc1MTFf
cHJvYmUoc3RydWN0IGkyY19jbGllbnQgKmkyYykKPiAgICAgICAgIGlmIChyZXQpCj4gICAgICAg
ICAgICAgICAgIGdvdG8gZXJyX3VucmVnaXN0ZXJfY2VjOwo+Cj4gLSAgICAgICBhZHY3NTExLT5i
cmlkZ2UuZnVuY3MgPSAmYWR2NzUxMV9icmlkZ2VfZnVuY3M7Cj4gICAgICAgICBhZHY3NTExLT5i
cmlkZ2Uub3BzID0gRFJNX0JSSURHRV9PUF9ERVRFQ1QgfCBEUk1fQlJJREdFX09QX0VESUQ7Cj4g
ICAgICAgICBpZiAoYWR2NzUxMS0+aTJjX21haW4tPmlycSkKPiAgICAgICAgICAgICAgICAgYWR2
NzUxMS0+YnJpZGdlLm9wcyB8PSBEUk1fQlJJREdFX09QX0hQRDsKPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9hbmFsb2dpeC1hbng3OHh4LmMgYi9kcml2ZXJz
L2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L2FuYWxvZ2l4LWFueDc4eHguYwo+IGluZGV4IGE4MzAy
MGQ2NTc2Zjc4MzcyMDU2MDY5OTQ3NzgzYTYyNmFjZjY0YjEuLmJhMGZjMTQ5YTllNzIyYTUzZGE2
MDI3YTg1MWJmNjIyNjJiYTY0YjIgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2JyaWRn
ZS9hbmFsb2dpeC9hbmFsb2dpeC1hbng3OHh4LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYnJp
ZGdlL2FuYWxvZ2l4L2FuYWxvZ2l4LWFueDc4eHguYwo+IEBAIC0xMTkzLDkgKzExOTMsMTAgQEAg
c3RhdGljIGludCBhbng3OHh4X2kyY19wcm9iZShzdHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50KQo+
ICAgICAgICAgYm9vbCBmb3VuZCA9IGZhbHNlOwo+ICAgICAgICAgaW50IGVycjsKPgo+IC0gICAg
ICAgYW54Nzh4eCA9IGRldm1fa3phbGxvYygmY2xpZW50LT5kZXYsIHNpemVvZigqYW54Nzh4eCks
IEdGUF9LRVJORUwpOwo+IC0gICAgICAgaWYgKCFhbng3OHh4KQo+IC0gICAgICAgICAgICAgICBy
ZXR1cm4gLUVOT01FTTsKPiArICAgICAgIGFueDc4eHggPSBkZXZtX2RybV9icmlkZ2VfYWxsb2Mo
JmNsaWVudC0+ZGV2LCBzdHJ1Y3QgYW54Nzh4eCwgYnJpZGdlLAo+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAmYW54Nzh4eF9icmlkZ2VfZnVuY3MpOwo+ICsgICAgICAg
aWYgKElTX0VSUihhbng3OHh4KSkKPiArICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9FUlIoYW54
Nzh4eCk7Cj4KPiAgICAgICAgIHBkYXRhID0gJmFueDc4eHgtPnBkYXRhOwo+Cj4gQEAgLTEzMDYs
OCArMTMwNyw2IEBAIHN0YXRpYyBpbnQgYW54Nzh4eF9pMmNfcHJvYmUoc3RydWN0IGkyY19jbGll
bnQgKmNsaWVudCkKPiAgICAgICAgICAgICAgICAgZ290byBlcnJfcG93ZXJvZmY7Cj4gICAgICAg
ICB9Cj4KPiAtICAgICAgIGFueDc4eHgtPmJyaWRnZS5mdW5jcyA9ICZhbng3OHh4X2JyaWRnZV9m
dW5jczsKPiAtCj4gICAgICAgICBkcm1fYnJpZGdlX2FkZCgmYW54Nzh4eC0+YnJpZGdlKTsKPgo+
ICAgICAgICAgLyogSWYgY2FibGUgaXMgcHVsbGVkIG91dCwganVzdCBwb3dlcm9mZiBhbmQgd2Fp
dCBmb3IgSFBEIGV2ZW50ICovCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2Uv
YXV4LWJyaWRnZS5jIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hdXgtYnJpZGdlLmMKPiBpbmRl
eCBjMTc5Yjg2ZDIwOGY3MGQ5NWI0MWU2ZjIxNTdiNzhmOTdiYWM0ZDhkLi41YjIxOWUzYjg3YjFk
ZjlmYzRhYWYyYzhhNmU3OGJhYzhmODk0NjI4IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9icmlkZ2UvYXV4LWJyaWRnZS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hdXgt
YnJpZGdlLmMKPiBAQCAtMTA5LDkgKzEwOSwxMCBAQCBzdGF0aWMgaW50IGRybV9hdXhfYnJpZGdl
X3Byb2JlKHN0cnVjdCBhdXhpbGlhcnlfZGV2aWNlICphdXhkZXYsCj4gIHsKPiAgICAgICAgIHN0
cnVjdCBkcm1fYXV4X2JyaWRnZV9kYXRhICpkYXRhOwo+Cj4gLSAgICAgICBkYXRhID0gZGV2bV9r
emFsbG9jKCZhdXhkZXYtPmRldiwgc2l6ZW9mKCpkYXRhKSwgR0ZQX0tFUk5FTCk7Cj4gLSAgICAg
ICBpZiAoIWRhdGEpCj4gLSAgICAgICAgICAgICAgIHJldHVybiAtRU5PTUVNOwo+ICsgICAgICAg
ZGF0YSA9IGRldm1fZHJtX2JyaWRnZV9hbGxvYygmYXV4ZGV2LT5kZXYsIHN0cnVjdCBkcm1fYXV4
X2JyaWRnZV9kYXRhLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmlk
Z2UsICZkcm1fYXV4X2JyaWRnZV9mdW5jcyk7Cj4gKyAgICAgICBpZiAoSVNfRVJSKGRhdGEpKQo+
ICsgICAgICAgICAgICAgICByZXR1cm4gUFRSX0VSUihkYXRhKTsKPgo+ICAgICAgICAgZGF0YS0+
ZGV2ID0gJmF1eGRldi0+ZGV2Owo+ICAgICAgICAgZGF0YS0+bmV4dF9icmlkZ2UgPSBkZXZtX2Ry
bV9vZl9nZXRfYnJpZGdlKCZhdXhkZXYtPmRldiwgYXV4ZGV2LT5kZXYub2Zfbm9kZSwgMCwgMCk7
Cj4gQEAgLTExOSw3ICsxMjAsNiBAQCBzdGF0aWMgaW50IGRybV9hdXhfYnJpZGdlX3Byb2JlKHN0
cnVjdCBhdXhpbGlhcnlfZGV2aWNlICphdXhkZXYsCj4gICAgICAgICAgICAgICAgIHJldHVybiBk
ZXZfZXJyX3Byb2JlKCZhdXhkZXYtPmRldiwgUFRSX0VSUihkYXRhLT5uZXh0X2JyaWRnZSksCj4g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJmYWlsZWQgdG8gYWNxdWlyZSBk
cm1fYnJpZGdlXG4iKTsKPgo+IC0gICAgICAgZGF0YS0+YnJpZGdlLmZ1bmNzID0gJmRybV9hdXhf
YnJpZGdlX2Z1bmNzOwo+ICAgICAgICAgZGF0YS0+YnJpZGdlLm9mX25vZGUgPSBkYXRhLT5kZXYt
Pm9mX25vZGU7Cj4KPiAgICAgICAgIC8qIHBhc3N0aHJvdWdoIGRhdGEsIGFsbG93IGV2ZXJ5dGhp
bmcgKi8KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hdXgtaHBkLWJyaWRn
ZS5jIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hdXgtaHBkLWJyaWRnZS5jCj4gaW5kZXggYjNm
NTg4YjcxYTdkN2FkNWMyZWU3YjA3YzM5MDc5YmM1YmEzNGNlZS4uM2ViNDExZjg3NGU0MWIzMjJm
NzMyNjQ5YmQyMDc0YzVkODQyMjU2NiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJp
ZGdlL2F1eC1ocGQtYnJpZGdlLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2F1eC1o
cGQtYnJpZGdlLmMKPiBAQCAtMTcxLDEyICsxNzEsMTMgQEAgc3RhdGljIGludCBkcm1fYXV4X2hw
ZF9icmlkZ2VfcHJvYmUoc3RydWN0IGF1eGlsaWFyeV9kZXZpY2UgKmF1eGRldiwKPiAgewo+ICAg
ICAgICAgc3RydWN0IGRybV9hdXhfaHBkX2JyaWRnZV9kYXRhICpkYXRhOwo+Cj4gLSAgICAgICBk
YXRhID0gZGV2bV9remFsbG9jKCZhdXhkZXYtPmRldiwgc2l6ZW9mKCpkYXRhKSwgR0ZQX0tFUk5F
TCk7Cj4gLSAgICAgICBpZiAoIWRhdGEpCj4gLSAgICAgICAgICAgICAgIHJldHVybiAtRU5PTUVN
Owo+ICsgICAgICAgZGF0YSA9IGRldm1fZHJtX2JyaWRnZV9hbGxvYygmYXV4ZGV2LT5kZXYsCj4g
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkcm1fYXV4X2hwZF9i
cmlkZ2VfZGF0YSwgYnJpZGdlLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAmZHJtX2F1eF9ocGRfYnJpZGdlX2Z1bmNzKTsKPiArICAgICAgIGlmIChJU19FUlIoZGF0YSkp
Cj4gKyAgICAgICAgICAgICAgIHJldHVybiBQVFJfRVJSKGRhdGEpOwo+Cj4gICAgICAgICBkYXRh
LT5kZXYgPSAmYXV4ZGV2LT5kZXY7Cj4gLSAgICAgICBkYXRhLT5icmlkZ2UuZnVuY3MgPSAmZHJt
X2F1eF9ocGRfYnJpZGdlX2Z1bmNzOwo+ICAgICAgICAgZGF0YS0+YnJpZGdlLm9mX25vZGUgPSBk
ZXZfZ2V0X3BsYXRkYXRhKGRhdGEtPmRldik7Cj4gICAgICAgICBkYXRhLT5icmlkZ2Uub3BzID0g
RFJNX0JSSURHRV9PUF9IUEQ7Cj4gICAgICAgICBkYXRhLT5icmlkZ2UudHlwZSA9IGlkLT5kcml2
ZXJfZGF0YTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9jYWRlbmNlL2Nk
bnMtbWhkcDg1NDYtY29yZS5jIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9jYWRlbmNlL2NkbnMt
bWhkcDg1NDYtY29yZS5jCj4gaW5kZXggYjQzMWU3ZWZkMWYwZDc0OTMyMGVhMTViNmYxZjVjYTEz
ZmM3MjgwMC4uY2I1ZjVhOGM1MzlhNDcxMjkwZGY4NDM1ZDRjMmUzZWQ2OTZiMzhkNCAxMDA2NDQK
PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2NhZGVuY2UvY2Rucy1taGRwODU0Ni1jb3Jl
LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2NhZGVuY2UvY2Rucy1taGRwODU0Ni1j
b3JlLmMKPiBAQCAtMjM4OSw5ICsyMzg5LDEwIEBAIHN0YXRpYyBpbnQgY2Ruc19taGRwX3Byb2Jl
KHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCj4gICAgICAgICBpbnQgcmV0Owo+ICAgICAg
ICAgaW50IGlycTsKPgo+IC0gICAgICAgbWhkcCA9IGRldm1fa3phbGxvYyhkZXYsIHNpemVvZigq
bWhkcCksIEdGUF9LRVJORUwpOwo+IC0gICAgICAgaWYgKCFtaGRwKQo+IC0gICAgICAgICAgICAg
ICByZXR1cm4gLUVOT01FTTsKPiArICAgICAgIG1oZHAgPSBkZXZtX2RybV9icmlkZ2VfYWxsb2Mo
ZGV2LCBzdHJ1Y3QgY2Ruc19taGRwX2RldmljZSwgYnJpZGdlLAo+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAmY2Ruc19taGRwX2JyaWRnZV9mdW5jcyk7Cj4gKyAgICAgICBp
ZiAoSVNfRVJSKG1oZHApKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gUFRSX0VSUihtaGRwKTsK
Pgo+ICAgICAgICAgY2xrID0gZGV2bV9jbGtfZ2V0X2VuYWJsZWQoZGV2LCBOVUxMKTsKPiAgICAg
ICAgIGlmIChJU19FUlIoY2xrKSkgewo+IEBAIC0yNDgxLDcgKzI0ODIsNiBAQCBzdGF0aWMgaW50
IGNkbnNfbWhkcF9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQo+ICAgICAgICAg
bWhkcC0+ZGlzcGxheV9mbXQuYnBjID0gODsKPgo+ICAgICAgICAgbWhkcC0+YnJpZGdlLm9mX25v
ZGUgPSBwZGV2LT5kZXYub2Zfbm9kZTsKPiAtICAgICAgIG1oZHAtPmJyaWRnZS5mdW5jcyA9ICZj
ZG5zX21oZHBfYnJpZGdlX2Z1bmNzOwo+ICAgICAgICAgbWhkcC0+YnJpZGdlLm9wcyA9IERSTV9C
UklER0VfT1BfREVURUNUIHwgRFJNX0JSSURHRV9PUF9FRElEIHwKPiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBEUk1fQlJJREdFX09QX0hQRDsKPiAgICAgICAgIG1oZHAtPmJyaWRnZS50eXBl
ID0gRFJNX01PREVfQ09OTkVDVE9SX0Rpc3BsYXlQb3J0Owo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vYnJpZGdlL2NoaXBvbmUtaWNuNjIxMS5jIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRn
ZS9jaGlwb25lLWljbjYyMTEuYwo+IGluZGV4IDYzNGM1YjAzMDY2NzlkMmU2ODc5OGMyYjkwMTNh
YWU0NDkxZGQ0NGMuLjgxNDcxM2M1YmVhOTdkY2RjMmI4NDdkMmYyNjZhNTY3ZWY0MGU5ODEgMTAw
NjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9jaGlwb25lLWljbjYyMTEuYwo+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvY2hpcG9uZS1pY242MjExLmMKPiBAQCAtNjkxLDkg
KzY5MSwxMCBAQCBzdGF0aWMgaW50IGNoaXBvbmVfY29tbW9uX3Byb2JlKHN0cnVjdCBkZXZpY2Ug
KmRldiwgc3RydWN0IGNoaXBvbmUgKippY25yKQo+ICAgICAgICAgc3RydWN0IGNoaXBvbmUgKmlj
bjsKPiAgICAgICAgIGludCByZXQ7Cj4KPiAtICAgICAgIGljbiA9IGRldm1fa3phbGxvYyhkZXYs
IHNpemVvZihzdHJ1Y3QgY2hpcG9uZSksIEdGUF9LRVJORUwpOwo+IC0gICAgICAgaWYgKCFpY24p
Cj4gLSAgICAgICAgICAgICAgIHJldHVybiAtRU5PTUVNOwo+ICsgICAgICAgaWNuID0gZGV2bV9k
cm1fYnJpZGdlX2FsbG9jKGRldiwgc3RydWN0IGNoaXBvbmUsIGJyaWRnZSwKPiArICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAmY2hpcG9uZV9icmlkZ2VfZnVuY3MpOwo+ICsgICAg
ICAgaWYgKElTX0VSUihpY24pKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gUFRSX0VSUihpY24p
Owo+Cj4gICAgICAgICBpY24tPmRldiA9IGRldjsKPgo+IEBAIC03MDEsNyArNzAyLDYgQEAgc3Rh
dGljIGludCBjaGlwb25lX2NvbW1vbl9wcm9iZShzdHJ1Y3QgZGV2aWNlICpkZXYsIHN0cnVjdCBj
aGlwb25lICoqaWNucikKPiAgICAgICAgIGlmIChyZXQpCj4gICAgICAgICAgICAgICAgIHJldHVy
biByZXQ7Cj4KPiAtICAgICAgIGljbi0+YnJpZGdlLmZ1bmNzID0gJmNoaXBvbmVfYnJpZGdlX2Z1
bmNzOwo+ICAgICAgICAgaWNuLT5icmlkZ2UudHlwZSA9IERSTV9NT0RFX0NPTk5FQ1RPUl9EUEk7
Cj4gICAgICAgICBpY24tPmJyaWRnZS5vZl9ub2RlID0gZGV2LT5vZl9ub2RlOwo+Cj4gZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvY2hyb250ZWwtY2g3MDMzLmMgYi9kcml2ZXJz
L2dwdS9kcm0vYnJpZGdlL2Nocm9udGVsLWNoNzAzMy5jCj4gaW5kZXggMjEwYzQ1YzFlZmQ0OGY1
YjU0MWJmNzNkYTY2YTE2OWMyN2UxMTBiMi4uYWI5Mjc0NzkzMzU2OGJmYmE3N2RhNDUyMTllMDE5
NDA4MDI5ZjI5NyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2Nocm9udGVs
LWNoNzAzMy5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9jaHJvbnRlbC1jaDcwMzMu
Ywo+IEBAIC01MzYsOSArNTM2LDEwIEBAIHN0YXRpYyBpbnQgY2g3MDMzX3Byb2JlKHN0cnVjdCBp
MmNfY2xpZW50ICpjbGllbnQpCj4gICAgICAgICB1bnNpZ25lZCBpbnQgdmFsOwo+ICAgICAgICAg
aW50IHJldDsKPgo+IC0gICAgICAgcHJpdiA9IGRldm1fa3phbGxvYyhkZXYsIHNpemVvZigqcHJp
diksIEdGUF9LRVJORUwpOwo+IC0gICAgICAgaWYgKCFwcml2KQo+IC0gICAgICAgICAgICAgICBy
ZXR1cm4gLUVOT01FTTsKPiArICAgICAgIHByaXYgPSBkZXZtX2RybV9icmlkZ2VfYWxsb2MoZGV2
LCBzdHJ1Y3QgY2g3MDMzX3ByaXYsIGJyaWRnZSwKPiArICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgJmNoNzAzM19icmlkZ2VfZnVuY3MpOwo+ICsgICAgICAgaWYgKElTX0VSUihw
cml2KSkKPiArICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9FUlIocHJpdik7Cj4KPiAgICAgICAg
IGRldl9zZXRfZHJ2ZGF0YShkZXYsIHByaXYpOwo+Cj4gQEAgLTU3NSw3ICs1NzYsNiBAQCBzdGF0
aWMgaW50IGNoNzAzM19wcm9iZShzdHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50KQo+ICAgICAgICAg
fQo+Cj4gICAgICAgICBJTklUX0xJU1RfSEVBRCgmcHJpdi0+YnJpZGdlLmxpc3QpOwo+IC0gICAg
ICAgcHJpdi0+YnJpZGdlLmZ1bmNzID0gJmNoNzAzM19icmlkZ2VfZnVuY3M7Cj4gICAgICAgICBw
cml2LT5icmlkZ2Uub2Zfbm9kZSA9IGRldi0+b2Zfbm9kZTsKPiAgICAgICAgIGRybV9icmlkZ2Vf
YWRkKCZwcml2LT5icmlkZ2UpOwo+Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9icmlk
Z2UvY3Jvcy1lYy1hbng3Njg4LmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2Nyb3MtZWMtYW54
NzY4OC5jCj4gaW5kZXggYzhhYmQ5OTIwZmVlOTU2Y2YwNDliY2IwOTgyN2Q2NThiNzkzOTMzMy4u
YTM1ZGFlOWI1NmUyNDdkNDNjYWMzMTdkOGJmMWY5MDRkNWU3NDM1ZSAxMDA2NDQKPiAtLS0gYS9k
cml2ZXJzL2dwdS9kcm0vYnJpZGdlL2Nyb3MtZWMtYW54NzY4OC5jCj4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL2JyaWRnZS9jcm9zLWVjLWFueDc2ODguYwo+IEBAIC0xMDMsOSArMTAzLDEwIEBAIHN0
YXRpYyBpbnQgY3Jvc19lY19hbng3Njg4X2JyaWRnZV9wcm9iZShzdHJ1Y3QgaTJjX2NsaWVudCAq
Y2xpZW50KQo+ICAgICAgICAgdTggYnVmZmVyWzRdOwo+ICAgICAgICAgaW50IHJldDsKPgo+IC0g
ICAgICAgYW54NzY4OCA9IGRldm1fa3phbGxvYyhkZXYsIHNpemVvZigqYW54NzY4OCksIEdGUF9L
RVJORUwpOwo+IC0gICAgICAgaWYgKCFhbng3Njg4KQo+IC0gICAgICAgICAgICAgICByZXR1cm4g
LUVOT01FTTsKPiArICAgICAgIGFueDc2ODggPSBkZXZtX2RybV9icmlkZ2VfYWxsb2MoZGV2LCBz
dHJ1Y3QgY3Jvc19lY19hbng3Njg4LCBicmlkZ2UsCj4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICZjcm9zX2VjX2FueDc2ODhfYnJpZGdlX2Z1bmNzKTsKPiArICAgICAg
IGlmIChJU19FUlIoYW54NzY4OCkpCj4gKyAgICAgICAgICAgICAgIHJldHVybiBQVFJfRVJSKGFu
eDc2ODgpOwo+Cj4gICAgICAgICBhbng3Njg4LT5jbGllbnQgPSBjbGllbnQ7Cj4gICAgICAgICBp
MmNfc2V0X2NsaWVudGRhdGEoY2xpZW50LCBhbng3Njg4KTsKPiBAQCAtMTUzLDcgKzE1NCw2IEBA
IHN0YXRpYyBpbnQgY3Jvc19lY19hbng3Njg4X2JyaWRnZV9wcm9iZShzdHJ1Y3QgaTJjX2NsaWVu
dCAqY2xpZW50KQo+ICAgICAgICAgICAgICAgICBEUk1fV0FSTigiT2xkIEFOWDc2ODggRlcgdmVy
c2lvbiAoMHglMDR4KSwgbm90IGZpbHRlcmluZ1xuIiwKPiAgICAgICAgICAgICAgICAgICAgICAg
ICAgZndfdmVyc2lvbik7Cj4KPiAtICAgICAgIGFueDc2ODgtPmJyaWRnZS5mdW5jcyA9ICZjcm9z
X2VjX2FueDc2ODhfYnJpZGdlX2Z1bmNzOwo+ICAgICAgICAgZHJtX2JyaWRnZV9hZGQoJmFueDc2
ODgtPmJyaWRnZSk7Cj4KPiAgICAgICAgIHJldHVybiAwOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vYnJpZGdlL2ZzbC1sZGIuYyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvZnNsLWxk
Yi5jCj4gaW5kZXggMmNiNmRmYzdhNmQzZGJkZDYyMGEzNTM0NTIwNGY4ZmI5Y2FlNjY1MS4uNWMz
Y2YzNzIwMGJjZWUxZGIyODVjOTdlMmI0NjNjOTM1NWVlNmFjYiAxMDA2NDQKPiAtLS0gYS9kcml2
ZXJzL2dwdS9kcm0vYnJpZGdlL2ZzbC1sZGIuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9icmlk
Z2UvZnNsLWxkYi5jCj4gQEAgLTI5OCwxNiArMjk4LDE1IEBAIHN0YXRpYyBpbnQgZnNsX2xkYl9w
cm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQo+ICAgICAgICAgc3RydWN0IGZzbF9s
ZGIgKmZzbF9sZGI7Cj4gICAgICAgICBpbnQgZHVhbF9saW5rOwo+Cj4gLSAgICAgICBmc2xfbGRi
ID0gZGV2bV9remFsbG9jKGRldiwgc2l6ZW9mKCpmc2xfbGRiKSwgR0ZQX0tFUk5FTCk7Cj4gLSAg
ICAgICBpZiAoIWZzbF9sZGIpCj4gLSAgICAgICAgICAgICAgIHJldHVybiAtRU5PTUVNOwo+ICsg
ICAgICAgZnNsX2xkYiA9IGRldm1fZHJtX2JyaWRnZV9hbGxvYyhkZXYsIHN0cnVjdCBmc2xfbGRi
LCBicmlkZ2UsICZmdW5jcyk7Cj4gKyAgICAgICBpZiAoSVNfRVJSKGZzbF9sZGIpKQo+ICsgICAg
ICAgICAgICAgICByZXR1cm4gUFRSX0VSUihmc2xfbGRiKTsKPgo+ICAgICAgICAgZnNsX2xkYi0+
ZGV2ZGF0YSA9IG9mX2RldmljZV9nZXRfbWF0Y2hfZGF0YShkZXYpOwo+ICAgICAgICAgaWYgKCFm
c2xfbGRiLT5kZXZkYXRhKQo+ICAgICAgICAgICAgICAgICByZXR1cm4gLUVJTlZBTDsKPgo+ICAg
ICAgICAgZnNsX2xkYi0+ZGV2ID0gJnBkZXYtPmRldjsKPiAtICAgICAgIGZzbF9sZGItPmJyaWRn
ZS5mdW5jcyA9ICZmdW5jczsKPiAgICAgICAgIGZzbF9sZGItPmJyaWRnZS5vZl9ub2RlID0gZGV2
LT5vZl9ub2RlOwo+Cj4gICAgICAgICBmc2xfbGRiLT5jbGsgPSBkZXZtX2Nsa19nZXQoZGV2LCAi
bGRiIik7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvaW14L2lteC1sZWdh
Y3ktYnJpZGdlLmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2lteC9pbXgtbGVnYWN5LWJyaWRn
ZS5jCj4gaW5kZXggZjA3MmM2ZWQzOWVmMTgzYjEwNTE4YjQzYmQ2ZDk3OWJjODllMzZmOS4uOTg5
YmM0OTdiMDUwNzFhZjJhOTJjNzUwZDkwN2FkZGNmZTc4Mzg1OCAxMDA2NDQKPiAtLS0gYS9kcml2
ZXJzL2dwdS9kcm0vYnJpZGdlL2lteC9pbXgtbGVnYWN5LWJyaWRnZS5jCj4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2JyaWRnZS9pbXgvaW14LWxlZ2FjeS1icmlkZ2UuYwo+IEBAIC01OSw5ICs1OSwx
MCBAQCBzdHJ1Y3QgZHJtX2JyaWRnZSAqZGV2bV9pbXhfZHJtX2xlZ2FjeV9icmlkZ2Uoc3RydWN0
IGRldmljZSAqZGV2LAo+ICAgICAgICAgc3RydWN0IGlteF9sZWdhY3lfYnJpZGdlICppbXhfYnJp
ZGdlOwo+ICAgICAgICAgaW50IHJldDsKPgo+IC0gICAgICAgaW14X2JyaWRnZSA9IGRldm1fa3ph
bGxvYyhkZXYsIHNpemVvZigqaW14X2JyaWRnZSksIEdGUF9LRVJORUwpOwo+IC0gICAgICAgaWYg
KCFpbXhfYnJpZGdlKQo+IC0gICAgICAgICAgICAgICByZXR1cm4gRVJSX1BUUigtRU5PTUVNKTsK
PiArICAgICAgIGlteF9icmlkZ2UgPSBkZXZtX2RybV9icmlkZ2VfYWxsb2MoZGV2LCBzdHJ1Y3Qg
aW14X2xlZ2FjeV9icmlkZ2UsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIGJhc2UsICZpbXhfbGVnYWN5X2JyaWRnZV9mdW5jcyk7Cj4gKyAgICAgICBpZiAoSVNf
RVJSKGlteF9icmlkZ2UpKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gRVJSX0NBU1QoaW14X2Jy
aWRnZSk7Cj4KPiAgICAgICAgIHJldCA9IG9mX2dldF9kcm1fZGlzcGxheV9tb2RlKG5wLAo+ICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJmlteF9icmlkZ2UtPm1vZGUsCj4g
QEAgLTcyLDcgKzczLDYgQEAgc3RydWN0IGRybV9icmlkZ2UgKmRldm1faW14X2RybV9sZWdhY3lf
YnJpZGdlKHN0cnVjdCBkZXZpY2UgKmRldiwKPgo+ICAgICAgICAgaW14X2JyaWRnZS0+bW9kZS50
eXBlIHw9IERSTV9NT0RFX1RZUEVfRFJJVkVSOwo+Cj4gLSAgICAgICBpbXhfYnJpZGdlLT5iYXNl
LmZ1bmNzID0gJmlteF9sZWdhY3lfYnJpZGdlX2Z1bmNzOwo+ICAgICAgICAgaW14X2JyaWRnZS0+
YmFzZS5vZl9ub2RlID0gbnA7Cj4gICAgICAgICBpbXhfYnJpZGdlLT5iYXNlLm9wcyA9IERSTV9C
UklER0VfT1BfTU9ERVM7Cj4gICAgICAgICBpbXhfYnJpZGdlLT5iYXNlLnR5cGUgPSB0eXBlOwo+
IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2lteC9pbXg4bXAtaGRtaS1wdmku
YyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvaW14L2lteDhtcC1oZG1pLXB2aS5jCj4gaW5kZXgg
OGE0ZmQ3ZDc3YThkNTE2YjNiNDZmNDFjZjA3ZDI2MzNkMjNiZGUxMi4uM2E2Zjg1ODdhMjU3YzNj
ZWFjZWZiZWQxYjM3MDI0Mjg5NjE3YjdjMSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
YnJpZGdlL2lteC9pbXg4bXAtaGRtaS1wdmkuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9icmlk
Z2UvaW14L2lteDhtcC1oZG1pLXB2aS5jCj4gQEAgLTE0MCw5ICsxNDAsMTAgQEAgc3RhdGljIGlu
dCBpbXg4bXBfaGRtaV9wdmlfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKPiAg
ICAgICAgIHN0cnVjdCBkZXZpY2Vfbm9kZSAqcmVtb3RlOwo+ICAgICAgICAgc3RydWN0IGlteDht
cF9oZG1pX3B2aSAqcHZpOwo+Cj4gLSAgICAgICBwdmkgPSBkZXZtX2t6YWxsb2MoJnBkZXYtPmRl
diwgc2l6ZW9mKCpwdmkpLCBHRlBfS0VSTkVMKTsKPiAtICAgICAgIGlmICghcHZpKQo+IC0gICAg
ICAgICAgICAgICByZXR1cm4gLUVOT01FTTsKPiArICAgICAgIHB2aSA9IGRldm1fZHJtX2JyaWRn
ZV9hbGxvYygmcGRldi0+ZGV2LCBzdHJ1Y3QgaW14OG1wX2hkbWlfcHZpLAo+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGJyaWRnZSwgJmlteF9oZG1pX3B2aV9icmlkZ2VfZnVu
Y3MpOwo+ICsgICAgICAgaWYgKElTX0VSUihwdmkpKQo+ICsgICAgICAgICAgICAgICByZXR1cm4g
UFRSX0VSUihwdmkpOwo+Cj4gICAgICAgICBwbGF0Zm9ybV9zZXRfZHJ2ZGF0YShwZGV2LCBwdmkp
Owo+ICAgICAgICAgcHZpLT5kZXYgPSAmcGRldi0+ZGV2Owo+IEBAIC0xNjYsNyArMTY3LDYgQEAg
c3RhdGljIGludCBpbXg4bXBfaGRtaV9wdmlfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAq
cGRldikKPiAgICAgICAgIHBtX3J1bnRpbWVfZW5hYmxlKCZwZGV2LT5kZXYpOwo+Cj4gICAgICAg
ICAvKiBSZWdpc3RlciB0aGUgYnJpZGdlLiAqLwo+IC0gICAgICAgcHZpLT5icmlkZ2UuZnVuY3Mg
PSAmaW14X2hkbWlfcHZpX2JyaWRnZV9mdW5jczsKPiAgICAgICAgIHB2aS0+YnJpZGdlLm9mX25v
ZGUgPSBwZGV2LT5kZXYub2Zfbm9kZTsKPiAgICAgICAgIHB2aS0+YnJpZGdlLnRpbWluZ3MgPSBw
dmktPm5leHRfYnJpZGdlLT50aW1pbmdzOwo+Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9icmlkZ2UvaW14L2lteDhxeHAtcGl4ZWwtbGluay5jIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRn
ZS9pbXgvaW14OHF4cC1waXhlbC1saW5rLmMKPiBpbmRleCBlMDkyYzllYTk5YjAyMjQ4MDI5MTlm
Zjg0YjQ0OGFjYjUzNTA4OTUxLi5lNTk0MzUwNjk4MWRmYjhmMTEzYzk0YWQ1MmRkYmJhNTJlMDBl
YzNmIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvaW14L2lteDhxeHAtcGl4
ZWwtbGluay5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9pbXgvaW14OHF4cC1waXhl
bC1saW5rLmMKPiBAQCAtMzI3LDkgKzMyNywxMCBAQCBzdGF0aWMgaW50IGlteDhxeHBfcGl4ZWxf
bGlua19icmlkZ2VfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKPiAgICAgICAg
IHN0cnVjdCBkZXZpY2Vfbm9kZSAqbnAgPSBkZXYtPm9mX25vZGU7Cj4gICAgICAgICBpbnQgcmV0
Owo+Cj4gLSAgICAgICBwbCA9IGRldm1fa3phbGxvYyhkZXYsIHNpemVvZigqcGwpLCBHRlBfS0VS
TkVMKTsKPiAtICAgICAgIGlmICghcGwpCj4gLSAgICAgICAgICAgICAgIHJldHVybiAtRU5PTUVN
Owo+ICsgICAgICAgcGwgPSBkZXZtX2RybV9icmlkZ2VfYWxsb2MoZGV2LCBzdHJ1Y3QgaW14OHF4
cF9waXhlbF9saW5rLCBicmlkZ2UsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAmaW14OHF4cF9waXhlbF9saW5rX2JyaWRnZV9mdW5jcyk7Cj4gKyAgICAgICBpZiAoSVNfRVJS
KHBsKSkKPiArICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9FUlIocGwpOwo+Cj4gICAgICAgICBy
ZXQgPSBpbXhfc2N1X2dldF9oYW5kbGUoJnBsLT5pcGNfaGFuZGxlKTsKPiAgICAgICAgIGlmIChy
ZXQpIHsKPiBAQCAtMzg0LDcgKzM4NSw2IEBAIHN0YXRpYyBpbnQgaW14OHF4cF9waXhlbF9saW5r
X2JyaWRnZV9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQo+ICAgICAgICAgcGxh
dGZvcm1fc2V0X2RydmRhdGEocGRldiwgcGwpOwo+Cj4gICAgICAgICBwbC0+YnJpZGdlLmRyaXZl
cl9wcml2YXRlID0gcGw7Cj4gLSAgICAgICBwbC0+YnJpZGdlLmZ1bmNzID0gJmlteDhxeHBfcGl4
ZWxfbGlua19icmlkZ2VfZnVuY3M7Cj4gICAgICAgICBwbC0+YnJpZGdlLm9mX25vZGUgPSBucDsK
Pgo+ICAgICAgICAgZHJtX2JyaWRnZV9hZGQoJnBsLT5icmlkZ2UpOwo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vYnJpZGdlL2lteC9pbXg4cXhwLXB4bDJkcGkuYyBiL2RyaXZlcnMvZ3B1
L2RybS9icmlkZ2UvaW14L2lteDhxeHAtcHhsMmRwaS5jCj4gaW5kZXggZGExMzhhYjUxYjNiZDJj
NmViZDM3ODBjMDk4MTg4OTFkNTMyMDA5Mi4uMTExMzEwYWNhYjJjZTQwM2E2MmE0N2VjYmU5ZDlk
ZDM3MmM3NWVjZCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2lteC9pbXg4
cXhwLXB4bDJkcGkuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvaW14L2lteDhxeHAt
cHhsMmRwaS5jCj4gQEAgLTM5Miw5ICszOTIsMTAgQEAgc3RhdGljIGludCBpbXg4cXhwX3B4bDJk
cGlfYnJpZGdlX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCj4gICAgICAgICBz
dHJ1Y3QgZGV2aWNlX25vZGUgKm5wID0gZGV2LT5vZl9ub2RlOwo+ICAgICAgICAgaW50IHJldDsK
Pgo+IC0gICAgICAgcDJkID0gZGV2bV9remFsbG9jKGRldiwgc2l6ZW9mKCpwMmQpLCBHRlBfS0VS
TkVMKTsKPiAtICAgICAgIGlmICghcDJkKQo+IC0gICAgICAgICAgICAgICByZXR1cm4gLUVOT01F
TTsKPiArICAgICAgIHAyZCA9IGRldm1fZHJtX2JyaWRnZV9hbGxvYyhkZXYsIHN0cnVjdCBpbXg4
cXhwX3B4bDJkcGksIGJyaWRnZSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAmaW14OHF4cF9weGwyZHBpX2JyaWRnZV9mdW5jcyk7Cj4gKyAgICAgICBpZiAoSVNfRVJSKHAy
ZCkpCj4gKyAgICAgICAgICAgICAgIHJldHVybiBQVFJfRVJSKHAyZCk7Cj4KPiAgICAgICAgIHAy
ZC0+cmVnbWFwID0gc3lzY29uX25vZGVfdG9fcmVnbWFwKG5wLT5wYXJlbnQpOwo+ICAgICAgICAg
aWYgKElTX0VSUihwMmQtPnJlZ21hcCkpIHsKPiBAQCAtNDQxLDcgKzQ0Miw2IEBAIHN0YXRpYyBp
bnQgaW14OHF4cF9weGwyZHBpX2JyaWRnZV9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpw
ZGV2KQo+ICAgICAgICAgcG1fcnVudGltZV9lbmFibGUoZGV2KTsKPgo+ICAgICAgICAgcDJkLT5i
cmlkZ2UuZHJpdmVyX3ByaXZhdGUgPSBwMmQ7Cj4gLSAgICAgICBwMmQtPmJyaWRnZS5mdW5jcyA9
ICZpbXg4cXhwX3B4bDJkcGlfYnJpZGdlX2Z1bmNzOwo+ICAgICAgICAgcDJkLT5icmlkZ2Uub2Zf
bm9kZSA9IG5wOwo+Cj4gICAgICAgICBkcm1fYnJpZGdlX2FkZCgmcDJkLT5icmlkZ2UpOwo+IGRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2l0ZS1pdDYyNjMuYyBiL2RyaXZlcnMv
Z3B1L2RybS9icmlkZ2UvaXRlLWl0NjI2My5jCj4gaW5kZXggYTNhNjNhOTc3YjBhODQ4N2FkMzhm
YzA4ZTBlZWQwODY3MmY0ZDQxYS4uYzRlZWRmNjQzZjM5ZTliOTFlZmViNWE2MjE0YmYyZmU2ZjJj
MDQwYSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2l0ZS1pdDYyNjMuYwo+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvaXRlLWl0NjI2My5jCj4gQEAgLTgxNiw5ICs4
MTYsMTAgQEAgc3RhdGljIGludCBpdDYyNjNfcHJvYmUoc3RydWN0IGkyY19jbGllbnQgKmNsaWVu
dCkKPiAgICAgICAgIHN0cnVjdCBpdDYyNjMgKml0Owo+ICAgICAgICAgaW50IHJldDsKPgo+IC0g
ICAgICAgaXQgPSBkZXZtX2t6YWxsb2MoZGV2LCBzaXplb2YoKml0KSwgR0ZQX0tFUk5FTCk7Cj4g
LSAgICAgICBpZiAoIWl0KQo+IC0gICAgICAgICAgICAgICByZXR1cm4gLUVOT01FTTsKPiArICAg
ICAgIGl0ID0gZGV2bV9kcm1fYnJpZGdlX2FsbG9jKGRldiwgc3RydWN0IGl0NjI2MywgYnJpZGdl
LAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJml0NjI2M19icmlkZ2VfZnVu
Y3MpOwo+ICsgICAgICAgaWYgKElTX0VSUihpdCkpCj4gKyAgICAgICAgICAgICAgIHJldHVybiBQ
VFJfRVJSKGl0KTsKPgo+ICAgICAgICAgaXQtPmRldiA9IGRldjsKPiAgICAgICAgIGl0LT5oZG1p
X2kyYyA9IGNsaWVudDsKPiBAQCAtODY2LDcgKzg2Nyw2IEBAIHN0YXRpYyBpbnQgaXQ2MjYzX3By
b2JlKHN0cnVjdCBpMmNfY2xpZW50ICpjbGllbnQpCj4KPiAgICAgICAgIGkyY19zZXRfY2xpZW50
ZGF0YShjbGllbnQsIGl0KTsKPgo+IC0gICAgICAgaXQtPmJyaWRnZS5mdW5jcyA9ICZpdDYyNjNf
YnJpZGdlX2Z1bmNzOwo+ICAgICAgICAgaXQtPmJyaWRnZS5vZl9ub2RlID0gZGV2LT5vZl9ub2Rl
Owo+ICAgICAgICAgLyogSVQ2MjYzIGNoaXAgZG9lc24ndCBzdXBwb3J0IEhQRCBpbnRlcnJ1cHQu
ICovCj4gICAgICAgICBpdC0+YnJpZGdlLm9wcyA9IERSTV9CUklER0VfT1BfREVURUNUIHwgRFJN
X0JSSURHRV9PUF9FRElEIHwKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9p
dGUtaXQ2NTA1LmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2l0ZS1pdDY1MDUuYwo+IGluZGV4
IDEzODNkMWUyMWFmZWExYWNiNDZiN2JkMjg4NjA5MDhiNTg4MzJkYmMuLmIwZGM5MjgwZDg3MGM0
ODY0ZDQzOTg0OTk5MjM4ZThhMzRiZjQ3ZGYgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2JyaWRnZS9pdGUtaXQ2NTA1LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2l0ZS1p
dDY1MDUuYwo+IEBAIC0zNTgzLDkgKzM1ODMsMTAgQEAgc3RhdGljIGludCBpdDY1MDVfaTJjX3By
b2JlKHN0cnVjdCBpMmNfY2xpZW50ICpjbGllbnQpCj4gICAgICAgICBzdHJ1Y3QgZXh0Y29uX2Rl
diAqZXh0Y29uOwo+ICAgICAgICAgaW50IGVycjsKPgo+IC0gICAgICAgaXQ2NTA1ID0gZGV2bV9r
emFsbG9jKCZjbGllbnQtPmRldiwgc2l6ZW9mKCppdDY1MDUpLCBHRlBfS0VSTkVMKTsKPiAtICAg
ICAgIGlmICghaXQ2NTA1KQo+IC0gICAgICAgICAgICAgICByZXR1cm4gLUVOT01FTTsKPiArICAg
ICAgIGl0NjUwNSA9IGRldm1fZHJtX2JyaWRnZV9hbGxvYygmY2xpZW50LT5kZXYsIHN0cnVjdCBp
dDY1MDUsIGJyaWRnZSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAm
aXQ2NTA1X2JyaWRnZV9mdW5jcyk7Cj4gKyAgICAgICBpZiAoSVNfRVJSKGl0NjUwNSkpCj4gKyAg
ICAgICAgICAgICAgIHJldHVybiBQVFJfRVJSKGl0NjUwNSk7Cj4KPiAgICAgICAgIG11dGV4X2lu
aXQoJml0NjUwNS0+ZXh0Y29uX2xvY2spOwo+ICAgICAgICAgbXV0ZXhfaW5pdCgmaXQ2NTA1LT5t
b2RlX2xvY2spOwo+IEBAIC0zNjYwLDcgKzM2NjEsNiBAQCBzdGF0aWMgaW50IGl0NjUwNV9pMmNf
cHJvYmUoc3RydWN0IGkyY19jbGllbnQgKmNsaWVudCkKPiAgICAgICAgIGl0NjUwNS0+YXV4LnRy
YW5zZmVyID0gaXQ2NTA1X2F1eF90cmFuc2ZlcjsKPiAgICAgICAgIGRybV9kcF9hdXhfaW5pdCgm
aXQ2NTA1LT5hdXgpOwo+Cj4gLSAgICAgICBpdDY1MDUtPmJyaWRnZS5mdW5jcyA9ICZpdDY1MDVf
YnJpZGdlX2Z1bmNzOwo+ICAgICAgICAgaXQ2NTA1LT5icmlkZ2UudHlwZSA9IERSTV9NT0RFX0NP
Tk5FQ1RPUl9EaXNwbGF5UG9ydDsKPiAgICAgICAgIGl0NjUwNS0+YnJpZGdlLm9wcyA9IERSTV9C
UklER0VfT1BfREVURUNUIHwgRFJNX0JSSURHRV9PUF9FRElEIHwKPiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIERSTV9CUklER0VfT1BfSFBEOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vYnJpZGdlL2l0ZS1pdDY2MTIxLmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2l0ZS1p
dDY2MTIxLmMKPiBpbmRleCA3YjExMGFlNTMyOTE4ZDJkNmY5MWViYzVmNzQ3YzM4ZTdlNzdkYzA3
Li42NDk0ZjA4NDI3OTM4MjliNzY1OGIzMzAzMzg3NjdlNWIzOGExMTE1IDEwMDY0NAo+IC0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvaXRlLWl0NjYxMjEuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1
L2RybS9icmlkZ2UvaXRlLWl0NjYxMjEuYwo+IEBAIC0xNTE2LDkgKzE1MTYsMTAgQEAgc3RhdGlj
IGludCBpdDY2MTIxX3Byb2JlKHN0cnVjdCBpMmNfY2xpZW50ICpjbGllbnQpCj4gICAgICAgICAg
ICAgICAgIHJldHVybiAtRU5YSU87Cj4gICAgICAgICB9Cj4KPiAtICAgICAgIGN0eCA9IGRldm1f
a3phbGxvYyhkZXYsIHNpemVvZigqY3R4KSwgR0ZQX0tFUk5FTCk7Cj4gLSAgICAgICBpZiAoIWN0
eCkKPiAtICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gKyAgICAgICBjdHggPSBkZXZt
X2RybV9icmlkZ2VfYWxsb2MoZGV2LCBzdHJ1Y3QgaXQ2NjEyMV9jdHgsIGJyaWRnZSwKPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmaXQ2NjEyMV9icmlkZ2VfZnVuY3MpOwo+
ICsgICAgICAgaWYgKElTX0VSUihjdHgpKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gUFRSX0VS
UihjdHgpOwo+Cj4gICAgICAgICBlcCA9IG9mX2dyYXBoX2dldF9lbmRwb2ludF9ieV9yZWdzKGRl
di0+b2Zfbm9kZSwgMCwgMCk7Cj4gICAgICAgICBpZiAoIWVwKQo+IEBAIC0xNTc3LDcgKzE1Nzgs
NiBAQCBzdGF0aWMgaW50IGl0NjYxMjFfcHJvYmUoc3RydWN0IGkyY19jbGllbnQgKmNsaWVudCkK
PiAgICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9ERVY7Cj4gICAgICAgICB9Cj4KPiAtICAgICAg
IGN0eC0+YnJpZGdlLmZ1bmNzID0gJml0NjYxMjFfYnJpZGdlX2Z1bmNzOwo+ICAgICAgICAgY3R4
LT5icmlkZ2Uub2Zfbm9kZSA9IGRldi0+b2Zfbm9kZTsKPiAgICAgICAgIGN0eC0+YnJpZGdlLnR5
cGUgPSBEUk1fTU9ERV9DT05ORUNUT1JfSERNSUE7Cj4gICAgICAgICBjdHgtPmJyaWRnZS5vcHMg
PSBEUk1fQlJJREdFX09QX0RFVEVDVCB8IERSTV9CUklER0VfT1BfRURJRDsKPiBkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9sb250aXVtLWx0ODkxMmIuYyBiL2RyaXZlcnMvZ3B1
L2RybS9icmlkZ2UvbG9udGl1bS1sdDg5MTJiLmMKPiBpbmRleCAzZTQ5ZDg1NWIzNjQ4ODgwY2Vh
OWJjZTVmM2YwNGZiYjZmODM4YTQ1Li5iZDgzMjI4YjBmMGViNDkwNjJlZTg0ZjYyZjhhZTUwYjc4
YmJmYjBlIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvbG9udGl1bS1sdDg5
MTJiLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2xvbnRpdW0tbHQ4OTEyYi5jCj4g
QEAgLTc2MSw5ICs3NjEsMTAgQEAgc3RhdGljIGludCBsdDg5MTJfcHJvYmUoc3RydWN0IGkyY19j
bGllbnQgKmNsaWVudCkKPiAgICAgICAgIGludCByZXQgPSAwOwo+ICAgICAgICAgc3RydWN0IGRl
dmljZSAqZGV2ID0gJmNsaWVudC0+ZGV2Owo+Cj4gLSAgICAgICBsdCA9IGRldm1fa3phbGxvYyhk
ZXYsIHNpemVvZihzdHJ1Y3QgbHQ4OTEyKSwgR0ZQX0tFUk5FTCk7Cj4gLSAgICAgICBpZiAoIWx0
KQo+IC0gICAgICAgICAgICAgICByZXR1cm4gLUVOT01FTTsKPiArICAgICAgIGx0ID0gZGV2bV9k
cm1fYnJpZGdlX2FsbG9jKGRldiwgc3RydWN0IGx0ODkxMiwgYnJpZGdlLAo+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgJmx0ODkxMl9icmlkZ2VfZnVuY3MpOwo+ICsgICAgICAg
aWYgKElTX0VSUihsdCkpCj4gKyAgICAgICAgICAgICAgIHJldHVybiBQVFJfRVJSKGx0KTsKPgo+
ICAgICAgICAgbHQtPmRldiA9IGRldjsKPiAgICAgICAgIGx0LT5pMmNfY2xpZW50WzBdID0gY2xp
ZW50Owo+IEBAIC03NzgsNyArNzc5LDYgQEAgc3RhdGljIGludCBsdDg5MTJfcHJvYmUoc3RydWN0
IGkyY19jbGllbnQgKmNsaWVudCkKPgo+ICAgICAgICAgaTJjX3NldF9jbGllbnRkYXRhKGNsaWVu
dCwgbHQpOwo+Cj4gLSAgICAgICBsdC0+YnJpZGdlLmZ1bmNzID0gJmx0ODkxMl9icmlkZ2VfZnVu
Y3M7Cj4gICAgICAgICBsdC0+YnJpZGdlLm9mX25vZGUgPSBkZXYtPm9mX25vZGU7Cj4gICAgICAg
ICBsdC0+YnJpZGdlLm9wcyA9IChEUk1fQlJJREdFX09QX0VESUQgfAo+ICAgICAgICAgICAgICAg
ICAgICAgICAgICAgRFJNX0JSSURHRV9PUF9ERVRFQ1QpOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vYnJpZGdlL2xvbnRpdW0tbHQ5MjExLmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdl
L2xvbnRpdW0tbHQ5MjExLmMKPiBpbmRleCA5YjJkYWM5YmQ2M2M1YWZkNGZmYmFmYWZkYmJiMTIz
MDU0OWJjMzZmLi4zOTlmYTdlZWJkNDljYzNmZTllODEyNTE3ZmMzZThlZDI1MDA0MDg2IDEwMDY0
NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvbG9udGl1bS1sdDkyMTEuYwo+ICsrKyBi
L2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvbG9udGl1bS1sdDkyMTEuYwo+IEBAIC03MjcsOSArNzI3
LDkgQEAgc3RhdGljIGludCBsdDkyMTFfcHJvYmUoc3RydWN0IGkyY19jbGllbnQgKmNsaWVudCkK
PiAgICAgICAgIHN0cnVjdCBsdDkyMTEgKmN0eDsKPiAgICAgICAgIGludCByZXQ7Cj4KPiAtICAg
ICAgIGN0eCA9IGRldm1fa3phbGxvYyhkZXYsIHNpemVvZigqY3R4KSwgR0ZQX0tFUk5FTCk7Cj4g
LSAgICAgICBpZiAoIWN0eCkKPiAtICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gKyAg
ICAgICBjdHggPSBkZXZtX2RybV9icmlkZ2VfYWxsb2MoZGV2LCBzdHJ1Y3QgbHQ5MjExLCBicmlk
Z2UsICZsdDkyMTFfZnVuY3MpOwo+ICsgICAgICAgaWYgKElTX0VSUihjdHgpKQo+ICsgICAgICAg
ICAgICAgICByZXR1cm4gUFRSX0VSUihjdHgpOwo+Cj4gICAgICAgICBjdHgtPmRldiA9IGRldjsK
Pgo+IEBAIC03NTUsNyArNzU1LDYgQEAgc3RhdGljIGludCBsdDkyMTFfcHJvYmUoc3RydWN0IGky
Y19jbGllbnQgKmNsaWVudCkKPiAgICAgICAgIGRldl9zZXRfZHJ2ZGF0YShkZXYsIGN0eCk7Cj4g
ICAgICAgICBpMmNfc2V0X2NsaWVudGRhdGEoY2xpZW50LCBjdHgpOwo+Cj4gLSAgICAgICBjdHgt
PmJyaWRnZS5mdW5jcyA9ICZsdDkyMTFfZnVuY3M7Cj4gICAgICAgICBjdHgtPmJyaWRnZS5vZl9u
b2RlID0gZGV2LT5vZl9ub2RlOwo+ICAgICAgICAgZHJtX2JyaWRnZV9hZGQoJmN0eC0+YnJpZGdl
KTsKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2xvbnRpdW0tbHQ5NjEx
LmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2xvbnRpdW0tbHQ5NjExLmMKPiBpbmRleCBhMzVh
OGI4Y2E4OWMyY2MxMzhhN2NiNGRlMDFjNzk2YzYyMTFkNjU1Li5kNmVlNzljMWU0Mjc3MTE3NGVl
MDFmMTc0NDhmMWE4ZmZmNzBiNjNmIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9icmlk
Z2UvbG9udGl1bS1sdDk2MTEuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvbG9udGl1
bS1sdDk2MTEuYwo+IEBAIC0xMDcyLDkgKzEwNzIsMTAgQEAgc3RhdGljIGludCBsdDk2MTFfcHJv
YmUoc3RydWN0IGkyY19jbGllbnQgKmNsaWVudCkKPiAgICAgICAgICAgICAgICAgcmV0dXJuIC1F
Tk9ERVY7Cj4gICAgICAgICB9Cj4KPiAtICAgICAgIGx0OTYxMSA9IGRldm1fa3phbGxvYyhkZXYs
IHNpemVvZigqbHQ5NjExKSwgR0ZQX0tFUk5FTCk7Cj4gLSAgICAgICBpZiAoIWx0OTYxMSkKPiAt
ICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gKyAgICAgICBsdDk2MTEgPSBkZXZtX2Ry
bV9icmlkZ2VfYWxsb2MoZGV2LCBzdHJ1Y3QgbHQ5NjExLCBicmlkZ2UsCj4gKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgJmx0OTYxMV9icmlkZ2VfZnVuY3MpOwo+ICsgICAg
ICAgaWYgKElTX0VSUihsdDk2MTEpKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gUFRSX0VSUihs
dDk2MTEpOwo+Cj4gICAgICAgICBsdDk2MTEtPmRldiA9IGRldjsKPiAgICAgICAgIGx0OTYxMS0+
Y2xpZW50ID0gY2xpZW50Owo+IEBAIC0xMTI3LDcgKzExMjgsNiBAQCBzdGF0aWMgaW50IGx0OTYx
MV9wcm9iZShzdHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50KQo+ICAgICAgICAgLyogRGlzYWJsZSBB
dWRpbyBJbmZvRnJhbWUsIGVuYWJsZWQgYnkgZGVmYXVsdCAqLwo+ICAgICAgICAgcmVnbWFwX3Vw
ZGF0ZV9iaXRzKGx0OTYxMS0+cmVnbWFwLCAweDg0M2QsIExUOTYxMV9JTkZPRlJBTUVfQVVESU8s
IDApOwo+Cj4gLSAgICAgICBsdDk2MTEtPmJyaWRnZS5mdW5jcyA9ICZsdDk2MTFfYnJpZGdlX2Z1
bmNzOwo+ICAgICAgICAgbHQ5NjExLT5icmlkZ2Uub2Zfbm9kZSA9IGNsaWVudC0+ZGV2Lm9mX25v
ZGU7Cj4gICAgICAgICBsdDk2MTEtPmJyaWRnZS5vcHMgPSBEUk1fQlJJREdFX09QX0RFVEVDVCB8
IERSTV9CUklER0VfT1BfRURJRCB8Cj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEUk1f
QlJJREdFX09QX0hQRCB8IERSTV9CUklER0VfT1BfTU9ERVMgfAo+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vYnJpZGdlL2x2ZHMtY29kZWMuYyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2Uv
bHZkcy1jb2RlYy5jCj4gaW5kZXggMTY0NmU0NTRlMGIwYjU1OGQwMGY5NDIxZjE1YmI3MDg0ZTJh
YTQ1YS4uZTZhNzE0N2UxNDFiNjRmYzc3ZGZlZjAzYTczN2VlNTk5YTBlY2QxMCAxMDA2NDQKPiAt
LS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2x2ZHMtY29kZWMuYwo+ICsrKyBiL2RyaXZlcnMv
Z3B1L2RybS9icmlkZ2UvbHZkcy1jb2RlYy5jCj4gQEAgLTExOCw5ICsxMTgsMTAgQEAgc3RhdGlj
IGludCBsdmRzX2NvZGVjX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCj4gICAg
ICAgICB1MzIgdmFsOwo+ICAgICAgICAgaW50IHJldDsKPgo+IC0gICAgICAgbHZkc19jb2RlYyA9
IGRldm1fa3phbGxvYyhkZXYsIHNpemVvZigqbHZkc19jb2RlYyksIEdGUF9LRVJORUwpOwo+IC0g
ICAgICAgaWYgKCFsdmRzX2NvZGVjKQo+IC0gICAgICAgICAgICAgICByZXR1cm4gLUVOT01FTTsK
PiArICAgICAgIGx2ZHNfY29kZWMgPSBkZXZtX2RybV9icmlkZ2VfYWxsb2MoZGV2LCBzdHJ1Y3Qg
bHZkc19jb2RlYywgYnJpZGdlLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAmZnVuY3MpOwo+ICsgICAgICAgaWYgKElTX0VSUihsdmRzX2NvZGVjKSkKPiArICAg
ICAgICAgICAgICAgcmV0dXJuIFBUUl9FUlIobHZkc19jb2RlYyk7Cj4KPiAgICAgICAgIGx2ZHNf
Y29kZWMtPmRldiA9ICZwZGV2LT5kZXY7Cj4gICAgICAgICBsdmRzX2NvZGVjLT5jb25uZWN0b3Jf
dHlwZSA9ICh1aW50cHRyX3Qpb2ZfZGV2aWNlX2dldF9tYXRjaF9kYXRhKGRldik7Cj4gQEAgLTE1
Niw4ICsxNTcsNiBAQCBzdGF0aWMgaW50IGx2ZHNfY29kZWNfcHJvYmUoc3RydWN0IHBsYXRmb3Jt
X2RldmljZSAqcGRldikKPiAgICAgICAgIGlmIChJU19FUlIobHZkc19jb2RlYy0+cGFuZWxfYnJp
ZGdlKSkKPiAgICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9FUlIobHZkc19jb2RlYy0+cGFuZWxf
YnJpZGdlKTsKPgo+IC0gICAgICAgbHZkc19jb2RlYy0+YnJpZGdlLmZ1bmNzID0gJmZ1bmNzOwo+
IC0KPiAgICAgICAgIC8qCj4gICAgICAgICAgKiBEZWNvZGVyIGlucHV0IExWRFMgZm9ybWF0IGlz
IGEgcHJvcGVydHkgb2YgdGhlIGRlY29kZXIgY2hpcCBvciBldmVuCj4gICAgICAgICAgKiBpdHMg
c3RyYXBwaW5nLiBIYW5kbGUgZGF0YS1tYXBwaW5nIHRoZSBzYW1lIHdheSBsdmRzLXBhbmVsIGRv
ZXMuIEluCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvbWljcm9jaGlwLWx2
ZHMuYyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvbWljcm9jaGlwLWx2ZHMuYwo+IGluZGV4IDFk
NGFlMDA5N2RmODQ3ZDlmOTNjNzllZWNmZjBjNDU4N2FlMzMxYmEuLjlmNGZmODJiYzZiNDkwMTBm
ODcyN2RhM2IzNjdmNWE3NDRhMjhlZGMgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2Jy
aWRnZS9taWNyb2NoaXAtbHZkcy5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9taWNy
b2NoaXAtbHZkcy5jCj4gQEAgLTE1Nyw5ICsxNTcsMTAgQEAgc3RhdGljIGludCBtY2hwX2x2ZHNf
cHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKPiAgICAgICAgIGlmICghZGV2LT5v
Zl9ub2RlKQo+ICAgICAgICAgICAgICAgICByZXR1cm4gLUVOT0RFVjsKPgo+IC0gICAgICAgbHZk
cyA9IGRldm1fa3phbGxvYygmcGRldi0+ZGV2LCBzaXplb2YoKmx2ZHMpLCBHRlBfS0VSTkVMKTsK
PiAtICAgICAgIGlmICghbHZkcykKPiAtICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4g
KyAgICAgICBsdmRzID0gZGV2bV9kcm1fYnJpZGdlX2FsbG9jKCZwZGV2LT5kZXYsIHN0cnVjdCBt
Y2hwX2x2ZHMsIGJyaWRnZSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
Jm1jaHBfbHZkc19icmlkZ2VfZnVuY3MpOwo+ICsgICAgICAgaWYgKElTX0VSUihsdmRzKSkKPiAr
ICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9FUlIobHZkcyk7Cj4KPiAgICAgICAgIGx2ZHMtPmRl
diA9IGRldjsKPgo+IEBAIC0xOTIsNyArMTkzLDYgQEAgc3RhdGljIGludCBtY2hwX2x2ZHNfcHJv
YmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKPgo+ICAgICAgICAgbHZkcy0+YnJpZGdl
Lm9mX25vZGUgPSBkZXYtPm9mX25vZGU7Cj4gICAgICAgICBsdmRzLT5icmlkZ2UudHlwZSA9IERS
TV9NT0RFX0NPTk5FQ1RPUl9MVkRTOwo+IC0gICAgICAgbHZkcy0+YnJpZGdlLmZ1bmNzID0gJm1j
aHBfbHZkc19icmlkZ2VfZnVuY3M7Cj4KPiAgICAgICAgIGRldl9zZXRfZHJ2ZGF0YShkZXYsIGx2
ZHMpOwo+ICAgICAgICAgcmV0ID0gZGV2bV9wbV9ydW50aW1lX2VuYWJsZShkZXYpOwo+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL253bC1kc2kuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9icmlkZ2UvbndsLWRzaS5jCj4gaW5kZXggNTU5MTJhZTExZjQ2YTFkNTUxZTExZjkzYTMwNmE4
YTAwZWYzZjdkOC4uMmY3NDI5YjI0ZmMyMGRiMTA0ZGVjMTcxODJmMTExOWM2Yzc1ZTYwMCAxMDA2
NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL253bC1kc2kuYwo+ICsrKyBiL2RyaXZl
cnMvZ3B1L2RybS9icmlkZ2UvbndsLWRzaS5jCj4gQEAgLTExNDksOSArMTE0OSwxMCBAQCBzdGF0
aWMgaW50IG53bF9kc2lfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKPiAgICAg
ICAgIHN0cnVjdCBud2xfZHNpICpkc2k7Cj4gICAgICAgICBpbnQgcmV0Owo+Cj4gLSAgICAgICBk
c2kgPSBkZXZtX2t6YWxsb2MoZGV2LCBzaXplb2YoKmRzaSksIEdGUF9LRVJORUwpOwo+IC0gICAg
ICAgaWYgKCFkc2kpCj4gLSAgICAgICAgICAgICAgIHJldHVybiAtRU5PTUVNOwo+ICsgICAgICAg
ZHNpID0gZGV2bV9kcm1fYnJpZGdlX2FsbG9jKGRldiwgc3RydWN0IG53bF9kc2ksIGJyaWRnZSwK
PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmbndsX2RzaV9icmlkZ2VfZnVu
Y3MpOwo+ICsgICAgICAgaWYgKElTX0VSUihkc2kpKQo+ICsgICAgICAgICAgICAgICByZXR1cm4g
UFRSX0VSUihkc2kpOwo+Cj4gICAgICAgICBkc2ktPmRldiA9IGRldjsKPgo+IEBAIC0xMTgwLDcg
KzExODEsNiBAQCBzdGF0aWMgaW50IG53bF9kc2lfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2Rldmlj
ZSAqcGRldikKPiAgICAgICAgICAgICAgICAgZHNpLT5xdWlya3MgPSAodWludHB0cl90KWF0dHIt
PmRhdGE7Cj4KPiAgICAgICAgIGRzaS0+YnJpZGdlLmRyaXZlcl9wcml2YXRlID0gZHNpOwo+IC0g
ICAgICAgZHNpLT5icmlkZ2UuZnVuY3MgPSAmbndsX2RzaV9icmlkZ2VfZnVuY3M7Cj4gICAgICAg
ICBkc2ktPmJyaWRnZS5vZl9ub2RlID0gZGV2LT5vZl9ub2RlOwo+ICAgICAgICAgZHNpLT5icmlk
Z2UudGltaW5ncyA9ICZud2xfZHNpX3RpbWluZ3M7Cj4gICAgICAgICBkc2ktPmJyaWRnZS50eXBl
ID0gRFJNX01PREVfQ09OTkVDVE9SX0RTSTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2JyaWRnZS9wYXJhZGUtcHM4NjIyLmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3BhcmFkZS1w
czg2MjIuYwo+IGluZGV4IDg3MjZmZWZjNWM2NTRlNDliY2UwMjlkOTQzZDI0MTc4OWNhNGY4MDIu
LmY4NzlhMWRmMDc3ZDI1ZDBjNTEyMWU1MWFhMDY3ZjUxMWE0MWE5YmQgMTAwNjQ0Cj4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9wYXJhZGUtcHM4NjIyLmMKPiArKysgYi9kcml2ZXJzL2dw
dS9kcm0vYnJpZGdlL3BhcmFkZS1wczg2MjIuYwo+IEBAIC00NDksOSArNDQ5LDEwIEBAIHN0YXRp
YyBpbnQgcHM4NjIyX3Byb2JlKHN0cnVjdCBpMmNfY2xpZW50ICpjbGllbnQpCj4gICAgICAgICBz
dHJ1Y3QgZHJtX2JyaWRnZSAqcGFuZWxfYnJpZGdlOwo+ICAgICAgICAgaW50IHJldDsKPgo+IC0g
ICAgICAgcHM4NjIyID0gZGV2bV9remFsbG9jKGRldiwgc2l6ZW9mKCpwczg2MjIpLCBHRlBfS0VS
TkVMKTsKPiAtICAgICAgIGlmICghcHM4NjIyKQo+IC0gICAgICAgICAgICAgICByZXR1cm4gLUVO
T01FTTsKPiArICAgICAgIHBzODYyMiA9IGRldm1fZHJtX2JyaWRnZV9hbGxvYyhkZXYsIHN0cnVj
dCBwczg2MjJfYnJpZGdlLCBicmlkZ2UsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgJnBzODYyMl9icmlkZ2VfZnVuY3MpOwo+ICsgICAgICAgaWYgKElTX0VSUihwczg2
MjIpKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gUFRSX0VSUihwczg2MjIpOwo+Cj4gICAgICAg
ICBwYW5lbF9icmlkZ2UgPSBkZXZtX2RybV9vZl9nZXRfYnJpZGdlKGRldiwgZGV2LT5vZl9ub2Rl
LCAwLCAwKTsKPiAgICAgICAgIGlmIChJU19FUlIocGFuZWxfYnJpZGdlKSkKPiBAQCAtNTA5LDcg
KzUxMCw2IEBAIHN0YXRpYyBpbnQgcHM4NjIyX3Byb2JlKHN0cnVjdCBpMmNfY2xpZW50ICpjbGll
bnQpCj4gICAgICAgICAgICAgICAgIHBzODYyMi0+YmwtPnByb3BzLmJyaWdodG5lc3MgPSBQUzg2
MjJfTUFYX0JSSUdIVE5FU1M7Cj4gICAgICAgICB9Cj4KPiAtICAgICAgIHBzODYyMi0+YnJpZGdl
LmZ1bmNzID0gJnBzODYyMl9icmlkZ2VfZnVuY3M7Cj4gICAgICAgICBwczg2MjItPmJyaWRnZS50
eXBlID0gRFJNX01PREVfQ09OTkVDVE9SX0xWRFM7Cj4gICAgICAgICBwczg2MjItPmJyaWRnZS5v
Zl9ub2RlID0gZGV2LT5vZl9ub2RlOwo+ICAgICAgICAgZHJtX2JyaWRnZV9hZGQoJnBzODYyMi0+
YnJpZGdlKTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9wYXJhZGUtcHM4
NjQwLmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3BhcmFkZS1wczg2NDAuYwo+IGluZGV4IDI0
MjJmZjY4YzEwNDJiZDhlYWE2ODIxZmYzODdkNGZhYWQ0N2M1NTAuLjgyNTc3N2E1NzU4ZjY3YjVi
ZGFhNWY5ZGUyZTBlNGY1OTdmMGY3YTQgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2Jy
aWRnZS9wYXJhZGUtcHM4NjQwLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3BhcmFk
ZS1wczg2NDAuYwo+IEBAIC02MzYsOSArNjM2LDEwIEBAIHN0YXRpYyBpbnQgcHM4NjQwX3Byb2Jl
KHN0cnVjdCBpMmNfY2xpZW50ICpjbGllbnQpCj4gICAgICAgICBpbnQgcmV0Owo+ICAgICAgICAg
dTMyIGk7Cj4KPiAtICAgICAgIHBzX2JyaWRnZSA9IGRldm1fa3phbGxvYyhkZXYsIHNpemVvZigq
cHNfYnJpZGdlKSwgR0ZQX0tFUk5FTCk7Cj4gLSAgICAgICBpZiAoIXBzX2JyaWRnZSkKPiAtICAg
ICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gKyAgICAgICBwc19icmlkZ2UgPSBkZXZtX2Ry
bV9icmlkZ2VfYWxsb2MoZGV2LCBzdHJ1Y3QgcHM4NjQwLCBicmlkZ2UsCj4gKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJnBzODY0MF9icmlkZ2VfZnVuY3MpOwo+ICsg
ICAgICAgaWYgKElTX0VSUihwc19icmlkZ2UpKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gUFRS
X0VSUihwc19icmlkZ2UpOwo+Cj4gICAgICAgICBtdXRleF9pbml0KCZwc19icmlkZ2UtPmF1eF9s
b2NrKTsKPgo+IEBAIC02NjIsNyArNjYzLDYgQEAgc3RhdGljIGludCBwczg2NDBfcHJvYmUoc3Ry
dWN0IGkyY19jbGllbnQgKmNsaWVudCkKPiAgICAgICAgIGlmIChJU19FUlIocHNfYnJpZGdlLT5n
cGlvX3Jlc2V0KSkKPiAgICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9FUlIocHNfYnJpZGdlLT5n
cGlvX3Jlc2V0KTsKPgo+IC0gICAgICAgcHNfYnJpZGdlLT5icmlkZ2UuZnVuY3MgPSAmcHM4NjQw
X2JyaWRnZV9mdW5jczsKPiAgICAgICAgIHBzX2JyaWRnZS0+YnJpZGdlLm9mX25vZGUgPSBkZXYt
Pm9mX25vZGU7Cj4gICAgICAgICBwc19icmlkZ2UtPmJyaWRnZS50eXBlID0gRFJNX01PREVfQ09O
TkVDVE9SX2VEUDsKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3NpaTky
MzQuYyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2Uvc2lpOTIzNC5jCj4gaW5kZXggY2Q3ODM3Yzlh
NmUwMGI1NzJhM2ZiNjVlNWUwYzlmYTg4NDU1NWE3My4uYmIxYmVkMDNlYjViN2FlNjdmNzUyYzBk
NTkzZGM1NDEzMWU5ZTM3MCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3Np
aTkyMzQuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2Uvc2lpOTIzNC5jCj4gQEAgLTg4
OCw5ICs4ODgsMTAgQEAgc3RhdGljIGludCBzaWk5MjM0X3Byb2JlKHN0cnVjdCBpMmNfY2xpZW50
ICpjbGllbnQpCj4gICAgICAgICBzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmY2xpZW50LT5kZXY7Cj4g
ICAgICAgICBpbnQgcmV0Owo+Cj4gLSAgICAgICBjdHggPSBkZXZtX2t6YWxsb2MoZGV2LCBzaXpl
b2YoKmN0eCksIEdGUF9LRVJORUwpOwo+IC0gICAgICAgaWYgKCFjdHgpCj4gLSAgICAgICAgICAg
ICAgIHJldHVybiAtRU5PTUVNOwo+ICsgICAgICAgY3R4ID0gZGV2bV9kcm1fYnJpZGdlX2FsbG9j
KGRldiwgc3RydWN0IHNpaTkyMzQsIGJyaWRnZSwKPiArICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAmc2lpOTIzNF9icmlkZ2VfZnVuY3MpOwo+ICsgICAgICAgaWYgKElTX0VSUihj
dHgpKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gUFRSX0VSUihjdHgpOwo+Cj4gICAgICAgICBj
dHgtPmRldiA9IGRldjsKPiAgICAgICAgIG11dGV4X2luaXQoJmN0eC0+bG9jayk7Cj4gQEAgLTky
MSw3ICs5MjIsNiBAQCBzdGF0aWMgaW50IHNpaTkyMzRfcHJvYmUoc3RydWN0IGkyY19jbGllbnQg
KmNsaWVudCkKPgo+ICAgICAgICAgaTJjX3NldF9jbGllbnRkYXRhKGNsaWVudCwgY3R4KTsKPgo+
IC0gICAgICAgY3R4LT5icmlkZ2UuZnVuY3MgPSAmc2lpOTIzNF9icmlkZ2VfZnVuY3M7Cj4gICAg
ICAgICBjdHgtPmJyaWRnZS5vZl9ub2RlID0gZGV2LT5vZl9ub2RlOwo+ICAgICAgICAgZHJtX2Jy
aWRnZV9hZGQoJmN0eC0+YnJpZGdlKTsKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
YnJpZGdlL3NpbC1zaWk4NjIwLmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3NpbC1zaWk4NjIw
LmMKPiBpbmRleCAzYWY2NTBkYzkyYTE2MTJjYTg4ZmUzNzgzMTk1MTk1NDZiNzk5MDFmLi45ZTQ4
YWQzOWUxY2M5OTU3NjhkNzY3YzI3YjgxMTZkN2JhYTJmNDdlIDEwMDY0NAo+IC0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9icmlkZ2Uvc2lsLXNpaTg2MjAuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9i
cmlkZ2Uvc2lsLXNpaTg2MjAuYwo+IEBAIC0yMjkxLDkgKzIyOTEsMTAgQEAgc3RhdGljIGludCBz
aWk4NjIwX3Byb2JlKHN0cnVjdCBpMmNfY2xpZW50ICpjbGllbnQpCj4gICAgICAgICBzdHJ1Y3Qg
c2lpODYyMCAqY3R4Owo+ICAgICAgICAgaW50IHJldDsKPgo+IC0gICAgICAgY3R4ID0gZGV2bV9r
emFsbG9jKGRldiwgc2l6ZW9mKCpjdHgpLCBHRlBfS0VSTkVMKTsKPiAtICAgICAgIGlmICghY3R4
KQo+IC0gICAgICAgICAgICAgICByZXR1cm4gLUVOT01FTTsKPiArICAgICAgIGN0eCA9IGRldm1f
ZHJtX2JyaWRnZV9hbGxvYyhkZXYsIHN0cnVjdCBzaWk4NjIwLCBicmlkZ2UsCj4gKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgJnNpaTg2MjBfYnJpZGdlX2Z1bmNzKTsKPiArICAg
ICAgIGlmIChJU19FUlIoY3R4KSkKPiArICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9FUlIoY3R4
KTsKPgo+ICAgICAgICAgY3R4LT5kZXYgPSBkZXY7Cj4gICAgICAgICBtdXRleF9pbml0KCZjdHgt
PmxvY2spOwo+IEBAIC0yMzM2LDcgKzIzMzcsNiBAQCBzdGF0aWMgaW50IHNpaTg2MjBfcHJvYmUo
c3RydWN0IGkyY19jbGllbnQgKmNsaWVudCkKPgo+ICAgICAgICAgaTJjX3NldF9jbGllbnRkYXRh
KGNsaWVudCwgY3R4KTsKPgo+IC0gICAgICAgY3R4LT5icmlkZ2UuZnVuY3MgPSAmc2lpODYyMF9i
cmlkZ2VfZnVuY3M7Cj4gICAgICAgICBjdHgtPmJyaWRnZS5vZl9ub2RlID0gZGV2LT5vZl9ub2Rl
Owo+ICAgICAgICAgZHJtX2JyaWRnZV9hZGQoJmN0eC0+YnJpZGdlKTsKPgo+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3NpbXBsZS1icmlkZ2UuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9icmlkZ2Uvc2ltcGxlLWJyaWRnZS5jCj4gaW5kZXggNzBkYjViOTllNWJiODRmMDk5ZWM1NGNm
NjJhYmJkYTUzNDc1MzExZC4uYzY2YmQ5MTNlMzNhZTMxMWE5ODAyNTEzNDgxOTk4ODllZjViOTlh
ZiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3NpbXBsZS1icmlkZ2UuYwo+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2Uvc2ltcGxlLWJyaWRnZS5jCj4gQEAgLTE2OCw5
ICsxNjgsMTAgQEAgc3RhdGljIGludCBzaW1wbGVfYnJpZGdlX3Byb2JlKHN0cnVjdCBwbGF0Zm9y
bV9kZXZpY2UgKnBkZXYpCj4gICAgICAgICBzdHJ1Y3Qgc2ltcGxlX2JyaWRnZSAqc2JyaWRnZTsK
PiAgICAgICAgIHN0cnVjdCBkZXZpY2Vfbm9kZSAqcmVtb3RlOwo+Cj4gLSAgICAgICBzYnJpZGdl
ID0gZGV2bV9remFsbG9jKCZwZGV2LT5kZXYsIHNpemVvZigqc2JyaWRnZSksIEdGUF9LRVJORUwp
Owo+IC0gICAgICAgaWYgKCFzYnJpZGdlKQo+IC0gICAgICAgICAgICAgICByZXR1cm4gLUVOT01F
TTsKPiArICAgICAgIHNicmlkZ2UgPSBkZXZtX2RybV9icmlkZ2VfYWxsb2MoJnBkZXYtPmRldiwg
c3RydWN0IHNpbXBsZV9icmlkZ2UsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIGJyaWRnZSwgJnNpbXBsZV9icmlkZ2VfYnJpZGdlX2Z1bmNzKTsKPiArICAgICAgIGlm
IChJU19FUlIoc2JyaWRnZSkpCj4gKyAgICAgICAgICAgICAgIHJldHVybiBQVFJfRVJSKHNicmlk
Z2UpOwo+Cj4gICAgICAgICBzYnJpZGdlLT5pbmZvID0gb2ZfZGV2aWNlX2dldF9tYXRjaF9kYXRh
KCZwZGV2LT5kZXYpOwo+Cj4gQEAgLTIwNCw3ICsyMDUsNiBAQCBzdGF0aWMgaW50IHNpbXBsZV9i
cmlkZ2VfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKPiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIlVuYWJsZSB0byByZXRyaWV2ZSBlbmFibGUgR1BJT1xu
Iik7Cj4KPiAgICAgICAgIC8qIFJlZ2lzdGVyIHRoZSBicmlkZ2UuICovCj4gLSAgICAgICBzYnJp
ZGdlLT5icmlkZ2UuZnVuY3MgPSAmc2ltcGxlX2JyaWRnZV9icmlkZ2VfZnVuY3M7Cj4gICAgICAg
ICBzYnJpZGdlLT5icmlkZ2Uub2Zfbm9kZSA9IHBkZXYtPmRldi5vZl9ub2RlOwo+ICAgICAgICAg
c2JyaWRnZS0+YnJpZGdlLnRpbWluZ3MgPSBzYnJpZGdlLT5pbmZvLT50aW1pbmdzOwo+Cj4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2Uvc3lub3BzeXMvZHctaGRtaS1xcC5jIGIv
ZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9zeW5vcHN5cy9kdy1oZG1pLXFwLmMKPiBpbmRleCA1ZTVm
OGMyZjk1YmUxZjVjNDYzM2YxMDkzYjE3YTAwZjk0MjViYjM3Li45NGRkZGFmNDliM2MxZmExMTVm
Mzc2ZTVjZjFjMmY1MTVmMjU5NGVhIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9icmlk
Z2Uvc3lub3BzeXMvZHctaGRtaS1xcC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9z
eW5vcHN5cy9kdy1oZG1pLXFwLmMKPiBAQCAtMTA0NSw5ICsxMDQ1LDEwIEBAIHN0cnVjdCBkd19o
ZG1pX3FwICpkd19oZG1pX3FwX2JpbmQoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldiwKPiAg
ICAgICAgICAgICAgICAgcmV0dXJuIEVSUl9QVFIoLUVOT0RFVik7Cj4gICAgICAgICB9Cj4KPiAt
ICAgICAgIGhkbWkgPSBkZXZtX2t6YWxsb2MoZGV2LCBzaXplb2YoKmhkbWkpLCBHRlBfS0VSTkVM
KTsKPiAtICAgICAgIGlmICghaGRtaSkKPiAtICAgICAgICAgICAgICAgcmV0dXJuIEVSUl9QVFIo
LUVOT01FTSk7Cj4gKyAgICAgICBoZG1pID0gZGV2bV9kcm1fYnJpZGdlX2FsbG9jKGRldiwgc3Ry
dWN0IGR3X2hkbWlfcXAsIGJyaWRnZSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgJmR3X2hkbWlfcXBfYnJpZGdlX2Z1bmNzKTsKPiArICAgICAgIGlmIChJU19FUlIoaGRt
aSkpCj4gKyAgICAgICAgICAgICAgIHJldHVybiBFUlJfQ0FTVChoZG1pKTsKPgo+ICAgICAgICAg
aGRtaS0+ZGV2ID0gZGV2Owo+Cj4gQEAgLTEwNzMsNyArMTA3NCw2IEBAIHN0cnVjdCBkd19oZG1p
X3FwICpkd19oZG1pX3FwX2JpbmQoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldiwKPiAgICAg
ICAgICAgICAgICAgcmV0dXJuIEVSUl9QVFIocmV0KTsKPgo+ICAgICAgICAgaGRtaS0+YnJpZGdl
LmRyaXZlcl9wcml2YXRlID0gaGRtaTsKPiAtICAgICAgIGhkbWktPmJyaWRnZS5mdW5jcyA9ICZk
d19oZG1pX3FwX2JyaWRnZV9mdW5jczsKPiAgICAgICAgIGhkbWktPmJyaWRnZS5vcHMgPSBEUk1f
QlJJREdFX09QX0RFVEVDVCB8Cj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRFJNX0JSSURH
RV9PUF9FRElEIHwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEUk1fQlJJREdFX09QX0hE
TUkgfAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3N5bm9wc3lzL2R3LW1p
cGktZHNpLmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3N5bm9wc3lzL2R3LW1pcGktZHNpLmMK
PiBpbmRleCBiMDhhZGE5MjBhNTAxZDZhNjJmMzk1ODE5NDRhODcwMTlmNWU1YzE1Li5jMGRjMGYy
OTc2YjkyZjVhNGViMjQxNmRlOGY1MTBlYzcyMTRlNTYyIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9icmlkZ2Uvc3lub3BzeXMvZHctbWlwaS1kc2kuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1
L2RybS9icmlkZ2Uvc3lub3BzeXMvZHctbWlwaS1kc2kuYwo+IEBAIC0xMTk0LDkgKzExOTQsMTAg
QEAgX19kd19taXBpX2RzaV9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2LAo+ICAg
ICAgICAgc3RydWN0IGR3X21pcGlfZHNpICpkc2k7Cj4gICAgICAgICBpbnQgcmV0Owo+Cj4gLSAg
ICAgICBkc2kgPSBkZXZtX2t6YWxsb2MoZGV2LCBzaXplb2YoKmRzaSksIEdGUF9LRVJORUwpOwo+
IC0gICAgICAgaWYgKCFkc2kpCj4gLSAgICAgICAgICAgICAgIHJldHVybiBFUlJfUFRSKC1FTk9N
RU0pOwo+ICsgICAgICAgZHNpID0gZGV2bV9kcm1fYnJpZGdlX2FsbG9jKGRldiwgc3RydWN0IGR3
X21pcGlfZHNpLCBicmlkZ2UsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
JmR3X21pcGlfZHNpX2JyaWRnZV9mdW5jcyk7Cj4gKyAgICAgICBpZiAoSVNfRVJSKGRzaSkpCj4g
KyAgICAgICAgICAgICAgIHJldHVybiBFUlJfQ0FTVChkc2kpOwo+Cj4gICAgICAgICBkc2ktPmRl
diA9IGRldjsKPiAgICAgICAgIGRzaS0+cGxhdF9kYXRhID0gcGxhdF9kYXRhOwo+IEBAIC0xMjY1
LDcgKzEyNjYsNiBAQCBfX2R3X21pcGlfZHNpX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2Ug
KnBkZXYsCj4gICAgICAgICB9Cj4KPiAgICAgICAgIGRzaS0+YnJpZGdlLmRyaXZlcl9wcml2YXRl
ID0gZHNpOwo+IC0gICAgICAgZHNpLT5icmlkZ2UuZnVuY3MgPSAmZHdfbWlwaV9kc2lfYnJpZGdl
X2Z1bmNzOwo+ICAgICAgICAgZHNpLT5icmlkZ2Uub2Zfbm9kZSA9IHBkZXYtPmRldi5vZl9ub2Rl
Owo+Cj4gICAgICAgICByZXR1cm4gZHNpOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
YnJpZGdlL3N5bm9wc3lzL2R3LW1pcGktZHNpMi5jIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9z
eW5vcHN5cy9kdy1taXBpLWRzaTIuYwo+IGluZGV4IGM3NmY1ZjJlNzRkMTRiZDM3MmY5NjljNmM3
ODMyYWE1N2Y4MDc3MmIuLmZjOTFhY2E5NWQxMjZhZTM3NzI2Y2NkOTM5ZmRjODY1NzE1MWNhODEg
MTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9zeW5vcHN5cy9kdy1taXBpLWRz
aTIuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2Uvc3lub3BzeXMvZHctbWlwaS1kc2ky
LmMKPiBAQCAtOTE0LDkgKzkxNCwxMCBAQCBfX2R3X21pcGlfZHNpMl9wcm9iZShzdHJ1Y3QgcGxh
dGZvcm1fZGV2aWNlICpwZGV2LAo+ICAgICAgICAgc3RydWN0IGR3X21pcGlfZHNpMiAqZHNpMjsK
PiAgICAgICAgIGludCByZXQ7Cj4KPiAtICAgICAgIGRzaTIgPSBkZXZtX2t6YWxsb2MoZGV2LCBz
aXplb2YoKmRzaTIpLCBHRlBfS0VSTkVMKTsKPiAtICAgICAgIGlmICghZHNpMikKPiAtICAgICAg
ICAgICAgICAgcmV0dXJuIEVSUl9QVFIoLUVOT01FTSk7Cj4gKyAgICAgICBkc2kyID0gZGV2bV9k
cm1fYnJpZGdlX2FsbG9jKGRldiwgc3RydWN0IGR3X21pcGlfZHNpMiwgYnJpZGdlLAo+ICsgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmZHdfbWlwaV9kc2kyX2JyaWRnZV9mdW5j
cyk7Cj4gKyAgICAgICBpZiAoSVNfRVJSKGRzaTIpKQo+ICsgICAgICAgICAgICAgICByZXR1cm4g
RVJSX0NBU1QoZHNpMik7Cj4KPiAgICAgICAgIGRzaTItPmRldiA9IGRldjsKPiAgICAgICAgIGRz
aTItPnBsYXRfZGF0YSA9IHBsYXRfZGF0YTsKPiBAQCAtOTgxLDcgKzk4Miw2IEBAIF9fZHdfbWlw
aV9kc2kyX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYsCj4gICAgICAgICB9Cj4K
PiAgICAgICAgIGRzaTItPmJyaWRnZS5kcml2ZXJfcHJpdmF0ZSA9IGRzaTI7Cj4gLSAgICAgICBk
c2kyLT5icmlkZ2UuZnVuY3MgPSAmZHdfbWlwaV9kc2kyX2JyaWRnZV9mdW5jczsKPiAgICAgICAg
IGRzaTItPmJyaWRnZS5vZl9ub2RlID0gcGRldi0+ZGV2Lm9mX25vZGU7Cj4KPiAgICAgICAgIHJl
dHVybiBkc2kyOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3RjMzU4NzYy
LmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3RjMzU4NzYyLmMKPiBpbmRleCBlZGYwMTQ3NmYy
ZWY2ZTA1ZWYyYzE0NGZmNDQ2N2U3ZjZiYWJjNGM2Li45OGRmM2U2NjdkNGFhYzQ4YzE5YzgyYzhi
YzllMTE2YjM2YTRjZWM4IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvdGMz
NTg3NjIuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvdGMzNTg3NjIuYwo+IEBAIC0y
NjUsOSArMjY1LDEwIEBAIHN0YXRpYyBpbnQgdGMzNTg3NjJfcHJvYmUoc3RydWN0IG1pcGlfZHNp
X2RldmljZSAqZHNpKQo+ICAgICAgICAgc3RydWN0IHRjMzU4NzYyICpjdHg7Cj4gICAgICAgICBp
bnQgcmV0Owo+Cj4gLSAgICAgICBjdHggPSBkZXZtX2t6YWxsb2MoZGV2LCBzaXplb2Yoc3RydWN0
IHRjMzU4NzYyKSwgR0ZQX0tFUk5FTCk7Cj4gLSAgICAgICBpZiAoIWN0eCkKPiAtICAgICAgICAg
ICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gKyAgICAgICBjdHggPSBkZXZtX2RybV9icmlkZ2VfYWxs
b2MoZGV2LCBzdHJ1Y3QgdGMzNTg3NjIsIGJyaWRnZSwKPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAmdGMzNTg3NjJfYnJpZGdlX2Z1bmNzKTsKPiArICAgICAgIGlmIChJU19F
UlIoY3R4KSkKPiArICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9FUlIoY3R4KTsKPgo+ICAgICAg
ICAgbWlwaV9kc2lfc2V0X2RydmRhdGEoZHNpLCBjdHgpOwo+Cj4gQEAgLTI4OCw3ICsyODksNiBA
QCBzdGF0aWMgaW50IHRjMzU4NzYyX3Byb2JlKHN0cnVjdCBtaXBpX2RzaV9kZXZpY2UgKmRzaSkK
PiAgICAgICAgIGlmIChyZXQgPCAwKQo+ICAgICAgICAgICAgICAgICByZXR1cm4gcmV0Owo+Cj4g
LSAgICAgICBjdHgtPmJyaWRnZS5mdW5jcyA9ICZ0YzM1ODc2Ml9icmlkZ2VfZnVuY3M7Cj4gICAg
ICAgICBjdHgtPmJyaWRnZS50eXBlID0gRFJNX01PREVfQ09OTkVDVE9SX0RQSTsKPiAgICAgICAg
IGN0eC0+YnJpZGdlLm9mX25vZGUgPSBkZXYtPm9mX25vZGU7Cj4gICAgICAgICBjdHgtPmJyaWRn
ZS5wcmVfZW5hYmxlX3ByZXZfZmlyc3QgPSB0cnVlOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vYnJpZGdlL3RjMzU4NzY0LmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3RjMzU4NzY0
LmMKPiBpbmRleCAzZjc2Yzg5MGZhZDlmZmE1MGRjMDJmMjg5YTM3Mzc4MzMyODMwNTE2Li4wODRl
OWQ4OThlMjI2ZWNmYTYxOGEzYzkxYzA3ODZkMmY4M2ZhNTFiIDEwMDY0NAo+IC0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9icmlkZ2UvdGMzNTg3NjQuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9icmlk
Z2UvdGMzNTg3NjQuYwo+IEBAIC0zNDcsOSArMzQ3LDEwIEBAIHN0YXRpYyBpbnQgdGMzNTg3NjRf
cHJvYmUoc3RydWN0IG1pcGlfZHNpX2RldmljZSAqZHNpKQo+ICAgICAgICAgc3RydWN0IHRjMzU4
NzY0ICpjdHg7Cj4gICAgICAgICBpbnQgcmV0Owo+Cj4gLSAgICAgICBjdHggPSBkZXZtX2t6YWxs
b2MoZGV2LCBzaXplb2Yoc3RydWN0IHRjMzU4NzY0KSwgR0ZQX0tFUk5FTCk7Cj4gLSAgICAgICBp
ZiAoIWN0eCkKPiAtICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gKyAgICAgICBjdHgg
PSBkZXZtX2RybV9icmlkZ2VfYWxsb2MoZGV2LCBzdHJ1Y3QgdGMzNTg3NjQsIGJyaWRnZSwKPiAr
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmdGMzNTg3NjRfYnJpZGdlX2Z1bmNz
KTsKPiArICAgICAgIGlmIChJU19FUlIoY3R4KSkKPiArICAgICAgICAgICAgICAgcmV0dXJuIFBU
Ul9FUlIoY3R4KTsKPgo+ICAgICAgICAgbWlwaV9kc2lfc2V0X2RydmRhdGEoZHNpLCBjdHgpOwo+
Cj4gQEAgLTM2OCw3ICszNjksNiBAQCBzdGF0aWMgaW50IHRjMzU4NzY0X3Byb2JlKHN0cnVjdCBt
aXBpX2RzaV9kZXZpY2UgKmRzaSkKPiAgICAgICAgIGlmIChyZXQgPCAwKQo+ICAgICAgICAgICAg
ICAgICByZXR1cm4gcmV0Owo+Cj4gLSAgICAgICBjdHgtPmJyaWRnZS5mdW5jcyA9ICZ0YzM1ODc2
NF9icmlkZ2VfZnVuY3M7Cj4gICAgICAgICBjdHgtPmJyaWRnZS5vZl9ub2RlID0gZGV2LT5vZl9u
b2RlOwo+ICAgICAgICAgY3R4LT5icmlkZ2UucHJlX2VuYWJsZV9wcmV2X2ZpcnN0ID0gdHJ1ZTsK
Pgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3RjMzU4NzY4LmMgYi9kcml2
ZXJzL2dwdS9kcm0vYnJpZGdlL3RjMzU4NzY4LmMKPiBpbmRleCAwNjNmMjE3YTE3YjZjZjMyZTk3
OTNiOGE5NmE1YWM2MTI4NTg0MDk4Li5mYmRjNDRlMTYyMjkzZjJmOWIwOTBiYzk1NjYwNDE4NGEy
YTQwNmIyIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvdGMzNTg3NjguYwo+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvdGMzNTg3NjguYwo+IEBAIC0xMjg3LDkgKzEy
ODcsMTAgQEAgc3RhdGljIGludCB0YzM1ODc2OF9pMmNfcHJvYmUoc3RydWN0IGkyY19jbGllbnQg
KmNsaWVudCkKPiAgICAgICAgIGlmICghbnApCj4gICAgICAgICAgICAgICAgIHJldHVybiAtRU5P
REVWOwo+Cj4gLSAgICAgICBwcml2ID0gZGV2bV9remFsbG9jKGRldiwgc2l6ZW9mKCpwcml2KSwg
R0ZQX0tFUk5FTCk7Cj4gLSAgICAgICBpZiAoIXByaXYpCj4gLSAgICAgICAgICAgICAgIHJldHVy
biAtRU5PTUVNOwo+ICsgICAgICAgcHJpdiA9IGRldm1fZHJtX2JyaWRnZV9hbGxvYyhkZXYsIHN0
cnVjdCB0YzM1ODc2OF9wcml2LCBicmlkZ2UsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICZ0YzM1ODc2OF9icmlkZ2VfZnVuY3MpOwo+ICsgICAgICAgaWYgKElTX0VSUihw
cml2KSkKPiArICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9FUlIocHJpdik7Cj4KPiAgICAgICAg
IGRldl9zZXRfZHJ2ZGF0YShkZXYsIHByaXYpOwo+ICAgICAgICAgcHJpdi0+ZGV2ID0gZGV2Owo+
IEBAIC0xMzIxLDcgKzEzMjIsNiBAQCBzdGF0aWMgaW50IHRjMzU4NzY4X2kyY19wcm9iZShzdHJ1
Y3QgaTJjX2NsaWVudCAqY2xpZW50KQo+ICAgICAgICAgcHJpdi0+ZHNpX2hvc3QuZGV2ID0gZGV2
Owo+ICAgICAgICAgcHJpdi0+ZHNpX2hvc3Qub3BzID0gJnRjMzU4NzY4X2RzaV9ob3N0X29wczsK
Pgo+IC0gICAgICAgcHJpdi0+YnJpZGdlLmZ1bmNzID0gJnRjMzU4NzY4X2JyaWRnZV9mdW5jczsK
PiAgICAgICAgIHByaXYtPmJyaWRnZS50aW1pbmdzID0gJmRlZmF1bHRfdGMzNTg3NjhfdGltaW5n
czsKPiAgICAgICAgIHByaXYtPmJyaWRnZS5vZl9ub2RlID0gbnA7Cj4KPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2JyaWRnZS90YzM1ODc3NS5jIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRn
ZS90YzM1ODc3NS5jCj4gaW5kZXggMWIxMGU2ZWUxNzI0ZmZiNGJiODk0NmY4NmQyZjE4ZTUzNDI4
MzgxYS4uMzY2YjEyZGIwZTdjYmZiNDViM2RmYzJhODNhN2FmNTgwY2ZkZTQxZiAxMDA2NDQKPiAt
LS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3RjMzU4Nzc1LmMKPiArKysgYi9kcml2ZXJzL2dw
dS9kcm0vYnJpZGdlL3RjMzU4Nzc1LmMKPiBAQCAtNjU5LDkgKzY1OSwxMCBAQCBzdGF0aWMgaW50
IHRjX3Byb2JlKHN0cnVjdCBpMmNfY2xpZW50ICpjbGllbnQpCj4gICAgICAgICBzdHJ1Y3QgdGNf
ZGF0YSAqdGM7Cj4gICAgICAgICBpbnQgcmV0Owo+Cj4gLSAgICAgICB0YyA9IGRldm1fa3phbGxv
YyhkZXYsIHNpemVvZigqdGMpLCBHRlBfS0VSTkVMKTsKPiAtICAgICAgIGlmICghdGMpCj4gLSAg
ICAgICAgICAgICAgIHJldHVybiAtRU5PTUVNOwo+ICsgICAgICAgdGMgPSBkZXZtX2RybV9icmlk
Z2VfYWxsb2MoZGV2LCBzdHJ1Y3QgdGNfZGF0YSwgYnJpZGdlLAo+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgJnRjX2JyaWRnZV9mdW5jcyk7Cj4gKyAgICAgICBpZiAoSVNfRVJS
KHRjKSkKPiArICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9FUlIodGMpOwo+Cj4gICAgICAgICB0
Yy0+ZGV2ID0gZGV2Owo+ICAgICAgICAgdGMtPmkyYyA9IGNsaWVudDsKPiBAQCAtNzAxLDcgKzcw
Miw2IEBAIHN0YXRpYyBpbnQgdGNfcHJvYmUoc3RydWN0IGkyY19jbGllbnQgKmNsaWVudCkKPiAg
ICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKPiAgICAgICAgIH0KPgo+IC0gICAgICAgdGMtPmJy
aWRnZS5mdW5jcyA9ICZ0Y19icmlkZ2VfZnVuY3M7Cj4gICAgICAgICB0Yy0+YnJpZGdlLm9mX25v
ZGUgPSBkZXYtPm9mX25vZGU7Cj4gICAgICAgICB0Yy0+YnJpZGdlLnByZV9lbmFibGVfcHJldl9m
aXJzdCA9IHRydWU7Cj4gICAgICAgICBkcm1fYnJpZGdlX2FkZCgmdGMtPmJyaWRnZSk7Cj4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvdGhjNjNsdmQxMDI0LmMgYi9kcml2ZXJz
L2dwdS9kcm0vYnJpZGdlL3RoYzYzbHZkMTAyNC5jCj4gaW5kZXggZTJmYzc4YWRlYmNmMjJmMGQ4
Y2RiNDg0MDc4ZTM3Yjc0OGI3NzZjNi4uMmNiN2NkMGMwNjA4MjQyNTZiYmZhNTExZjgzM2NjMDA0
MzdkMzE4YiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3RoYzYzbHZkMTAy
NC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS90aGM2M2x2ZDEwMjQuYwo+IEBAIC0x
ODEsOSArMTgxLDEwIEBAIHN0YXRpYyBpbnQgdGhjNjNfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2Rl
dmljZSAqcGRldikKPiAgICAgICAgIHN0cnVjdCB0aGM2M19kZXYgKnRoYzYzOwo+ICAgICAgICAg
aW50IHJldDsKPgo+IC0gICAgICAgdGhjNjMgPSBkZXZtX2t6YWxsb2MoJnBkZXYtPmRldiwgc2l6
ZW9mKCp0aGM2MyksIEdGUF9LRVJORUwpOwo+IC0gICAgICAgaWYgKCF0aGM2MykKPiAtICAgICAg
ICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gKyAgICAgICB0aGM2MyA9IGRldm1fZHJtX2JyaWRn
ZV9hbGxvYygmcGRldi0+ZGV2LCBzdHJ1Y3QgdGhjNjNfZGV2LCBicmlkZ2UsCj4gKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmdGhjNjNfYnJpZGdlX2Z1bmMpOwo+ICsgICAg
ICAgaWYgKElTX0VSUih0aGM2MykpCj4gKyAgICAgICAgICAgICAgIHJldHVybiBQVFJfRVJSKHRo
YzYzKTsKPgo+ICAgICAgICAgdGhjNjMtPmRldiA9ICZwZGV2LT5kZXY7Cj4gICAgICAgICBwbGF0
Zm9ybV9zZXRfZHJ2ZGF0YShwZGV2LCB0aGM2Myk7Cj4gQEAgLTIwOCw3ICsyMDksNiBAQCBzdGF0
aWMgaW50IHRoYzYzX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCj4KPiAgICAg
ICAgIHRoYzYzLT5icmlkZ2UuZHJpdmVyX3ByaXZhdGUgPSB0aGM2MzsKPiAgICAgICAgIHRoYzYz
LT5icmlkZ2Uub2Zfbm9kZSA9IHBkZXYtPmRldi5vZl9ub2RlOwo+IC0gICAgICAgdGhjNjMtPmJy
aWRnZS5mdW5jcyA9ICZ0aGM2M19icmlkZ2VfZnVuYzsKPiAgICAgICAgIHRoYzYzLT5icmlkZ2Uu
dGltaW5ncyA9ICZ0aGM2My0+dGltaW5nczsKPgo+ICAgICAgICAgZHJtX2JyaWRnZV9hZGQoJnRo
YzYzLT5icmlkZ2UpOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3RpLWRs
cGMzNDMzLmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3RpLWRscGMzNDMzLmMKPiBpbmRleCA0
NzYzOGQxYzk2ZWM1YWQ5OTk2MDRjOGM3ZTg4MzlmZjg1OTM2ZDk4Li5iMDdmN2M5ZDU4OTA5Njdh
NmRiN2JiMDFhOTY5NWFiYzgwOWJhYmJkIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9i
cmlkZ2UvdGktZGxwYzM0MzMuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvdGktZGxw
YzM0MzMuYwo+IEBAIC0zNDgsOSArMzQ4LDEwIEBAIHN0YXRpYyBpbnQgZGxwYzM0MzNfcHJvYmUo
c3RydWN0IGkyY19jbGllbnQgKmNsaWVudCkKPiAgICAgICAgIHN0cnVjdCBkbHBjICpkbHBjOwo+
ICAgICAgICAgaW50IHJldDsKPgo+IC0gICAgICAgZGxwYyA9IGRldm1fa3phbGxvYyhkZXYsIHNp
emVvZigqZGxwYyksIEdGUF9LRVJORUwpOwo+IC0gICAgICAgaWYgKCFkbHBjKQo+IC0gICAgICAg
ICAgICAgICByZXR1cm4gLUVOT01FTTsKPiArICAgICAgIGRscGMgPSBkZXZtX2RybV9icmlkZ2Vf
YWxsb2MoZGV2LCBzdHJ1Y3QgZGxwYywgYnJpZGdlLAo+ICsgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAmZGxwY19icmlkZ2VfZnVuY3MpOwo+ICsgICAgICAgaWYgKElTX0VSUihk
bHBjKSkKPiArICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9FUlIoZGxwYyk7Cj4KPiAgICAgICAg
IGRscGMtPmRldiA9IGRldjsKPgo+IEBAIC0zNjUsNyArMzY2LDYgQEAgc3RhdGljIGludCBkbHBj
MzQzM19wcm9iZShzdHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50KQo+ICAgICAgICAgZGV2X3NldF9k
cnZkYXRhKGRldiwgZGxwYyk7Cj4gICAgICAgICBpMmNfc2V0X2NsaWVudGRhdGEoY2xpZW50LCBk
bHBjKTsKPgo+IC0gICAgICAgZGxwYy0+YnJpZGdlLmZ1bmNzID0gJmRscGNfYnJpZGdlX2Z1bmNz
Owo+ICAgICAgICAgZGxwYy0+YnJpZGdlLm9mX25vZGUgPSBkZXYtPm9mX25vZGU7Cj4gICAgICAg
ICBkcm1fYnJpZGdlX2FkZCgmZGxwYy0+YnJpZGdlKTsKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vYnJpZGdlL3RpLXRkcDE1OC5jIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS90aS10
ZHAxNTguYwo+IGluZGV4IGNjYTc1NDQzZjAxMjFlMzk1MjdhNmNlY2Y3MTFlZmYyYzBkNTA3YjUu
LjI3MDUzZDAyMGRmN2M2ZmFiYmQ1Y2U2MzFiNDZjM2YyMzU4ZjEyYjIgMTAwNjQ0Cj4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2JyaWRnZS90aS10ZHAxNTguYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9icmlkZ2UvdGktdGRwMTU4LmMKPiBAQCAtNjgsOSArNjgsMTAgQEAgc3RhdGljIGludCB0ZHAx
NThfcHJvYmUoc3RydWN0IGkyY19jbGllbnQgKmNsaWVudCkKPiAgICAgICAgIHN0cnVjdCB0ZHAx
NTggKnRkcDE1ODsKPiAgICAgICAgIHN0cnVjdCBkZXZpY2UgKmRldiA9ICZjbGllbnQtPmRldjsK
Pgo+IC0gICAgICAgdGRwMTU4ID0gZGV2bV9remFsbG9jKGRldiwgc2l6ZW9mKCp0ZHAxNTgpLCBH
RlBfS0VSTkVMKTsKPiAtICAgICAgIGlmICghdGRwMTU4KQo+IC0gICAgICAgICAgICAgICByZXR1
cm4gLUVOT01FTTsKPiArICAgICAgIHRkcDE1OCA9IGRldm1fZHJtX2JyaWRnZV9hbGxvYyhkZXYs
IHN0cnVjdCB0ZHAxNTgsIGJyaWRnZSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAmdGRwMTU4X2JyaWRnZV9mdW5jcyk7Cj4gKyAgICAgICBpZiAoSVNfRVJSKHRkcDE1
OCkpCj4gKyAgICAgICAgICAgICAgIHJldHVybiBQVFJfRVJSKHRkcDE1OCk7Cj4KPiAgICAgICAg
IHRkcDE1OC0+bmV4dCA9IGRldm1fZHJtX29mX2dldF9icmlkZ2UoZGV2LCBkZXYtPm9mX25vZGUs
IDEsIDApOwo+ICAgICAgICAgaWYgKElTX0VSUih0ZHAxNTgtPm5leHQpKQo+IEBAIC04OSw3ICs5
MCw2IEBAIHN0YXRpYyBpbnQgdGRwMTU4X3Byb2JlKHN0cnVjdCBpMmNfY2xpZW50ICpjbGllbnQp
Cj4gICAgICAgICAgICAgICAgIHJldHVybiBkZXZfZXJyX3Byb2JlKGRldiwgUFRSX0VSUih0ZHAx
NTgtPmVuYWJsZSksICJlbmFibGUiKTsKPgo+ICAgICAgICAgdGRwMTU4LT5icmlkZ2Uub2Zfbm9k
ZSA9IGRldi0+b2Zfbm9kZTsKPiAtICAgICAgIHRkcDE1OC0+YnJpZGdlLmZ1bmNzID0gJnRkcDE1
OF9icmlkZ2VfZnVuY3M7Cj4gICAgICAgICB0ZHAxNTgtPmJyaWRnZS5kcml2ZXJfcHJpdmF0ZSA9
IHRkcDE1ODsKPiAgICAgICAgIHRkcDE1OC0+ZGV2ID0gZGV2Owo+Cj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9icmlkZ2UvdGktdGZwNDEwLmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdl
L3RpLXRmcDQxMC5jCj4gaW5kZXggZTE1ZDIzMmRkYmFjNTVjNmY1Zjk2NjQ3MWE2YzYzZjljMjlh
MDZjMS4uNTQ5ZThlOGVkZWI0ZjJmMjdkODZhODZmYTAzMTJlNzI3MzgwZWNkOSAxMDA2NDQKPiAt
LS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3RpLXRmcDQxMC5jCj4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL2JyaWRnZS90aS10ZnA0MTAuYwo+IEBAIC0zNDEsMTQgKzM0MSwxNCBAQCBzdGF0aWMg
aW50IHRmcDQxMF9pbml0KHN0cnVjdCBkZXZpY2UgKmRldiwgYm9vbCBpMmMpCj4gICAgICAgICAg
ICAgICAgIHJldHVybiAtRU5YSU87Cj4gICAgICAgICB9Cj4KPiAtICAgICAgIGR2aSA9IGRldm1f
a3phbGxvYyhkZXYsIHNpemVvZigqZHZpKSwgR0ZQX0tFUk5FTCk7Cj4gLSAgICAgICBpZiAoIWR2
aSkKPiAtICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gKyAgICAgICBkdmkgPSBkZXZt
X2RybV9icmlkZ2VfYWxsb2MoZGV2LCBzdHJ1Y3QgdGZwNDEwLCBicmlkZ2UsCj4gKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgJnRmcDQxMF9icmlkZ2VfZnVuY3MpOwo+ICsgICAg
ICAgaWYgKElTX0VSUihkdmkpKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gUFRSX0VSUihkdmkp
Owo+Cj4gICAgICAgICBkdmktPmRldiA9IGRldjsKPiAgICAgICAgIGRldl9zZXRfZHJ2ZGF0YShk
ZXYsIGR2aSk7Cj4KPiAtICAgICAgIGR2aS0+YnJpZGdlLmZ1bmNzID0gJnRmcDQxMF9icmlkZ2Vf
ZnVuY3M7Cj4gICAgICAgICBkdmktPmJyaWRnZS5vZl9ub2RlID0gZGV2LT5vZl9ub2RlOwo+ICAg
ICAgICAgZHZpLT5icmlkZ2UudGltaW5ncyA9ICZkdmktPnRpbWluZ3M7Cj4gICAgICAgICBkdmkt
PmJyaWRnZS50eXBlID0gRFJNX01PREVfQ09OTkVDVE9SX0RWSUQ7Cj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9icmlkZ2UvdGktdHBkMTJzMDE1LmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJp
ZGdlL3RpLXRwZDEyczAxNS5jCj4gaW5kZXggMWMyODkwNTFhNTk4N2UwYWVjNGMyODZlZjRjMDFl
ZTFhMmY5NDIxZi4uMDkxOTM2NGU4MGQxZjY5Yjk1YTk5ZTc2ZGFhOTE1YmVlMGI0M2Q0NSAxMDA2
NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3RpLXRwZDEyczAxNS5jCj4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2JyaWRnZS90aS10cGQxMnMwMTUuYwo+IEBAIC0xMTYsMTMgKzExNiwx
MyBAQCBzdGF0aWMgaW50IHRwZDEyczAxNV9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpw
ZGV2KQo+ICAgICAgICAgc3RydWN0IGdwaW9fZGVzYyAqZ3BpbzsKPiAgICAgICAgIGludCByZXQ7
Cj4KPiAtICAgICAgIHRwZCA9IGRldm1fa3phbGxvYygmcGRldi0+ZGV2LCBzaXplb2YoKnRwZCks
IEdGUF9LRVJORUwpOwo+IC0gICAgICAgaWYgKCF0cGQpCj4gLSAgICAgICAgICAgICAgIHJldHVy
biAtRU5PTUVNOwo+ICsgICAgICAgdHBkID0gZGV2bV9kcm1fYnJpZGdlX2FsbG9jKCZwZGV2LT5k
ZXYsIHN0cnVjdCB0cGQxMnMwMTVfZGV2aWNlLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGJyaWRnZSwgJnRwZDEyczAxNV9icmlkZ2VfZnVuY3MpOwo+ICsgICAgICAgaWYg
KElTX0VSUih0cGQpKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gUFRSX0VSUih0cGQpOwo+Cj4g
ICAgICAgICBwbGF0Zm9ybV9zZXRfZHJ2ZGF0YShwZGV2LCB0cGQpOwo+Cj4gLSAgICAgICB0cGQt
PmJyaWRnZS5mdW5jcyA9ICZ0cGQxMnMwMTVfYnJpZGdlX2Z1bmNzOwo+ICAgICAgICAgdHBkLT5i
cmlkZ2Uub2Zfbm9kZSA9IHBkZXYtPmRldi5vZl9ub2RlOwo+ICAgICAgICAgdHBkLT5icmlkZ2Uu
dHlwZSA9IERSTV9NT0RFX0NPTk5FQ1RPUl9IRE1JQTsKPiAgICAgICAgIHRwZC0+YnJpZGdlLm9w
cyA9IERSTV9CUklER0VfT1BfREVURUNUOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
bWVkaWF0ZWsvbXRrX2RwLmMgYi9kcml2ZXJzL2dwdS9kcm0vbWVkaWF0ZWsvbXRrX2RwLmMKPiBp
bmRleCBiMjQwOGFiYjlkNDkxYmYyNTc3M2Q0ZGNjMWJlNzNjODljZjIwOGNlLi5iYjgwNjg2YTcw
ZTE3ZGM3OWRhYTcyNGI0NGU3ODFhODFjZTRkZTg1IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9tZWRpYXRlay9tdGtfZHAuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9t
dGtfZHAuYwo+IEBAIC0yNzI1LDkgKzI3MjUsMTAgQEAgc3RhdGljIGludCBtdGtfZHBfcHJvYmUo
c3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKPiAgICAgICAgIHN0cnVjdCBkZXZpY2UgKmRl
diA9ICZwZGV2LT5kZXY7Cj4gICAgICAgICBpbnQgcmV0Owo+Cj4gLSAgICAgICBtdGtfZHAgPSBk
ZXZtX2t6YWxsb2MoZGV2LCBzaXplb2YoKm10a19kcCksIEdGUF9LRVJORUwpOwo+IC0gICAgICAg
aWYgKCFtdGtfZHApCj4gLSAgICAgICAgICAgICAgIHJldHVybiAtRU5PTUVNOwo+ICsgICAgICAg
bXRrX2RwID0gZGV2bV9kcm1fYnJpZGdlX2FsbG9jKGRldiwgc3RydWN0IG10a19kcCwgYnJpZGdl
LAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZtdGtfZHBfYnJpZGdl
X2Z1bmNzKTsKPiArICAgICAgIGlmIChJU19FUlIobXRrX2RwKSkKPiArICAgICAgICAgICAgICAg
cmV0dXJuIFBUUl9FUlIobXRrX2RwKTsKPgo+ICAgICAgICAgbXRrX2RwLT5kZXYgPSBkZXY7Cj4g
ICAgICAgICBtdGtfZHAtPmRhdGEgPSAoc3RydWN0IG10a19kcF9kYXRhICopb2ZfZGV2aWNlX2dl
dF9tYXRjaF9kYXRhKGRldik7Cj4gQEAgLTI3ODUsNyArMjc4Niw2IEBAIHN0YXRpYyBpbnQgbXRr
X2RwX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCj4gICAgICAgICBpZiAocmV0
KQo+ICAgICAgICAgICAgICAgICByZXR1cm4gcmV0Owo+Cj4gLSAgICAgICBtdGtfZHAtPmJyaWRn
ZS5mdW5jcyA9ICZtdGtfZHBfYnJpZGdlX2Z1bmNzOwo+ICAgICAgICAgbXRrX2RwLT5icmlkZ2Uu
b2Zfbm9kZSA9IGRldi0+b2Zfbm9kZTsKPiAgICAgICAgIG10a19kcC0+YnJpZGdlLnR5cGUgPSBt
dGtfZHAtPmRhdGEtPmJyaWRnZV90eXBlOwo+Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9tZWRpYXRlay9tdGtfZHBpLmMgYi9kcml2ZXJzL2dwdS9kcm0vbWVkaWF0ZWsvbXRrX2RwaS5j
Cj4gaW5kZXggMGYzYjFlZjhlNDk3MzU0ZWRhZjBhNTZlMjQ2NjBiZjM1NmZlMDFhYy4uOTY2OWJm
NGI4MGExNDA4NjE1OWFlMjQ1ZWQ1MWRkNTg3YjUxNGJmYiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJz
L2dwdS9kcm0vbWVkaWF0ZWsvbXRrX2RwaS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL21lZGlh
dGVrL210a19kcGkuYwo+IEBAIC0xMTc5LDkgKzExNzksMTAgQEAgc3RhdGljIGludCBtdGtfZHBp
X3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCj4gICAgICAgICBzdHJ1Y3QgbXRr
X2RwaSAqZHBpOwo+ICAgICAgICAgaW50IHJldDsKPgo+IC0gICAgICAgZHBpID0gZGV2bV9remFs
bG9jKGRldiwgc2l6ZW9mKCpkcGkpLCBHRlBfS0VSTkVMKTsKPiAtICAgICAgIGlmICghZHBpKQo+
IC0gICAgICAgICAgICAgICByZXR1cm4gLUVOT01FTTsKPiArICAgICAgIGRwaSA9IGRldm1fZHJt
X2JyaWRnZV9hbGxvYyhkZXYsIHN0cnVjdCBtdGtfZHBpLCBicmlkZ2UsCj4gKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgJm10a19kcGlfYnJpZGdlX2Z1bmNzKTsKPiArICAgICAg
IGlmIChJU19FUlIoZHBpKSkKPiArICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9FUlIoZHBpKTsK
Pgo+ICAgICAgICAgZHBpLT5kZXYgPSBkZXY7Cj4gICAgICAgICBkcGktPmNvbmYgPSAoc3RydWN0
IG10a19kcGlfY29uZiAqKW9mX2RldmljZV9nZXRfbWF0Y2hfZGF0YShkZXYpOwo+IEBAIC0xMjMz
LDcgKzEyMzQsNiBAQCBzdGF0aWMgaW50IG10a19kcGlfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2Rl
dmljZSAqcGRldikKPgo+ICAgICAgICAgcGxhdGZvcm1fc2V0X2RydmRhdGEocGRldiwgZHBpKTsK
Pgo+IC0gICAgICAgZHBpLT5icmlkZ2UuZnVuY3MgPSAmbXRrX2RwaV9icmlkZ2VfZnVuY3M7Cj4g
ICAgICAgICBkcGktPmJyaWRnZS5vZl9ub2RlID0gZGV2LT5vZl9ub2RlOwo+ICAgICAgICAgZHBp
LT5icmlkZ2UudHlwZSA9IERSTV9NT0RFX0NPTk5FQ1RPUl9EUEk7Cj4KPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL21lZGlhdGVrL210a19kc2kuYyBiL2RyaXZlcnMvZ3B1L2RybS9tZWRp
YXRlay9tdGtfZHNpLmMKPiBpbmRleCA0ZmUxZjM4YTNjNGI3ZmNiYmRiZjdmNmE4MmY2NmM5ZTJi
NTQ2YzAyLi5kNzcyNjA5MTgxOWM0NzYyNjk4YjQxMDYwYjNkNGQ4ZDI3OTQwMjM4IDEwMDY0NAo+
IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfZHNpLmMKPiArKysgYi9kcml2ZXJz
L2dwdS9kcm0vbWVkaWF0ZWsvbXRrX2RzaS5jCj4gQEAgLTExOTYsOSArMTE5NiwxMCBAQCBzdGF0
aWMgaW50IG10a19kc2lfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKPiAgICAg
ICAgIGludCBpcnFfbnVtOwo+ICAgICAgICAgaW50IHJldDsKPgo+IC0gICAgICAgZHNpID0gZGV2
bV9remFsbG9jKGRldiwgc2l6ZW9mKCpkc2kpLCBHRlBfS0VSTkVMKTsKPiAtICAgICAgIGlmICgh
ZHNpKQo+IC0gICAgICAgICAgICAgICByZXR1cm4gLUVOT01FTTsKPiArICAgICAgIGRzaSA9IGRl
dm1fZHJtX2JyaWRnZV9hbGxvYyhkZXYsIHN0cnVjdCBtdGtfZHNpLCBicmlkZ2UsCj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJm10a19kc2lfYnJpZGdlX2Z1bmNzKTsKPiAr
ICAgICAgIGlmIChJU19FUlIoZHNpKSkKPiArICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9FUlIo
ZHNpKTsKPgo+ICAgICAgICAgZHNpLT5kcml2ZXJfZGF0YSA9IG9mX2RldmljZV9nZXRfbWF0Y2hf
ZGF0YShkZXYpOwo+Cj4gQEAgLTEyNDYsNyArMTI0Nyw2IEBAIHN0YXRpYyBpbnQgbXRrX2RzaV9w
cm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQo+Cj4gICAgICAgICBwbGF0Zm9ybV9z
ZXRfZHJ2ZGF0YShwZGV2LCBkc2kpOwo+Cj4gLSAgICAgICBkc2ktPmJyaWRnZS5mdW5jcyA9ICZt
dGtfZHNpX2JyaWRnZV9mdW5jczsKPiAgICAgICAgIGRzaS0+YnJpZGdlLm9mX25vZGUgPSBkZXYt
Pm9mX25vZGU7Cj4gICAgICAgICBkc2ktPmJyaWRnZS50eXBlID0gRFJNX01PREVfQ09OTkVDVE9S
X0RTSTsKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbWVkaWF0ZWsvbXRrX2hkbWku
YyBiL2RyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfaGRtaS5jCj4gaW5kZXggYzlkMGMzMzVj
NTE5ZDQwNWQ0ODBmZmRjMmZlYWE1Yjg0N2MwZTFiYi4uNzZhZWNhZDExNmJhZDIzMzg0ZGI0Mzhl
ZTI2NDlmNWYwYjMxYWU1MCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vbWVkaWF0ZWsv
bXRrX2hkbWkuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfaGRtaS5jCj4g
QEAgLTE2OTAsOSArMTY5MCwxMCBAQCBzdGF0aWMgaW50IG10a19oZG1pX3Byb2JlKHN0cnVjdCBw
bGF0Zm9ybV9kZXZpY2UgKnBkZXYpCj4gICAgICAgICBzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmcGRl
di0+ZGV2Owo+ICAgICAgICAgaW50IHJldDsKPgo+IC0gICAgICAgaGRtaSA9IGRldm1fa3phbGxv
YyhkZXYsIHNpemVvZigqaGRtaSksIEdGUF9LRVJORUwpOwo+IC0gICAgICAgaWYgKCFoZG1pKQo+
IC0gICAgICAgICAgICAgICByZXR1cm4gLUVOT01FTTsKPiArICAgICAgIGhkbWkgPSBkZXZtX2Ry
bV9icmlkZ2VfYWxsb2MoZGV2LCBzdHJ1Y3QgbXRrX2hkbWksIGJyaWRnZSwKPiArICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgJm10a19oZG1pX2JyaWRnZV9mdW5jcyk7Cj4gKyAg
ICAgICBpZiAoSVNfRVJSKGhkbWkpKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gUFRSX0VSUiho
ZG1pKTsKPgo+ICAgICAgICAgaGRtaS0+ZGV2ID0gZGV2Owo+ICAgICAgICAgaGRtaS0+Y29uZiA9
IG9mX2RldmljZV9nZXRfbWF0Y2hfZGF0YShkZXYpOwo+IEBAIC0xNzE5LDcgKzE3MjAsNiBAQCBz
dGF0aWMgaW50IG10a19oZG1pX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCj4g
ICAgICAgICAgICAgICAgIHJldHVybiBkZXZfZXJyX3Byb2JlKGRldiwgcmV0LAo+ICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRmFpbGVkIHRvIHJlZ2lzdGVyIGF1ZGlvIGRy
aXZlclxuIik7Cj4KPiAtICAgICAgIGhkbWktPmJyaWRnZS5mdW5jcyA9ICZtdGtfaGRtaV9icmlk
Z2VfZnVuY3M7Cj4gICAgICAgICBoZG1pLT5icmlkZ2Uub2Zfbm9kZSA9IHBkZXYtPmRldi5vZl9u
b2RlOwo+ICAgICAgICAgaGRtaS0+YnJpZGdlLm9wcyA9IERSTV9CUklER0VfT1BfREVURUNUIHwg
RFJNX0JSSURHRV9PUF9FRElECj4gICAgICAgICAgICAgICAgICAgICAgICAgIHwgRFJNX0JSSURH
RV9PUF9IUEQ7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9tZXNvbl9lbmNv
ZGVyX2N2YnMuYyBiL2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9tZXNvbl9lbmNvZGVyX2N2YnMuYwo+
IGluZGV4IGM5Njc4ZGM2OGZhMTQyODgyZTJiZWIyNGZlODExODVmYmRlZjczM2IuLmRjMzc0YmZj
NTk1MWMwZjEzZmMyOGY0NDMyNWFhODQ1YWI1OTAwNTYgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9n
cHUvZHJtL21lc29uL21lc29uX2VuY29kZXJfY3Zicy5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L21lc29uL21lc29uX2VuY29kZXJfY3Zicy5jCj4gQEAgLTIyNyw5ICsyMjcsMTIgQEAgaW50IG1l
c29uX2VuY29kZXJfY3Zic19wcm9iZShzdHJ1Y3QgbWVzb25fZHJtICpwcml2KQo+ICAgICAgICAg
c3RydWN0IGRldmljZV9ub2RlICpyZW1vdGU7Cj4gICAgICAgICBpbnQgcmV0Owo+Cj4gLSAgICAg
ICBtZXNvbl9lbmNvZGVyX2N2YnMgPSBkZXZtX2t6YWxsb2MocHJpdi0+ZGV2LCBzaXplb2YoKm1l
c29uX2VuY29kZXJfY3ZicyksIEdGUF9LRVJORUwpOwo+IC0gICAgICAgaWYgKCFtZXNvbl9lbmNv
ZGVyX2N2YnMpCj4gLSAgICAgICAgICAgICAgIHJldHVybiAtRU5PTUVNOwo+ICsgICAgICAgbWVz
b25fZW5jb2Rlcl9jdmJzID0gZGV2bV9kcm1fYnJpZGdlX2FsbG9jKHByaXYtPmRldiwKPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgbWVz
b25fZW5jb2Rlcl9jdmJzLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIGJyaWRnZSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAmbWVzb25fZW5jb2Rlcl9jdmJzX2JyaWRnZV9mdW5jcyk7Cj4gKyAg
ICAgICBpZiAoSVNfRVJSKG1lc29uX2VuY29kZXJfY3ZicykpCj4gKyAgICAgICAgICAgICAgIHJl
dHVybiBQVFJfRVJSKG1lc29uX2VuY29kZXJfY3Zicyk7Cj4KPiAgICAgICAgIC8qIENWQlMgQ29u
bmVjdG9yIEJyaWRnZSAqLwo+ICAgICAgICAgcmVtb3RlID0gb2ZfZ3JhcGhfZ2V0X3JlbW90ZV9u
b2RlKHByaXYtPmRldi0+b2Zfbm9kZSwgMCwgMCk7Cj4gQEAgLTI0NSw3ICsyNDgsNiBAQCBpbnQg
bWVzb25fZW5jb2Rlcl9jdmJzX3Byb2JlKHN0cnVjdCBtZXNvbl9kcm0gKnByaXYpCj4gICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJGYWlsZWQgdG8gZmluZCBDVkJTIENvbm5l
Y3RvciBicmlkZ2VcbiIpOwo+Cj4gICAgICAgICAvKiBDVkJTIEVuY29kZXIgQnJpZGdlICovCj4g
LSAgICAgICBtZXNvbl9lbmNvZGVyX2N2YnMtPmJyaWRnZS5mdW5jcyA9ICZtZXNvbl9lbmNvZGVy
X2N2YnNfYnJpZGdlX2Z1bmNzOwo+ICAgICAgICAgbWVzb25fZW5jb2Rlcl9jdmJzLT5icmlkZ2Uu
b2Zfbm9kZSA9IHByaXYtPmRldi0+b2Zfbm9kZTsKPiAgICAgICAgIG1lc29uX2VuY29kZXJfY3Zi
cy0+YnJpZGdlLnR5cGUgPSBEUk1fTU9ERV9DT05ORUNUT1JfQ29tcG9zaXRlOwo+ICAgICAgICAg
bWVzb25fZW5jb2Rlcl9jdmJzLT5icmlkZ2Uub3BzID0gRFJNX0JSSURHRV9PUF9NT0RFUzsKPiBk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL21lc29uL21lc29uX2VuY29kZXJfZHNpLmMgYi9k
cml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fZW5jb2Rlcl9kc2kuYwo+IGluZGV4IDNkYjUxOGU1
Zjk1ZDMyNGMyMThiNzMwZTA5NDhjM2RjODQ1MzgyYmQuLjZjNjYyNGY5YmEyNGExODI5MDAyMTVk
NjViM2FkN2FiOGFhYjZjZjggMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL21lc29uL21l
c29uX2VuY29kZXJfZHNpLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25fZW5j
b2Rlcl9kc2kuYwo+IEBAIC0xMDYsOSArMTA2LDEyIEBAIGludCBtZXNvbl9lbmNvZGVyX2RzaV9w
cm9iZShzdHJ1Y3QgbWVzb25fZHJtICpwcml2KQo+ICAgICAgICAgc3RydWN0IGRldmljZV9ub2Rl
ICpyZW1vdGU7Cj4gICAgICAgICBpbnQgcmV0Owo+Cj4gLSAgICAgICBtZXNvbl9lbmNvZGVyX2Rz
aSA9IGRldm1fa3phbGxvYyhwcml2LT5kZXYsIHNpemVvZigqbWVzb25fZW5jb2Rlcl9kc2kpLCBH
RlBfS0VSTkVMKTsKPiAtICAgICAgIGlmICghbWVzb25fZW5jb2Rlcl9kc2kpCj4gLSAgICAgICAg
ICAgICAgIHJldHVybiAtRU5PTUVNOwo+ICsgICAgICAgbWVzb25fZW5jb2Rlcl9kc2kgPSBkZXZt
X2RybV9icmlkZ2VfYWxsb2MocHJpdi0+ZGV2LAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IG1lc29uX2VuY29kZXJfZHNpLAo+ICsgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJpZGdlLAo+ICsg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJm1lc29uX2Vu
Y29kZXJfZHNpX2JyaWRnZV9mdW5jcyk7Cj4gKyAgICAgICBpZiAoSVNfRVJSKG1lc29uX2VuY29k
ZXJfZHNpKSkKPiArICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9FUlIobWVzb25fZW5jb2Rlcl9k
c2kpOwo+Cj4gICAgICAgICAvKiBEU0kgVHJhbnNjZWl2ZXIgQnJpZGdlICovCj4gICAgICAgICBy
ZW1vdGUgPSBvZl9ncmFwaF9nZXRfcmVtb3RlX25vZGUocHJpdi0+ZGV2LT5vZl9ub2RlLCAyLCAw
KTsKPiBAQCAtMTIzLDcgKzEyNiw2IEBAIGludCBtZXNvbl9lbmNvZGVyX2RzaV9wcm9iZShzdHJ1
Y3QgbWVzb25fZHJtICpwcml2KQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAiRmFpbGVkIHRvIGZpbmQgRFNJIHRyYW5zY2VpdmVyIGJyaWRnZVxuIik7Cj4KPiAgICAgICAg
IC8qIERTSSBFbmNvZGVyIEJyaWRnZSAqLwo+IC0gICAgICAgbWVzb25fZW5jb2Rlcl9kc2ktPmJy
aWRnZS5mdW5jcyA9ICZtZXNvbl9lbmNvZGVyX2RzaV9icmlkZ2VfZnVuY3M7Cj4gICAgICAgICBt
ZXNvbl9lbmNvZGVyX2RzaS0+YnJpZGdlLm9mX25vZGUgPSBwcml2LT5kZXYtPm9mX25vZGU7Cj4g
ICAgICAgICBtZXNvbl9lbmNvZGVyX2RzaS0+YnJpZGdlLnR5cGUgPSBEUk1fTU9ERV9DT05ORUNU
T1JfRFNJOwo+Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9tZXNvbl9lbmNv
ZGVyX2hkbWkuYyBiL2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9tZXNvbl9lbmNvZGVyX2hkbWkuYwo+
IGluZGV4IDA0MGMwNGI1ZGZmOWYwZDRlMjg3NWUzNDRjMDc2YmI4YWI2MzVjNzYuLjVhMGQzN2Ey
NTdmNTNjMjIxNjVmYWQxYTMyZTNjNzUyMmI4ZGQ3ZjEgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9n
cHUvZHJtL21lc29uL21lc29uX2VuY29kZXJfaGRtaS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L21lc29uL21lc29uX2VuY29kZXJfaGRtaS5jCj4gQEAgLTM3Niw5ICszNzYsMTIgQEAgaW50IG1l
c29uX2VuY29kZXJfaGRtaV9wcm9iZShzdHJ1Y3QgbWVzb25fZHJtICpwcml2KQo+ICAgICAgICAg
c3RydWN0IGRldmljZV9ub2RlICpyZW1vdGU7Cj4gICAgICAgICBpbnQgcmV0Owo+Cj4gLSAgICAg
ICBtZXNvbl9lbmNvZGVyX2hkbWkgPSBkZXZtX2t6YWxsb2MocHJpdi0+ZGV2LCBzaXplb2YoKm1l
c29uX2VuY29kZXJfaGRtaSksIEdGUF9LRVJORUwpOwo+IC0gICAgICAgaWYgKCFtZXNvbl9lbmNv
ZGVyX2hkbWkpCj4gLSAgICAgICAgICAgICAgIHJldHVybiAtRU5PTUVNOwo+ICsgICAgICAgbWVz
b25fZW5jb2Rlcl9oZG1pID0gZGV2bV9kcm1fYnJpZGdlX2FsbG9jKHByaXYtPmRldiwKPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgbWVz
b25fZW5jb2Rlcl9oZG1pLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIGJyaWRnZSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAmbWVzb25fZW5jb2Rlcl9oZG1pX2JyaWRnZV9mdW5jcyk7Cj4gKyAg
ICAgICBpZiAoSVNfRVJSKG1lc29uX2VuY29kZXJfaGRtaSkpCj4gKyAgICAgICAgICAgICAgIHJl
dHVybiBQVFJfRVJSKG1lc29uX2VuY29kZXJfaGRtaSk7Cj4KPiAgICAgICAgIC8qIEhETUkgVHJh
bnNjZWl2ZXIgQnJpZGdlICovCj4gICAgICAgICByZW1vdGUgPSBvZl9ncmFwaF9nZXRfcmVtb3Rl
X25vZGUocHJpdi0+ZGV2LT5vZl9ub2RlLCAxLCAwKTsKPiBAQCAtMzk1LDcgKzM5OCw2IEBAIGlu
dCBtZXNvbl9lbmNvZGVyX2hkbWlfcHJvYmUoc3RydWN0IG1lc29uX2RybSAqcHJpdikKPiAgICAg
ICAgIH0KPgo+ICAgICAgICAgLyogSERNSSBFbmNvZGVyIEJyaWRnZSAqLwo+IC0gICAgICAgbWVz
b25fZW5jb2Rlcl9oZG1pLT5icmlkZ2UuZnVuY3MgPSAmbWVzb25fZW5jb2Rlcl9oZG1pX2JyaWRn
ZV9mdW5jczsKPiAgICAgICAgIG1lc29uX2VuY29kZXJfaGRtaS0+YnJpZGdlLm9mX25vZGUgPSBw
cml2LT5kZXYtPm9mX25vZGU7Cj4gICAgICAgICBtZXNvbl9lbmNvZGVyX2hkbWktPmJyaWRnZS50
eXBlID0gRFJNX01PREVfQ09OTkVDVE9SX0hETUlBOwo+ICAgICAgICAgbWVzb25fZW5jb2Rlcl9o
ZG1pLT5icmlkZ2UuaW50ZXJsYWNlX2FsbG93ZWQgPSB0cnVlOwo+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vcmVuZXNhcy9yY2FyLWR1L3JjYXJfbHZkcy5jIGIvZHJpdmVycy9ncHUvZHJt
L3JlbmVzYXMvcmNhci1kdS9yY2FyX2x2ZHMuYwo+IGluZGV4IGE5MTQ1MjUzMjk0ZmNhZWY2YmFl
NGUxNDA2YTc4MWY2ZDcxMGQzNTcuLmFmNThiODE0ZTU4ODdmMmUyMzEzMzhjMWQ4N2ZlZWRmNGRi
NWU3NTQgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL3JlbmVzYXMvcmNhci1kdS9yY2Fy
X2x2ZHMuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9yZW5lc2FzL3JjYXItZHUvcmNhcl9sdmRz
LmMKPiBAQCAtODc4LDkgKzg3OCwxMCBAQCBzdGF0aWMgaW50IHJjYXJfbHZkc19wcm9iZShzdHJ1
Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQo+ICAgICAgICAgc3RydWN0IHJjYXJfbHZkcyAqbHZk
czsKPiAgICAgICAgIGludCByZXQ7Cj4KPiAtICAgICAgIGx2ZHMgPSBkZXZtX2t6YWxsb2MoJnBk
ZXYtPmRldiwgc2l6ZW9mKCpsdmRzKSwgR0ZQX0tFUk5FTCk7Cj4gLSAgICAgICBpZiAobHZkcyA9
PSBOVUxMKQo+IC0gICAgICAgICAgICAgICByZXR1cm4gLUVOT01FTTsKPiArICAgICAgIGx2ZHMg
PSBkZXZtX2RybV9icmlkZ2VfYWxsb2MoJnBkZXYtPmRldiwgc3RydWN0IHJjYXJfbHZkcywgYnJp
ZGdlLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmcmNhcl9sdmRzX2Jy
aWRnZV9vcHMpOwo+ICsgICAgICAgaWYgKElTX0VSUihsdmRzKSkKPiArICAgICAgICAgICAgICAg
cmV0dXJuIFBUUl9FUlIobHZkcyk7Cj4KPiAgICAgICAgIHBsYXRmb3JtX3NldF9kcnZkYXRhKHBk
ZXYsIGx2ZHMpOwo+Cj4gQEAgLTg5NSw3ICs4OTYsNiBAQCBzdGF0aWMgaW50IHJjYXJfbHZkc19w
cm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQo+ICAgICAgICAgaWYgKHJldCA8IDAp
Cj4gICAgICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4KPiAtICAgICAgIGx2ZHMtPmJyaWRnZS5m
dW5jcyA9ICZyY2FyX2x2ZHNfYnJpZGdlX29wczsKPiAgICAgICAgIGx2ZHMtPmJyaWRnZS5vZl9u
b2RlID0gcGRldi0+ZGV2Lm9mX25vZGU7Cj4KPiAgICAgICAgIGx2ZHMtPm1taW8gPSBkZXZtX3Bs
YXRmb3JtX2lvcmVtYXBfcmVzb3VyY2UocGRldiwgMCk7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9yZW5lc2FzL3J6LWR1L3J6ZzJsX21pcGlfZHNpLmMgYi9kcml2ZXJzL2dwdS9kcm0v
cmVuZXNhcy9yei1kdS9yemcybF9taXBpX2RzaS5jCj4gaW5kZXggZGM2YWIwMTJjZGI2OWY5MmEz
M2RhNjk2MzhhZWYzZmM2ZmRmYTQ2Yy4uOGJhMGRkZThkNDgyMjc5NDQyNjMxNTkzMTNlMTg0ZTU4
MWQ5Y2I1OCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vcmVuZXNhcy9yei1kdS9yemcy
bF9taXBpX2RzaS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3JlbmVzYXMvcnotZHUvcnpnMmxf
bWlwaV9kc2kuYwo+IEBAIC03MDEsOSArNzAxLDEwIEBAIHN0YXRpYyBpbnQgcnpnMmxfbWlwaV9k
c2lfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKPiAgICAgICAgIHUzMiB0eHNl
dHI7Cj4gICAgICAgICBpbnQgcmV0Owo+Cj4gLSAgICAgICBkc2kgPSBkZXZtX2t6YWxsb2MoJnBk
ZXYtPmRldiwgc2l6ZW9mKCpkc2kpLCBHRlBfS0VSTkVMKTsKPiAtICAgICAgIGlmICghZHNpKQo+
IC0gICAgICAgICAgICAgICByZXR1cm4gLUVOT01FTTsKPiArICAgICAgIGRzaSA9IGRldm1fZHJt
X2JyaWRnZV9hbGxvYygmcGRldi0+ZGV2LCBzdHJ1Y3QgcnpnMmxfbWlwaV9kc2ksIGJyaWRnZSwK
PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmcnpnMmxfbWlwaV9kc2lfYnJp
ZGdlX29wcyk7Cj4gKyAgICAgICBpZiAoSVNfRVJSKGRzaSkpCj4gKyAgICAgICAgICAgICAgIHJl
dHVybiBQVFJfRVJSKGRzaSk7Cj4KPiAgICAgICAgIHBsYXRmb3JtX3NldF9kcnZkYXRhKHBkZXYs
IGRzaSk7Cj4gICAgICAgICBkc2ktPmRldiA9ICZwZGV2LT5kZXY7Cj4gQEAgLTc2MSw3ICs3NjIs
NiBAQCBzdGF0aWMgaW50IHJ6ZzJsX21pcGlfZHNpX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZp
Y2UgKnBkZXYpCj4gICAgICAgICBwbV9ydW50aW1lX3B1dChkc2ktPmRldik7Cj4KPiAgICAgICAg
IC8qIEluaXRpYWxpemUgdGhlIERSTSBicmlkZ2UuICovCj4gLSAgICAgICBkc2ktPmJyaWRnZS5m
dW5jcyA9ICZyemcybF9taXBpX2RzaV9icmlkZ2Vfb3BzOwo+ICAgICAgICAgZHNpLT5icmlkZ2Uu
b2Zfbm9kZSA9IGRzaS0+ZGV2LT5vZl9ub2RlOwo+Cj4gICAgICAgICAvKiBJbml0IGhvc3QgZGV2
aWNlICovCj4KPiAtLQo+IDIuNDkuMAo+Cl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fCkxpbnV4LXN0bTMyIG1haWxpbmcgbGlzdApMaW51eC1zdG0zMkBzdC1t
ZC1tYWlsbWFuLnN0b3JtcmVwbHkuY29tCmh0dHBzOi8vc3QtbWQtbWFpbG1hbi5zdG9ybXJlcGx5
LmNvbS9tYWlsbWFuL2xpc3RpbmZvL2xpbnV4LXN0bTMyCg==
