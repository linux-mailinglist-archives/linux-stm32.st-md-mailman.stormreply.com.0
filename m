Return-Path: <linux-stm32-bounces@st-md-mailman.stormreply.com>
X-Original-To: lists+linux-stm32@lfdr.de
Delivered-To: lists+linux-stm32@lfdr.de
Received: from stm-ict-prod-mailman-01.stormreply.prv (st-md-mailman.stormreply.com [52.209.6.89])
	by mail.lfdr.de (Postfix) with ESMTPS id 141C2AC34B2
	for <lists+linux-stm32@lfdr.de>; Sun, 25 May 2025 14:59:06 +0200 (CEST)
Received: from ip-172-31-3-47.eu-west-1.compute.internal (localhost [127.0.0.1])
	by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTP id B24F3C78F6D;
	Sun, 25 May 2025 12:59:05 +0000 (UTC)
Received: from mail-pj1-f50.google.com (mail-pj1-f50.google.com
 [209.85.216.50])
 (using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
 (No client certificate requested)
 by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTPS id F3833C78F60
 for <linux-stm32@st-md-mailman.stormreply.com>;
 Sun, 25 May 2025 12:59:03 +0000 (UTC)
Received: by mail-pj1-f50.google.com with SMTP id
 98e67ed59e1d1-3108d54332eso1012167a91.2
 for <linux-stm32@st-md-mailman.stormreply.com>;
 Sun, 25 May 2025 05:59:03 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20230601; t=1748177942; x=1748782742;
 darn=st-md-mailman.stormreply.com; 
 h=content-transfer-encoding:cc:to:subject:message-id:date:from
 :in-reply-to:references:mime-version:from:to:cc:subject:date
 :message-id:reply-to;
 bh=CnxtX6vLFGNGASwckWNLqz9BK4jmjtM4rIel8Tx7W1w=;
 b=AZdutnuAzO467cKXcb7Q5esFRQmlhU+SehoW8uD2wRZdj3bFP310k9kMLx0K9HbNZH
 /ku6KriSU6wp/ugBdjpz/Ib/Gxg8xFr4cgZfeUE4K/ijdHJmWP4Cx6OZNQYzGgxhLcna
 DFC56Ak19vX4Ytw5aUQ4PVT2VCrTY0iNyfB5XPHk0yLn5glf+O2WFK3hC56OPylLKTee
 EQkg+EkJECI8m/An4Mr+hfMAHlFL71mohz8XOUd2YfxJg2x3PoVk3sZfMyKVjb5Oydia
 xi5JO5qWHJzuKdjKMApeD6YgmawGTVL4VH77jbVtlqVDjwrc2FVKytROxFnFNZF1d55E
 il6Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20230601; t=1748177942; x=1748782742;
 h=content-transfer-encoding:cc:to:subject:message-id:date:from
 :in-reply-to:references:mime-version:x-gm-message-state:from:to:cc
 :subject:date:message-id:reply-to;
 bh=CnxtX6vLFGNGASwckWNLqz9BK4jmjtM4rIel8Tx7W1w=;
 b=m89QMEG2e9wdG5Hqyf0EsJZOA5aYJHYdVI7POOplQf9s5HZhUHMr7m6/PPL0Tm2m90
 +ojhH8liI2CYPJ97V/3GpH0RMS9D2CpWZhUwqG0Ur0+LMrpP/GYrLSu67nhsw2Jgy6WV
 9NJiZlKm7Utt6qTjGfHIcbeAzK7h72Bb0uZd9uyHjntIjp4dHdU4OfCBork9/D1eGuyD
 uvwS3pbaj/g14tpFa6eM1Vb+2nqFt9QdXVWSdWqdUak1R3wgdSEBvgjXLFn3O4hdoNOz
 nzdRoyVe1qTkx3PKMzbf9mpZal/+kw66b7j+Ov1yqHLireGlvpirD22KuaTAkjHrNU6g
 LN6g==
X-Forwarded-Encrypted: i=1;
 AJvYcCWVWMwqjJm0O7ridgotjJAjcT6GymuNrvbQO9QnMSgQmn/RpdZr5MbfepL41fZCdw0lfwMfBvfs5bwQxg==@st-md-mailman.stormreply.com
X-Gm-Message-State: AOJu0YwjN4np6oStl5dSUNcQCEO8sRANv6YRwu19dLNB15U1jvtVuvMx
 aaqzDNr3VXjIvsWNJnnbhn/hUfNDKQPiTUfs90otI5tc6L6zdQGP3H0RJabgNb74zBK6HtcNR2e
 iplrgaXLsAtK8G8eYzFPeC/Iv6/wTb84=
X-Gm-Gg: ASbGncuu7DQHJqSXpPh8DtwCXg4rCo2vp7KS7DKhZv6K/dsUnm+3R7MUD13ZFm+q6+y
 jtE+LR/OXn+BwgedUc6kWM7Z3i137oCWAl9w7fifiqxVAIjEOBWADCk4qkRnmu9WXMfnI0rOZz2
 gZKK/jp5KjO1mqsU/yGbMMTvEDwWQCpUCX
X-Google-Smtp-Source: AGHT+IFD8gFRLHah7VK8q4VAzZEhJ/BGgnF4fW/go0D9F1X52RN+69x/ldRgn8hswy+xnyaPJuO7lDfhw/vlmzHt5F4=
X-Received: by 2002:a17:90a:c2c3:b0:2fe:9581:fbea with SMTP id
 98e67ed59e1d1-31110d92962mr7976186a91.29.1748177941986; Sun, 25 May 2025
 05:59:01 -0700 (PDT)
MIME-Version: 1.0
References: <20250407-drm-bridge-convert-to-alloc-api-v1-0-42113ff8d9c0@bootlin.com>
 <20250407-drm-bridge-convert-to-alloc-api-v1-1-42113ff8d9c0@bootlin.com>
In-Reply-To: <20250407-drm-bridge-convert-to-alloc-api-v1-1-42113ff8d9c0@bootlin.com>
From: Adam Ford <aford173@gmail.com>
Date: Sun, 25 May 2025 07:58:49 -0500
X-Gm-Features: AX0GCFsaQq7xZsNGz6mxwbVMYdWMXOZJV0gBUkooHvJZRTeGH_o4bumqurVUius
Message-ID: <CAHCN7xKefTM-iDTLimJxr18FaSSa0h+C2og9PmjQQyTQWWhs1g@mail.gmail.com>
To: Luca Ceresoli <luca.ceresoli@bootlin.com>
Cc: imx@lists.linux.dev, Manikandan Muralidharan <manikandan.m@microchip.com>,
 =?UTF-8?Q?Herv=C3=A9_Codina?= <herve.codina@bootlin.com>,
 Thomas Petazzoni <thomas.petazzoni@bootlin.com>,
 Vitalii Mordan <mordan@ispras.ru>, Sui Jingfeng <sui.jingfeng@linux.dev>,
 Paul Kocialkowski <paulk@sys-base.io>, linux-kernel@vger.kernel.org,
 Biju Das <biju.das.jz@bp.renesas.com>,
 Laurent Pinchart <Laurent.pinchart@ideasonboard.com>,
 Andrzej Hajda <andrzej.hajda@intel.com>, Guenter Roeck <groeck@chromium.org>,
 Sasha Finkelstein <fnkl.kernel@gmail.com>, Janne Grunau <j@jannau.net>,
 Fabio Estevam <festevam@gmail.com>, linux-stm32@st-md-mailman.stormreply.com,
 Heiko Stuebner <heiko@sntech.de>, Simona Vetter <simona@ffwll.ch>,
 chrome-platform@lists.linux.dev, Krzysztof Kozlowski <krzk@kernel.org>,
 Robert Foss <rfoss@kernel.org>, David Airlie <airlied@gmail.com>,
 Anusha Srivatsa <asrivats@redhat.com>,
 Detlev Casanova <detlev.casanova@collabora.com>,
 Jernej Skrabec <jernej.skrabec@gmail.com>,
 Sugar Zhang <sugar.zhang@rock-chips.com>, Liu Ying <victor.liu@nxp.com>,
 Dharma Balasubiramani <dharma.b@microchip.com>,
 Matthias Brugger <matthias.bgg@gmail.com>,
 Jagan Teki <jagan@amarulasolutions.com>, Phong LE <ple@baylibre.com>,
 Philipp Zabel <p.zabel@pengutronix.de>, Jerome Brunet <jbrunet@baylibre.com>,
 Martin Blumenstingl <martin.blumenstingl@googlemail.com>,
 Adrien Grassein <adrien.grassein@gmail.com>,
 Chun-Kuang Hu <chunkuang.hu@kernel.org>,
 Pengutronix Kernel Team <kernel@pengutronix.de>,
 Jonas Karlman <jonas@kwiboo.se>, Jani Nikula <jani.nikula@intel.com>,
 linux-arm-msm@vger.kernel.org, Sascha Hauer <s.hauer@pengutronix.de>,
 Maarten Lankhorst <maarten.lankhorst@linux.intel.com>,
 Maxime Ripard <mripard@kernel.org>,
 Cristian Ciocaltea <cristian.ciocaltea@collabora.com>,
 linux-samsung-soc@vger.kernel.org, linux-mediatek@lists.infradead.org,
 dri-devel@lists.freedesktop.org,
 Tomi Valkeinen <tomi.valkeinen+renesas@ideasonboard.com>,
 Hui Pu <Hui.Pu@gehealthcare.com>, linux-amlogic@lists.infradead.org,
 platform-driver-x86@vger.kernel.org, Benson Leung <bleung@chromium.org>,
 linux-arm-kernel@lists.infradead.org,
 AngeloGioacchino Del Regno <angelogioacchino.delregno@collabora.com>,
 Neil Armstrong <neil.armstrong@linaro.org>,
 Jesse Van Gavere <jesseevg@gmail.com>, Dmitry Baryshkov <lumag@kernel.org>,
 freedreno@lists.freedesktop.org, Douglas Anderson <dianders@chromium.org>,
 linux-renesas-soc@vger.kernel.org, Christoph Fritz <chf.fritz@googlemail.com>,
 Kieran Bingham <kieran.bingham+renesas@ideasonboard.com>,
 asahi@lists.linux.dev, Thomas Zimmermann <tzimmermann@suse.de>,
 Kevin Hilman <khilman@baylibre.com>,
 Dmitry Baryshkov <dmitry.baryshkov@linaro.org>,
 Andy Yan <andy.yan@rock-chips.com>, Shawn Guo <shawnguo@kernel.org>,
 Aleksandr Mishin <amishin@t-argos.ru>
Subject: Re: [Linux-stm32] [PATCH 01/34] drm: convert many bridge drivers
 from devm_kzalloc() to devm_drm_bridge_alloc() API
X-BeenThere: linux-stm32@st-md-mailman.stormreply.com
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: <linux-stm32.st-md-mailman.stormreply.com>
List-Unsubscribe: <https://st-md-mailman.stormreply.com/mailman/options/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=unsubscribe>
List-Archive: <http://st-md-mailman.stormreply.com/pipermail/linux-stm32/>
List-Post: <mailto:linux-stm32@st-md-mailman.stormreply.com>
List-Help: <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=help>
List-Subscribe: <https://st-md-mailman.stormreply.com/mailman/listinfo/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: linux-stm32-bounces@st-md-mailman.stormreply.com
Sender: "Linux-stm32" <linux-stm32-bounces@st-md-mailman.stormreply.com>

T24gTW9uLCBBcHIgNywgMjAyNSBhdCA5OjI04oCvQU0gTHVjYSBDZXJlc29saSA8bHVjYS5jZXJl
c29saUBib290bGluLmNvbT4gd3JvdGU6Cj4KPiBkZXZtX2RybV9icmlkZ2VfYWxsb2MoKSBpcyB0
aGUgbmV3IEFQSSB0byBiZSB1c2VkIGZvciBhbGxvY2F0aW5nIChhbmQKPiBwYXJ0aWFsbHkgaW5p
dGlhbGl6aW5nKSBhIHByaXZhdGUgZHJpdmVyIHN0cnVjdCBlbWJlZGRpbmcgYSBzdHJ1Y3QKPiBk
cm1fYnJpZGdlLgo+Cj4gRm9yIG1hbnkgZHJpdmVycyBoYXZpbmcgYSBzaW1wbGUgY29kZSBmbG93
IGluIHRoZSBwcm9iZSBmdW5jdGlvbiwgdGhpcwo+IGNvbW1pdCBkb2VzIGEgbWFzcyBjb252ZXJz
aW9uIGF1dG9tYXRpY2FsbHkgd2l0aCB0aGUgZm9sbG93aW5nIHNlbWFudGljCj4gcGF0Y2guIFRo
ZSBjaGFuZ2VzIGhhdmUgYmVlbiByZXZpZXdlZCBtYW51YWxseSBmb3IgY29ycmVjdG5lc3MgYXMg
d2VsbCBhcwo+IHRvIGZpbmQgYW55IGZhbHNlIHBvc2l0aXZlcy4KPgo+ICAgQEAKPiAgIHR5cGUg
VDsKPiAgIGlkZW50aWZpZXIgQzsKPiAgIGlkZW50aWZpZXIgQlI7Cj4gICBleHByZXNzaW9uIERF
VjsKPiAgIGV4cHJlc3Npb24gRlVOQ1M7Cj4gICBAQAo+ICAgLVQgKkM7Cj4gICArVCAqQzsKPiAg
ICAuLi4KPiAgICgKPiAgIC1DID0gZGV2bV9remFsbG9jKERFViwgLi4uKTsKPiAgIC1pZiAoIUMp
Cj4gICAtICAgIHJldHVybiAtRU5PTUVNOwo+ICAgK0MgPSBkZXZtX2RybV9icmlkZ2VfYWxsb2Mo
REVWLCBULCBCUiwgRlVOQ1MpOwo+ICAgK2lmIChJU19FUlIoQykpCj4gICArICAgICByZXR1cm4g
UFRSX0VSUihDKTsKPiAgIHwKPiAgIC1DID0gZGV2bV9remFsbG9jKERFViwgLi4uKTsKPiAgIC1p
ZiAoIUMpCj4gICAtICAgIHJldHVybiBFUlJfUFRSKC1FTk9NRU0pOwo+ICAgK0MgPSBkZXZtX2Ry
bV9icmlkZ2VfYWxsb2MoREVWLCBULCBCUiwgRlVOQ1MpOwo+ICAgK2lmIChJU19FUlIoQykpCj4g
ICArICAgICByZXR1cm4gQzsKPiAgICkKPiAgICAuLi4KPiAgIC1DLT5CUi5mdW5jcyA9IEZVTkNT
Owo+Cj4gU2lnbmVkLW9mZi1ieTogTHVjYSBDZXJlc29saSA8bHVjYS5jZXJlc29saUBib290bGlu
LmNvbT4KPgoKCkZvciBmc2wtbGRiLmM6CgpUZXN0ZWQtYnk6IEFkYW0gRm9yZCA8YWZvcmQxNzNA
Z21haWwuY29tPiAjIGlteDhtcC1iZWFjb24ta2l0CgoKPiAtLS0KPgo+IENjOiBBZGFtIEZvcmQg
PGFmb3JkMTczQGdtYWlsLmNvbT4KPiBDYzogQWRyaWVuIEdyYXNzZWluIDxhZHJpZW4uZ3Jhc3Nl
aW5AZ21haWwuY29tPgo+IENjOiBBbGVrc2FuZHIgTWlzaGluIDxhbWlzaGluQHQtYXJnb3MucnU+
Cj4gQ2M6IEFuZHkgWWFuIDxhbmR5LnlhbkByb2NrLWNoaXBzLmNvbT4KPiBDYzogQW5nZWxvR2lv
YWNjaGlubyBEZWwgUmVnbm8gPGFuZ2Vsb2dpb2FjY2hpbm8uZGVscmVnbm9AY29sbGFib3JhLmNv
bT4KPiBDYzogQmVuc29uIExldW5nIDxibGV1bmdAY2hyb21pdW0ub3JnPgo+IENjOiBCaWp1IERh
cyA8YmlqdS5kYXMuanpAYnAucmVuZXNhcy5jb20+Cj4gQ2M6IENocmlzdG9waCBGcml0eiA8Y2hm
LmZyaXR6QGdvb2dsZW1haWwuY29tPgo+IENjOiBDcmlzdGlhbiBDaW9jYWx0ZWEgPGNyaXN0aWFu
LmNpb2NhbHRlYUBjb2xsYWJvcmEuY29tPgo+IENjOiBEZXRsZXYgQ2FzYW5vdmEgPGRldGxldi5j
YXNhbm92YUBjb2xsYWJvcmEuY29tPgo+IENjOiBEaGFybWEgQmFsYXN1YmlyYW1hbmkgPGRoYXJt
YS5iQG1pY3JvY2hpcC5jb20+Cj4gQ2M6IEd1ZW50ZXIgUm9lY2sgPGdyb2Vja0BjaHJvbWl1bS5v
cmc+Cj4gQ2M6IEhlaWtvIFN0dWVibmVyIDxoZWlrb0BzbnRlY2guZGU+Cj4gQ2M6IEphbmkgTmlr
dWxhIDxqYW5pLm5pa3VsYUBpbnRlbC5jb20+Cj4gQ2M6IEphbm5lIEdydW5hdSA8akBqYW5uYXUu
bmV0Pgo+IENjOiBKZXJvbWUgQnJ1bmV0IDxqYnJ1bmV0QGJheWxpYnJlLmNvbT4KPiBDYzogSmVz
c2UgVmFuIEdhdmVyZSA8amVzc2VldmdAZ21haWwuY29tPgo+IENjOiBLZXZpbiBIaWxtYW4gPGto
aWxtYW5AYmF5bGlicmUuY29tPgo+IENjOiBLaWVyYW4gQmluZ2hhbSA8a2llcmFuLmJpbmdoYW0r
cmVuZXNhc0BpZGVhc29uYm9hcmQuY29tPgo+IENjOiBMaXUgWWluZyA8dmljdG9yLmxpdUBueHAu
Y29tPgo+IENjOiBNYW5pa2FuZGFuIE11cmFsaWRoYXJhbiA8bWFuaWthbmRhbi5tQG1pY3JvY2hp
cC5jb20+Cj4gQ2M6IE1hcnRpbiBCbHVtZW5zdGluZ2wgPG1hcnRpbi5ibHVtZW5zdGluZ2xAZ29v
Z2xlbWFpbC5jb20+Cj4gQ2M6IE1hdHRoaWFzIEJydWdnZXIgPG1hdHRoaWFzLmJnZ0BnbWFpbC5j
b20+Cj4gQ2M6IFBoaWxpcHAgWmFiZWwgPHAuemFiZWxAcGVuZ3V0cm9uaXguZGU+Cj4gQ2M6IFBo
b25nIExFIDxwbGVAYmF5bGlicmUuY29tPgo+IENjOiBTYXNoYSBGaW5rZWxzdGVpbiA8Zm5rbC5r
ZXJuZWxAZ21haWwuY29tPgo+IENjOiBTdWdhciBaaGFuZyA8c3VnYXIuemhhbmdAcm9jay1jaGlw
cy5jb20+Cj4gQ2M6IFN1aSBKaW5nZmVuZyA8c3VpLmppbmdmZW5nQGxpbnV4LmRldj4KPiBDYzog
VG9taSBWYWxrZWluZW4gPHRvbWkudmFsa2VpbmVuK3JlbmVzYXNAaWRlYXNvbmJvYXJkLmNvbT4K
PiBDYzogVml0YWxpaSBNb3JkYW4gPG1vcmRhbkBpc3ByYXMucnU+Cj4gLS0tCj4gIGRyaXZlcnMv
Z3B1L2RybS9hZHAvYWRwLW1pcGkuYyAgICAgICAgICAgICAgICAgICAgICB8ICA4ICsrKystLS0t
Cj4gIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYWR2NzUxMS9hZHY3NTExX2Rydi5jICAgICAgICB8
ICA5ICsrKystLS0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L2FuYWxvZ2l4
LWFueDc4eHguYyAgfCAgOSArKysrLS0tLS0KPiAgZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hdXgt
YnJpZGdlLmMgICAgICAgICAgICAgICAgIHwgIDkgKysrKy0tLS0tCj4gIGRyaXZlcnMvZ3B1L2Ry
bS9icmlkZ2UvYXV4LWhwZC1icmlkZ2UuYyAgICAgICAgICAgICB8ICA5ICsrKysrLS0tLQo+ICBk
cml2ZXJzL2dwdS9kcm0vYnJpZGdlL2NhZGVuY2UvY2Rucy1taGRwODU0Ni1jb3JlLmMgfCAgOCAr
KysrLS0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2NoaXBvbmUtaWNuNjIxMS5jICAgICAg
ICAgICAgfCAgOSArKysrLS0tLS0KPiAgZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9jaHJvbnRlbC1j
aDcwMzMuYyAgICAgICAgICAgIHwgIDggKysrKy0tLS0KPiAgZHJpdmVycy9ncHUvZHJtL2JyaWRn
ZS9jcm9zLWVjLWFueDc2ODguYyAgICAgICAgICAgIHwgIDkgKysrKy0tLS0tCj4gIGRyaXZlcnMv
Z3B1L2RybS9icmlkZ2UvZnNsLWxkYi5jICAgICAgICAgICAgICAgICAgICB8ICA3ICsrKy0tLS0K
PiAgZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9pbXgvaW14LWxlZ2FjeS1icmlkZ2UuYyAgICAgIHwg
IDkgKysrKy0tLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvaW14L2lteDhtcC1oZG1pLXB2
aS5jICAgICAgICB8IDEwICsrKystLS0tLS0KPiAgZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9pbXgv
aW14OHF4cC1waXhlbC1saW5rLmMgICAgIHwgIDggKysrKy0tLS0KPiAgZHJpdmVycy9ncHUvZHJt
L2JyaWRnZS9pbXgvaW14OHF4cC1weGwyZHBpLmMgICAgICAgIHwgIDggKysrKy0tLS0KPiAgZHJp
dmVycy9ncHUvZHJtL2JyaWRnZS9pdGUtaXQ2MjYzLmMgICAgICAgICAgICAgICAgIHwgIDkgKysr
Ky0tLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvaXRlLWl0NjUwNS5jICAgICAgICAgICAg
ICAgICB8ICA5ICsrKystLS0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2l0ZS1pdDY2MTIx
LmMgICAgICAgICAgICAgICAgfCAgOSArKysrLS0tLS0KPiAgZHJpdmVycy9ncHUvZHJtL2JyaWRn
ZS9sb250aXVtLWx0ODkxMmIuYyAgICAgICAgICAgIHwgIDkgKysrKy0tLS0tCj4gIGRyaXZlcnMv
Z3B1L2RybS9icmlkZ2UvbG9udGl1bS1sdDkyMTEuYyAgICAgICAgICAgICB8ICA4ICsrKy0tLS0t
Cj4gIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvbG9udGl1bS1sdDk2MTEuYyAgICAgICAgICAgICB8
ICA5ICsrKystLS0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2x2ZHMtY29kZWMuYyAgICAg
ICAgICAgICAgICAgfCAgOSArKysrLS0tLS0KPiAgZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9taWNy
b2NoaXAtbHZkcy5jICAgICAgICAgICAgIHwgIDggKysrKy0tLS0KPiAgZHJpdmVycy9ncHUvZHJt
L2JyaWRnZS9ud2wtZHNpLmMgICAgICAgICAgICAgICAgICAgIHwgIDggKysrKy0tLS0KPiAgZHJp
dmVycy9ncHUvZHJtL2JyaWRnZS9wYXJhZGUtcHM4NjIyLmMgICAgICAgICAgICAgIHwgIDkgKysr
Ky0tLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9icmlkZ2UvcGFyYWRlLXBzODY0MC5jICAgICAgICAg
ICAgICB8ICA5ICsrKystLS0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3NpaTkyMzQuYyAg
ICAgICAgICAgICAgICAgICAgfCAgOSArKysrLS0tLS0KPiAgZHJpdmVycy9ncHUvZHJtL2JyaWRn
ZS9zaWwtc2lpODYyMC5jICAgICAgICAgICAgICAgIHwgIDkgKysrKy0tLS0tCj4gIGRyaXZlcnMv
Z3B1L2RybS9icmlkZ2Uvc2ltcGxlLWJyaWRnZS5jICAgICAgICAgICAgICB8IDEwICsrKystLS0t
LS0KPiAgZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9zeW5vcHN5cy9kdy1oZG1pLXFwLmMgICAgICAg
IHwgIDggKysrKy0tLS0KPiAgZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9zeW5vcHN5cy9kdy1taXBp
LWRzaS5jICAgICAgIHwgIDggKysrKy0tLS0KPiAgZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9zeW5v
cHN5cy9kdy1taXBpLWRzaTIuYyAgICAgIHwgIDggKysrKy0tLS0KPiAgZHJpdmVycy9ncHUvZHJt
L2JyaWRnZS90YzM1ODc2Mi5jICAgICAgICAgICAgICAgICAgIHwgIDkgKysrKy0tLS0tCj4gIGRy
aXZlcnMvZ3B1L2RybS9icmlkZ2UvdGMzNTg3NjQuYyAgICAgICAgICAgICAgICAgICB8ICA5ICsr
KystLS0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3RjMzU4NzY4LmMgICAgICAgICAgICAg
ICAgICAgfCAgOSArKysrLS0tLS0KPiAgZHJpdmVycy9ncHUvZHJtL2JyaWRnZS90YzM1ODc3NS5j
ICAgICAgICAgICAgICAgICAgIHwgIDkgKysrKy0tLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9icmlk
Z2UvdGhjNjNsdmQxMDI0LmMgICAgICAgICAgICAgICB8ICA4ICsrKystLS0tCj4gIGRyaXZlcnMv
Z3B1L2RybS9icmlkZ2UvdGktZGxwYzM0MzMuYyAgICAgICAgICAgICAgICB8ICA5ICsrKystLS0t
LQo+ICBkcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3RpLXRkcDE1OC5jICAgICAgICAgICAgICAgICAg
fCAgOCArKysrLS0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3RpLXRmcDQxMC5jICAgICAg
ICAgICAgICAgICAgfCAgOSArKysrLS0tLS0KPiAgZHJpdmVycy9ncHUvZHJtL2JyaWRnZS90aS10
cGQxMnMwMTUuYyAgICAgICAgICAgICAgIHwgIDkgKysrKy0tLS0tCj4gIGRyaXZlcnMvZ3B1L2Ry
bS9tZWRpYXRlay9tdGtfZHAuYyAgICAgICAgICAgICAgICAgICB8ICA5ICsrKystLS0tLQo+ICBk
cml2ZXJzL2dwdS9kcm0vbWVkaWF0ZWsvbXRrX2RwaS5jICAgICAgICAgICAgICAgICAgfCAgOSAr
KysrLS0tLS0KPiAgZHJpdmVycy9ncHUvZHJtL21lZGlhdGVrL210a19kc2kuYyAgICAgICAgICAg
ICAgICAgIHwgIDkgKysrKy0tLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfaGRt
aS5jICAgICAgICAgICAgICAgICB8ICA5ICsrKystLS0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vbWVz
b24vbWVzb25fZW5jb2Rlcl9jdmJzLmMgICAgICAgICAgfCAxMiArKysrKystLS0tLS0KPiAgZHJp
dmVycy9ncHUvZHJtL21lc29uL21lc29uX2VuY29kZXJfZHNpLmMgICAgICAgICAgIHwgMTIgKysr
KysrLS0tLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9tZXNvbi9tZXNvbl9lbmNvZGVyX2hkbWkuYyAg
ICAgICAgICB8IDEyICsrKysrKy0tLS0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vcmVuZXNhcy9yY2Fy
LWR1L3JjYXJfbHZkcy5jICAgICAgICAgfCAgOSArKysrLS0tLS0KPiAgZHJpdmVycy9ncHUvZHJt
L3JlbmVzYXMvcnotZHUvcnpnMmxfbWlwaV9kc2kuYyAgICAgIHwgMTAgKysrKy0tLS0tLQo+ICA0
OSBmaWxlcyBjaGFuZ2VkLCAyMDEgaW5zZXJ0aW9ucygrKSwgMjM3IGRlbGV0aW9ucygtKQo+Cj4g
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hZHAvYWRwLW1pcGkuYyBiL2RyaXZlcnMvZ3B1
L2RybS9hZHAvYWRwLW1pcGkuYwo+IGluZGV4IDJiNjAxMjhlMmM2OTNlOWY4NWFmZmZmNTY5Y2M1
N2NkYjZmNDc5MDkuLmNiYTdkMzIxNTBhOThkNzhkMDdhMjViMTgyMmRlYzZiZjJmMDhmNjUgMTAw
NjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FkcC9hZHAtbWlwaS5jCj4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2FkcC9hZHAtbWlwaS5jCj4gQEAgLTIyOSw5ICsyMjksMTAgQEAgc3RhdGljIGlu
dCBhZHBfbWlwaV9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQo+ICB7Cj4gICAg
ICAgICBzdHJ1Y3QgYWRwX21pcGlfZHJ2X3ByaXZhdGUgKmFkcDsKPgo+IC0gICAgICAgYWRwID0g
ZGV2bV9remFsbG9jKCZwZGV2LT5kZXYsIHNpemVvZigqYWRwKSwgR0ZQX0tFUk5FTCk7Cj4gLSAg
ICAgICBpZiAoIWFkcCkKPiAtICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gKyAgICAg
ICBhZHAgPSBkZXZtX2RybV9icmlkZ2VfYWxsb2MoJnBkZXYtPmRldiwgc3RydWN0IGFkcF9taXBp
X2Rydl9wcml2YXRlLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyaWRn
ZSwgJmFkcF9kc2lfYnJpZGdlX2Z1bmNzKTsKPiArICAgICAgIGlmIChJU19FUlIoYWRwKSkKPiAr
ICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9FUlIoYWRwKTsKPgo+ICAgICAgICAgYWRwLT5taXBp
ID0gZGV2bV9wbGF0Zm9ybV9pb3JlbWFwX3Jlc291cmNlKHBkZXYsIDApOwo+ICAgICAgICAgaWYg
KElTX0VSUihhZHAtPm1pcGkpKSB7Cj4gQEAgLTI0MSw3ICsyNDIsNiBAQCBzdGF0aWMgaW50IGFk
cF9taXBpX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCj4KPiAgICAgICAgIGFk
cC0+ZHNpLmRldiA9ICZwZGV2LT5kZXY7Cj4gICAgICAgICBhZHAtPmRzaS5vcHMgPSAmYWRwX2Rz
aV9ob3N0X29wczsKPiAtICAgICAgIGFkcC0+YnJpZGdlLmZ1bmNzID0gJmFkcF9kc2lfYnJpZGdl
X2Z1bmNzOwo+ICAgICAgICAgYWRwLT5icmlkZ2Uub2Zfbm9kZSA9IHBkZXYtPmRldi5vZl9ub2Rl
Owo+ICAgICAgICAgYWRwLT5icmlkZ2UudHlwZSA9IERSTV9NT0RFX0NPTk5FQ1RPUl9EU0k7Cj4g
ICAgICAgICBkZXZfc2V0X2RydmRhdGEoJnBkZXYtPmRldiwgYWRwKTsKPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hZHY3NTExL2Fkdjc1MTFfZHJ2LmMgYi9kcml2ZXJzL2dw
dS9kcm0vYnJpZGdlL2Fkdjc1MTEvYWR2NzUxMV9kcnYuYwo+IGluZGV4IDEyNTcwMDllODUwYzFi
MjAxODRjZmFlYTViNmE0NDQwZTc1ZTEwZDcuLjQ0MTE5ODdjZDg1MTA5YjgzZTNkNGQ0NWU4NDJl
ZTljZjhkMjFhYWIgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hZHY3NTEx
L2Fkdjc1MTFfZHJ2LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2Fkdjc1MTEvYWR2
NzUxMV9kcnYuYwo+IEBAIC0xMjI0LDkgKzEyMjQsMTAgQEAgc3RhdGljIGludCBhZHY3NTExX3By
b2JlKHN0cnVjdCBpMmNfY2xpZW50ICppMmMpCj4gICAgICAgICBpZiAoIWRldi0+b2Zfbm9kZSkK
PiAgICAgICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7Cj4KPiAtICAgICAgIGFkdjc1MTEgPSBk
ZXZtX2t6YWxsb2MoZGV2LCBzaXplb2YoKmFkdjc1MTEpLCBHRlBfS0VSTkVMKTsKPiAtICAgICAg
IGlmICghYWR2NzUxMSkKPiAtICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gKyAgICAg
ICBhZHY3NTExID0gZGV2bV9kcm1fYnJpZGdlX2FsbG9jKGRldiwgc3RydWN0IGFkdjc1MTEsIGJy
aWRnZSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJmFkdjc1MTFf
YnJpZGdlX2Z1bmNzKTsKPiArICAgICAgIGlmIChJU19FUlIoYWR2NzUxMSkpCj4gKyAgICAgICAg
ICAgICAgIHJldHVybiBQVFJfRVJSKGFkdjc1MTEpOwo+Cj4gICAgICAgICBhZHY3NTExLT5pMmNf
bWFpbiA9IGkyYzsKPiAgICAgICAgIGFkdjc1MTEtPnBvd2VyZWQgPSBmYWxzZTsKPiBAQCAtMTMy
Niw4ICsxMzI3LDYgQEAgc3RhdGljIGludCBhZHY3NTExX3Byb2JlKHN0cnVjdCBpMmNfY2xpZW50
ICppMmMpCj4gICAgICAgICByZXQgPSBhZHY3NTExX2NlY19pbml0KGRldiwgYWR2NzUxMSk7Cj4g
ICAgICAgICBpZiAocmV0KQo+ICAgICAgICAgICAgICAgICBnb3RvIGVycl91bnJlZ2lzdGVyX2Nl
YzsKPiAtCj4gLSAgICAgICBhZHY3NTExLT5icmlkZ2UuZnVuY3MgPSAmYWR2NzUxMV9icmlkZ2Vf
ZnVuY3M7Cj4gICAgICAgICBhZHY3NTExLT5icmlkZ2Uub3BzID0gRFJNX0JSSURHRV9PUF9ERVRF
Q1QgfCBEUk1fQlJJREdFX09QX0VESUQ7Cj4gICAgICAgICBpZiAoYWR2NzUxMS0+aTJjX21haW4t
PmlycSkKPiAgICAgICAgICAgICAgICAgYWR2NzUxMS0+YnJpZGdlLm9wcyB8PSBEUk1fQlJJREdF
X09QX0hQRDsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9h
bmFsb2dpeC1hbng3OHh4LmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L2FuYWxv
Z2l4LWFueDc4eHguYwo+IGluZGV4IGE4MzAyMGQ2NTc2Zjc4MzcyMDU2MDY5OTQ3NzgzYTYyNmFj
ZjY0YjEuLmJhMGZjMTQ5YTllNzIyYTUzZGE2MDI3YTg1MWJmNjIyNjJiYTY0YjIgMTAwNjQ0Cj4g
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hbmFsb2dpeC9hbmFsb2dpeC1hbng3OHh4LmMK
PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2FuYWxvZ2l4L2FuYWxvZ2l4LWFueDc4eHgu
Ywo+IEBAIC0xMTkzLDkgKzExOTMsMTAgQEAgc3RhdGljIGludCBhbng3OHh4X2kyY19wcm9iZShz
dHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50KQo+ICAgICAgICAgYm9vbCBmb3VuZCA9IGZhbHNlOwo+
ICAgICAgICAgaW50IGVycjsKPgo+IC0gICAgICAgYW54Nzh4eCA9IGRldm1fa3phbGxvYygmY2xp
ZW50LT5kZXYsIHNpemVvZigqYW54Nzh4eCksIEdGUF9LRVJORUwpOwo+IC0gICAgICAgaWYgKCFh
bng3OHh4KQo+IC0gICAgICAgICAgICAgICByZXR1cm4gLUVOT01FTTsKPiArICAgICAgIGFueDc4
eHggPSBkZXZtX2RybV9icmlkZ2VfYWxsb2MoJmNsaWVudC0+ZGV2LCBzdHJ1Y3QgYW54Nzh4eCwg
YnJpZGdlLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmYW54Nzh4
eF9icmlkZ2VfZnVuY3MpOwo+ICsgICAgICAgaWYgKElTX0VSUihhbng3OHh4KSkKPiArICAgICAg
ICAgICAgICAgcmV0dXJuIFBUUl9FUlIoYW54Nzh4eCk7Cj4KPiAgICAgICAgIHBkYXRhID0gJmFu
eDc4eHgtPnBkYXRhOwo+Cj4gQEAgLTEzMDYsOCArMTMwNyw2IEBAIHN0YXRpYyBpbnQgYW54Nzh4
eF9pMmNfcHJvYmUoc3RydWN0IGkyY19jbGllbnQgKmNsaWVudCkKPiAgICAgICAgICAgICAgICAg
Z290byBlcnJfcG93ZXJvZmY7Cj4gICAgICAgICB9Cj4KPiAtICAgICAgIGFueDc4eHgtPmJyaWRn
ZS5mdW5jcyA9ICZhbng3OHh4X2JyaWRnZV9mdW5jczsKPiAtCj4gICAgICAgICBkcm1fYnJpZGdl
X2FkZCgmYW54Nzh4eC0+YnJpZGdlKTsKPgo+ICAgICAgICAgLyogSWYgY2FibGUgaXMgcHVsbGVk
IG91dCwganVzdCBwb3dlcm9mZiBhbmQgd2FpdCBmb3IgSFBEIGV2ZW50ICovCj4gZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYXV4LWJyaWRnZS5jIGIvZHJpdmVycy9ncHUvZHJt
L2JyaWRnZS9hdXgtYnJpZGdlLmMKPiBpbmRleCBjMTc5Yjg2ZDIwOGY3MGQ5NWI0MWU2ZjIxNTdi
NzhmOTdiYWM0ZDhkLi5lYTkxMDliZGJlMDg4ZGE0ZWEzNDExODQ1YmY2ZjI3YTUwZTJjZWJmIDEw
MDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYXV4LWJyaWRnZS5jCj4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9hdXgtYnJpZGdlLmMKPiBAQCAtMTA5LDE3ICsxMDksMTYg
QEAgc3RhdGljIGludCBkcm1fYXV4X2JyaWRnZV9wcm9iZShzdHJ1Y3QgYXV4aWxpYXJ5X2Rldmlj
ZSAqYXV4ZGV2LAo+ICB7Cj4gICAgICAgICBzdHJ1Y3QgZHJtX2F1eF9icmlkZ2VfZGF0YSAqZGF0
YTsKPgo+IC0gICAgICAgZGF0YSA9IGRldm1fa3phbGxvYygmYXV4ZGV2LT5kZXYsIHNpemVvZigq
ZGF0YSksIEdGUF9LRVJORUwpOwo+IC0gICAgICAgaWYgKCFkYXRhKQo+IC0gICAgICAgICAgICAg
ICByZXR1cm4gLUVOT01FTTsKPiArICAgICAgIGRhdGEgPSBkZXZtX2RybV9icmlkZ2VfYWxsb2Mo
JmF1eGRldi0+ZGV2LCBzdHJ1Y3QgZHJtX2F1eF9icmlkZ2VfZGF0YSwKPiArICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgYnJpZGdlLCAmZHJtX2F1eF9icmlkZ2VfZnVuY3MpOwo+
ICsgICAgICAgaWYgKElTX0VSUihkYXRhKSkKPiArICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9F
UlIoZGF0YSk7Cj4KPiAgICAgICAgIGRhdGEtPmRldiA9ICZhdXhkZXYtPmRldjsKPiAgICAgICAg
IGRhdGEtPm5leHRfYnJpZGdlID0gZGV2bV9kcm1fb2ZfZ2V0X2JyaWRnZSgmYXV4ZGV2LT5kZXYs
IGF1eGRldi0+ZGV2Lm9mX25vZGUsIDAsIDApOwo+ICAgICAgICAgaWYgKElTX0VSUihkYXRhLT5u
ZXh0X2JyaWRnZSkpCj4gICAgICAgICAgICAgICAgIHJldHVybiBkZXZfZXJyX3Byb2JlKCZhdXhk
ZXYtPmRldiwgUFRSX0VSUihkYXRhLT5uZXh0X2JyaWRnZSksCj4gICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICJmYWlsZWQgdG8gYWNxdWlyZSBkcm1fYnJpZGdlXG4iKTsKPiAt
Cj4gLSAgICAgICBkYXRhLT5icmlkZ2UuZnVuY3MgPSAmZHJtX2F1eF9icmlkZ2VfZnVuY3M7Cj4g
ICAgICAgICBkYXRhLT5icmlkZ2Uub2Zfbm9kZSA9IGRhdGEtPmRldi0+b2Zfbm9kZTsKPgo+ICAg
ICAgICAgLyogcGFzc3Rocm91Z2ggZGF0YSwgYWxsb3cgZXZlcnl0aGluZyAqLwo+IGRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2F1eC1ocGQtYnJpZGdlLmMgYi9kcml2ZXJzL2dw
dS9kcm0vYnJpZGdlL2F1eC1ocGQtYnJpZGdlLmMKPiBpbmRleCBiM2Y1ODhiNzFhN2Q3YWQ1YzJl
ZTdiMDdjMzkwNzliYzViYTM0Y2VlLi4zZWI0MTFmODc0ZTQxYjMyMmY3MzI2NDliZDIwNzRjNWQ4
NDIyNTY2IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYXV4LWhwZC1icmlk
Z2UuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvYXV4LWhwZC1icmlkZ2UuYwo+IEBA
IC0xNzEsMTIgKzE3MSwxMyBAQCBzdGF0aWMgaW50IGRybV9hdXhfaHBkX2JyaWRnZV9wcm9iZShz
dHJ1Y3QgYXV4aWxpYXJ5X2RldmljZSAqYXV4ZGV2LAo+ICB7Cj4gICAgICAgICBzdHJ1Y3QgZHJt
X2F1eF9ocGRfYnJpZGdlX2RhdGEgKmRhdGE7Cj4KPiAtICAgICAgIGRhdGEgPSBkZXZtX2t6YWxs
b2MoJmF1eGRldi0+ZGV2LCBzaXplb2YoKmRhdGEpLCBHRlBfS0VSTkVMKTsKPiAtICAgICAgIGlm
ICghZGF0YSkKPiAtICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gKyAgICAgICBkYXRh
ID0gZGV2bV9kcm1fYnJpZGdlX2FsbG9jKCZhdXhkZXYtPmRldiwKPiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGRybV9hdXhfaHBkX2JyaWRnZV9kYXRhLCBicmlk
Z2UsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZkcm1fYXV4X2hwZF9i
cmlkZ2VfZnVuY3MpOwo+ICsgICAgICAgaWYgKElTX0VSUihkYXRhKSkKPiArICAgICAgICAgICAg
ICAgcmV0dXJuIFBUUl9FUlIoZGF0YSk7Cj4KPiAgICAgICAgIGRhdGEtPmRldiA9ICZhdXhkZXYt
PmRldjsKPiAtICAgICAgIGRhdGEtPmJyaWRnZS5mdW5jcyA9ICZkcm1fYXV4X2hwZF9icmlkZ2Vf
ZnVuY3M7Cj4gICAgICAgICBkYXRhLT5icmlkZ2Uub2Zfbm9kZSA9IGRldl9nZXRfcGxhdGRhdGEo
ZGF0YS0+ZGV2KTsKPiAgICAgICAgIGRhdGEtPmJyaWRnZS5vcHMgPSBEUk1fQlJJREdFX09QX0hQ
RDsKPiAgICAgICAgIGRhdGEtPmJyaWRnZS50eXBlID0gaWQtPmRyaXZlcl9kYXRhOwo+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2NhZGVuY2UvY2Rucy1taGRwODU0Ni1jb3Jl
LmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2NhZGVuY2UvY2Rucy1taGRwODU0Ni1jb3JlLmMK
PiBpbmRleCBiNDMxZTdlZmQxZjBkNzQ5MzIwZWExNWI2ZjFmNWNhMTNmYzcyODAwLi5jYjVmNWE4
YzUzOWE0NzEyOTBkZjg0MzVkNGMyZTNlZDY5NmIzOGQ0IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9icmlkZ2UvY2FkZW5jZS9jZG5zLW1oZHA4NTQ2LWNvcmUuYwo+ICsrKyBiL2RyaXZl
cnMvZ3B1L2RybS9icmlkZ2UvY2FkZW5jZS9jZG5zLW1oZHA4NTQ2LWNvcmUuYwo+IEBAIC0yMzg5
LDkgKzIzODksMTAgQEAgc3RhdGljIGludCBjZG5zX21oZHBfcHJvYmUoc3RydWN0IHBsYXRmb3Jt
X2RldmljZSAqcGRldikKPiAgICAgICAgIGludCByZXQ7Cj4gICAgICAgICBpbnQgaXJxOwo+Cj4g
LSAgICAgICBtaGRwID0gZGV2bV9remFsbG9jKGRldiwgc2l6ZW9mKCptaGRwKSwgR0ZQX0tFUk5F
TCk7Cj4gLSAgICAgICBpZiAoIW1oZHApCj4gLSAgICAgICAgICAgICAgIHJldHVybiAtRU5PTUVN
Owo+ICsgICAgICAgbWhkcCA9IGRldm1fZHJtX2JyaWRnZV9hbGxvYyhkZXYsIHN0cnVjdCBjZG5z
X21oZHBfZGV2aWNlLCBicmlkZ2UsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICZjZG5zX21oZHBfYnJpZGdlX2Z1bmNzKTsKPiArICAgICAgIGlmIChJU19FUlIobWhkcCkp
Cj4gKyAgICAgICAgICAgICAgIHJldHVybiBQVFJfRVJSKG1oZHApOwo+Cj4gICAgICAgICBjbGsg
PSBkZXZtX2Nsa19nZXRfZW5hYmxlZChkZXYsIE5VTEwpOwo+ICAgICAgICAgaWYgKElTX0VSUihj
bGspKSB7Cj4gQEAgLTI0ODEsNyArMjQ4Miw2IEBAIHN0YXRpYyBpbnQgY2Ruc19taGRwX3Byb2Jl
KHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCj4gICAgICAgICBtaGRwLT5kaXNwbGF5X2Zt
dC5icGMgPSA4Owo+Cj4gICAgICAgICBtaGRwLT5icmlkZ2Uub2Zfbm9kZSA9IHBkZXYtPmRldi5v
Zl9ub2RlOwo+IC0gICAgICAgbWhkcC0+YnJpZGdlLmZ1bmNzID0gJmNkbnNfbWhkcF9icmlkZ2Vf
ZnVuY3M7Cj4gICAgICAgICBtaGRwLT5icmlkZ2Uub3BzID0gRFJNX0JSSURHRV9PUF9ERVRFQ1Qg
fCBEUk1fQlJJREdFX09QX0VESUQgfAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgIERSTV9C
UklER0VfT1BfSFBEOwo+ICAgICAgICAgbWhkcC0+YnJpZGdlLnR5cGUgPSBEUk1fTU9ERV9DT05O
RUNUT1JfRGlzcGxheVBvcnQ7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2Uv
Y2hpcG9uZS1pY242MjExLmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2NoaXBvbmUtaWNuNjIx
MS5jCj4gaW5kZXggNjM0YzViMDMwNjY3OWQyZTY4Nzk4YzJiOTAxM2FhZTQ0OTFkZDQ0Yy4uOTk4
OWM2YTZmMzQxNDI5NTc4OGU3N2Q1NjFlZTViODA3YWJjNjAyZSAxMDA2NDQKPiAtLS0gYS9kcml2
ZXJzL2dwdS9kcm0vYnJpZGdlL2NoaXBvbmUtaWNuNjIxMS5jCj4gKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2JyaWRnZS9jaGlwb25lLWljbjYyMTEuYwo+IEBAIC02OTEsMTcgKzY5MSwxNiBAQCBzdGF0
aWMgaW50IGNoaXBvbmVfY29tbW9uX3Byb2JlKHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0IGNo
aXBvbmUgKippY25yKQo+ICAgICAgICAgc3RydWN0IGNoaXBvbmUgKmljbjsKPiAgICAgICAgIGlu
dCByZXQ7Cj4KPiAtICAgICAgIGljbiA9IGRldm1fa3phbGxvYyhkZXYsIHNpemVvZihzdHJ1Y3Qg
Y2hpcG9uZSksIEdGUF9LRVJORUwpOwo+IC0gICAgICAgaWYgKCFpY24pCj4gLSAgICAgICAgICAg
ICAgIHJldHVybiAtRU5PTUVNOwo+ICsgICAgICAgaWNuID0gZGV2bV9kcm1fYnJpZGdlX2FsbG9j
KGRldiwgc3RydWN0IGNoaXBvbmUsIGJyaWRnZSwKPiArICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAmY2hpcG9uZV9icmlkZ2VfZnVuY3MpOwo+ICsgICAgICAgaWYgKElTX0VSUihp
Y24pKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gUFRSX0VSUihpY24pOwo+Cj4gICAgICAgICBp
Y24tPmRldiA9IGRldjsKPgo+ICAgICAgICAgcmV0ID0gY2hpcG9uZV9wYXJzZV9kdChpY24pOwo+
ICAgICAgICAgaWYgKHJldCkKPiAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKPiAtCj4gLSAg
ICAgICBpY24tPmJyaWRnZS5mdW5jcyA9ICZjaGlwb25lX2JyaWRnZV9mdW5jczsKPiAgICAgICAg
IGljbi0+YnJpZGdlLnR5cGUgPSBEUk1fTU9ERV9DT05ORUNUT1JfRFBJOwo+ICAgICAgICAgaWNu
LT5icmlkZ2Uub2Zfbm9kZSA9IGRldi0+b2Zfbm9kZTsKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vYnJpZGdlL2Nocm9udGVsLWNoNzAzMy5jIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRn
ZS9jaHJvbnRlbC1jaDcwMzMuYwo+IGluZGV4IDIxMGM0NWMxZWZkNDhmNWI1NDFiZjczZGE2NmEx
NjljMjdlMTEwYjIuLmFiOTI3NDc5MzM1NjhiZmJhNzdkYTQ1MjE5ZTAxOTQwODAyOWYyOTcgMTAw
NjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9jaHJvbnRlbC1jaDcwMzMuYwo+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvY2hyb250ZWwtY2g3MDMzLmMKPiBAQCAtNTM2LDkg
KzUzNiwxMCBAQCBzdGF0aWMgaW50IGNoNzAzM19wcm9iZShzdHJ1Y3QgaTJjX2NsaWVudCAqY2xp
ZW50KQo+ICAgICAgICAgdW5zaWduZWQgaW50IHZhbDsKPiAgICAgICAgIGludCByZXQ7Cj4KPiAt
ICAgICAgIHByaXYgPSBkZXZtX2t6YWxsb2MoZGV2LCBzaXplb2YoKnByaXYpLCBHRlBfS0VSTkVM
KTsKPiAtICAgICAgIGlmICghcHJpdikKPiAtICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07
Cj4gKyAgICAgICBwcml2ID0gZGV2bV9kcm1fYnJpZGdlX2FsbG9jKGRldiwgc3RydWN0IGNoNzAz
M19wcml2LCBicmlkZ2UsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZj
aDcwMzNfYnJpZGdlX2Z1bmNzKTsKPiArICAgICAgIGlmIChJU19FUlIocHJpdikpCj4gKyAgICAg
ICAgICAgICAgIHJldHVybiBQVFJfRVJSKHByaXYpOwo+Cj4gICAgICAgICBkZXZfc2V0X2RydmRh
dGEoZGV2LCBwcml2KTsKPgo+IEBAIC01NzUsNyArNTc2LDYgQEAgc3RhdGljIGludCBjaDcwMzNf
cHJvYmUoc3RydWN0IGkyY19jbGllbnQgKmNsaWVudCkKPiAgICAgICAgIH0KPgo+ICAgICAgICAg
SU5JVF9MSVNUX0hFQUQoJnByaXYtPmJyaWRnZS5saXN0KTsKPiAtICAgICAgIHByaXYtPmJyaWRn
ZS5mdW5jcyA9ICZjaDcwMzNfYnJpZGdlX2Z1bmNzOwo+ICAgICAgICAgcHJpdi0+YnJpZGdlLm9m
X25vZGUgPSBkZXYtPm9mX25vZGU7Cj4gICAgICAgICBkcm1fYnJpZGdlX2FkZCgmcHJpdi0+YnJp
ZGdlKTsKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2Nyb3MtZWMtYW54
NzY4OC5jIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9jcm9zLWVjLWFueDc2ODguYwo+IGluZGV4
IGM4YWJkOTkyMGZlZTk1NmNmMDQ5YmNiMDk4MjdkNjU4Yjc5MzkzMzMuLmFiNTM5MTQzZjcxMDU5
ZTIwMmJhY2VkNDcwOTFjZmMxYzkxNzRiN2MgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2JyaWRnZS9jcm9zLWVjLWFueDc2ODguYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2Uv
Y3Jvcy1lYy1hbng3Njg4LmMKPiBAQCAtMTAzLDkgKzEwMywxMCBAQCBzdGF0aWMgaW50IGNyb3Nf
ZWNfYW54NzY4OF9icmlkZ2VfcHJvYmUoc3RydWN0IGkyY19jbGllbnQgKmNsaWVudCkKPiAgICAg
ICAgIHU4IGJ1ZmZlcls0XTsKPiAgICAgICAgIGludCByZXQ7Cj4KPiAtICAgICAgIGFueDc2ODgg
PSBkZXZtX2t6YWxsb2MoZGV2LCBzaXplb2YoKmFueDc2ODgpLCBHRlBfS0VSTkVMKTsKPiAtICAg
ICAgIGlmICghYW54NzY4OCkKPiAtICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gKyAg
ICAgICBhbng3Njg4ID0gZGV2bV9kcm1fYnJpZGdlX2FsbG9jKGRldiwgc3RydWN0IGNyb3NfZWNf
YW54NzY4OCwgYnJpZGdlLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAmY3Jvc19lY19hbng3Njg4X2JyaWRnZV9mdW5jcyk7Cj4gKyAgICAgICBpZiAoSVNfRVJSKGFu
eDc2ODgpKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gUFRSX0VSUihhbng3Njg4KTsKPgo+ICAg
ICAgICAgYW54NzY4OC0+Y2xpZW50ID0gY2xpZW50Owo+ICAgICAgICAgaTJjX3NldF9jbGllbnRk
YXRhKGNsaWVudCwgYW54NzY4OCk7Cj4gQEAgLTE1Miw4ICsxNTMsNiBAQCBzdGF0aWMgaW50IGNy
b3NfZWNfYW54NzY4OF9icmlkZ2VfcHJvYmUoc3RydWN0IGkyY19jbGllbnQgKmNsaWVudCkKPiAg
ICAgICAgICAgICAgICAgLyogV2FybiwgYnV0IG5vdCBmYWlsLCBmb3IgYmFja3dhcmRzIGNvbXBh
dGliaWxpdHkgKi8KPiAgICAgICAgICAgICAgICAgRFJNX1dBUk4oIk9sZCBBTlg3Njg4IEZXIHZl
cnNpb24gKDB4JTA0eCksIG5vdCBmaWx0ZXJpbmdcbiIsCj4gICAgICAgICAgICAgICAgICAgICAg
ICAgIGZ3X3ZlcnNpb24pOwo+IC0KPiAtICAgICAgIGFueDc2ODgtPmJyaWRnZS5mdW5jcyA9ICZj
cm9zX2VjX2FueDc2ODhfYnJpZGdlX2Z1bmNzOwo+ICAgICAgICAgZHJtX2JyaWRnZV9hZGQoJmFu
eDc2ODgtPmJyaWRnZSk7Cj4KPiAgICAgICAgIHJldHVybiAwOwo+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vYnJpZGdlL2ZzbC1sZGIuYyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvZnNs
LWxkYi5jCj4gaW5kZXggMmNiNmRmYzdhNmQzZGJkZDYyMGEzNTM0NTIwNGY4ZmI5Y2FlNjY1MS4u
NWMzY2YzNzIwMGJjZWUxZGIyODVjOTdlMmI0NjNjOTM1NWVlNmFjYiAxMDA2NDQKPiAtLS0gYS9k
cml2ZXJzL2dwdS9kcm0vYnJpZGdlL2ZzbC1sZGIuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9i
cmlkZ2UvZnNsLWxkYi5jCj4gQEAgLTI5OCwxNiArMjk4LDE1IEBAIHN0YXRpYyBpbnQgZnNsX2xk
Yl9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQo+ICAgICAgICAgc3RydWN0IGZz
bF9sZGIgKmZzbF9sZGI7Cj4gICAgICAgICBpbnQgZHVhbF9saW5rOwo+Cj4gLSAgICAgICBmc2xf
bGRiID0gZGV2bV9remFsbG9jKGRldiwgc2l6ZW9mKCpmc2xfbGRiKSwgR0ZQX0tFUk5FTCk7Cj4g
LSAgICAgICBpZiAoIWZzbF9sZGIpCj4gLSAgICAgICAgICAgICAgIHJldHVybiAtRU5PTUVNOwo+
ICsgICAgICAgZnNsX2xkYiA9IGRldm1fZHJtX2JyaWRnZV9hbGxvYyhkZXYsIHN0cnVjdCBmc2xf
bGRiLCBicmlkZ2UsICZmdW5jcyk7Cj4gKyAgICAgICBpZiAoSVNfRVJSKGZzbF9sZGIpKQo+ICsg
ICAgICAgICAgICAgICByZXR1cm4gUFRSX0VSUihmc2xfbGRiKTsKPgo+ICAgICAgICAgZnNsX2xk
Yi0+ZGV2ZGF0YSA9IG9mX2RldmljZV9nZXRfbWF0Y2hfZGF0YShkZXYpOwo+ICAgICAgICAgaWYg
KCFmc2xfbGRiLT5kZXZkYXRhKQo+ICAgICAgICAgICAgICAgICByZXR1cm4gLUVJTlZBTDsKPgo+
ICAgICAgICAgZnNsX2xkYi0+ZGV2ID0gJnBkZXYtPmRldjsKPiAtICAgICAgIGZzbF9sZGItPmJy
aWRnZS5mdW5jcyA9ICZmdW5jczsKPiAgICAgICAgIGZzbF9sZGItPmJyaWRnZS5vZl9ub2RlID0g
ZGV2LT5vZl9ub2RlOwo+Cj4gICAgICAgICBmc2xfbGRiLT5jbGsgPSBkZXZtX2Nsa19nZXQoZGV2
LCAibGRiIik7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvaW14L2lteC1s
ZWdhY3ktYnJpZGdlLmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2lteC9pbXgtbGVnYWN5LWJy
aWRnZS5jCj4gaW5kZXggZjA3MmM2ZWQzOWVmMTgzYjEwNTE4YjQzYmQ2ZDk3OWJjODllMzZmOS4u
MWUzMGE1ODE2NDVjNTZiYWE5YWFjMzhkZWVkNzM0MjU5ODRiM2NjOSAxMDA2NDQKPiAtLS0gYS9k
cml2ZXJzL2dwdS9kcm0vYnJpZGdlL2lteC9pbXgtbGVnYWN5LWJyaWRnZS5jCj4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL2JyaWRnZS9pbXgvaW14LWxlZ2FjeS1icmlkZ2UuYwo+IEBAIC01OSw5ICs1
OSwxMCBAQCBzdHJ1Y3QgZHJtX2JyaWRnZSAqZGV2bV9pbXhfZHJtX2xlZ2FjeV9icmlkZ2Uoc3Ry
dWN0IGRldmljZSAqZGV2LAo+ICAgICAgICAgc3RydWN0IGlteF9sZWdhY3lfYnJpZGdlICppbXhf
YnJpZGdlOwo+ICAgICAgICAgaW50IHJldDsKPgo+IC0gICAgICAgaW14X2JyaWRnZSA9IGRldm1f
a3phbGxvYyhkZXYsIHNpemVvZigqaW14X2JyaWRnZSksIEdGUF9LRVJORUwpOwo+IC0gICAgICAg
aWYgKCFpbXhfYnJpZGdlKQo+IC0gICAgICAgICAgICAgICByZXR1cm4gRVJSX1BUUigtRU5PTUVN
KTsKPiArICAgICAgIGlteF9icmlkZ2UgPSBkZXZtX2RybV9icmlkZ2VfYWxsb2MoZGV2LCBzdHJ1
Y3QgaW14X2xlZ2FjeV9icmlkZ2UsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGJhc2UsICZpbXhfbGVnYWN5X2JyaWRnZV9mdW5jcyk7Cj4gKyAgICAgICBpZiAo
SVNfRVJSKGlteF9icmlkZ2UpKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gaW14X2JyaWRnZTsK
Pgo+ICAgICAgICAgcmV0ID0gb2ZfZ2V0X2RybV9kaXNwbGF5X21vZGUobnAsCj4gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmaW14X2JyaWRnZS0+bW9kZSwKPiBAQCAtNzEs
OCArNzIsNiBAQCBzdHJ1Y3QgZHJtX2JyaWRnZSAqZGV2bV9pbXhfZHJtX2xlZ2FjeV9icmlkZ2Uo
c3RydWN0IGRldmljZSAqZGV2LAo+ICAgICAgICAgICAgICAgICByZXR1cm4gRVJSX1BUUihyZXQp
Owo+Cj4gICAgICAgICBpbXhfYnJpZGdlLT5tb2RlLnR5cGUgfD0gRFJNX01PREVfVFlQRV9EUklW
RVI7Cj4gLQo+IC0gICAgICAgaW14X2JyaWRnZS0+YmFzZS5mdW5jcyA9ICZpbXhfbGVnYWN5X2Jy
aWRnZV9mdW5jczsKPiAgICAgICAgIGlteF9icmlkZ2UtPmJhc2Uub2Zfbm9kZSA9IG5wOwo+ICAg
ICAgICAgaW14X2JyaWRnZS0+YmFzZS5vcHMgPSBEUk1fQlJJREdFX09QX01PREVTOwo+ICAgICAg
ICAgaW14X2JyaWRnZS0+YmFzZS50eXBlID0gdHlwZTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2JyaWRnZS9pbXgvaW14OG1wLWhkbWktcHZpLmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJp
ZGdlL2lteC9pbXg4bXAtaGRtaS1wdmkuYwo+IGluZGV4IDhhNGZkN2Q3N2E4ZDUxNmIzYjQ2ZjQx
Y2YwN2QyNjMzZDIzYmRlMTIuLjE4YjYwYmI2MGUwMDQyYTFkMDMxMjgzZmVjZjk1YzRiN2E5MzEy
ZTEgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9pbXgvaW14OG1wLWhkbWkt
cHZpLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2lteC9pbXg4bXAtaGRtaS1wdmku
Ywo+IEBAIC0xNDAsOSArMTQwLDEwIEBAIHN0YXRpYyBpbnQgaW14OG1wX2hkbWlfcHZpX3Byb2Jl
KHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCj4gICAgICAgICBzdHJ1Y3QgZGV2aWNlX25v
ZGUgKnJlbW90ZTsKPiAgICAgICAgIHN0cnVjdCBpbXg4bXBfaGRtaV9wdmkgKnB2aTsKPgo+IC0g
ICAgICAgcHZpID0gZGV2bV9remFsbG9jKCZwZGV2LT5kZXYsIHNpemVvZigqcHZpKSwgR0ZQX0tF
Uk5FTCk7Cj4gLSAgICAgICBpZiAoIXB2aSkKPiAtICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9N
RU07Cj4gKyAgICAgICBwdmkgPSBkZXZtX2RybV9icmlkZ2VfYWxsb2MoJnBkZXYtPmRldiwgc3Ry
dWN0IGlteDhtcF9oZG1pX3B2aSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBicmlkZ2UsICZpbXhfaGRtaV9wdmlfYnJpZGdlX2Z1bmNzKTsKPiArICAgICAgIGlmIChJU19F
UlIocHZpKSkKPiArICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9FUlIocHZpKTsKPgo+ICAgICAg
ICAgcGxhdGZvcm1fc2V0X2RydmRhdGEocGRldiwgcHZpKTsKPiAgICAgICAgIHB2aS0+ZGV2ID0g
JnBkZXYtPmRldjsKPiBAQCAtMTY0LDkgKzE2NSw2IEBAIHN0YXRpYyBpbnQgaW14OG1wX2hkbWlf
cHZpX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCj4gICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICJjb3VsZCBub3QgZmluZCBuZXh0IGJyaWRnZVxuIik7Cj4K
PiAgICAgICAgIHBtX3J1bnRpbWVfZW5hYmxlKCZwZGV2LT5kZXYpOwo+IC0KPiAtICAgICAgIC8q
IFJlZ2lzdGVyIHRoZSBicmlkZ2UuICovCj4gLSAgICAgICBwdmktPmJyaWRnZS5mdW5jcyA9ICZp
bXhfaGRtaV9wdmlfYnJpZGdlX2Z1bmNzOwo+ICAgICAgICAgcHZpLT5icmlkZ2Uub2Zfbm9kZSA9
IHBkZXYtPmRldi5vZl9ub2RlOwo+ICAgICAgICAgcHZpLT5icmlkZ2UudGltaW5ncyA9IHB2aS0+
bmV4dF9icmlkZ2UtPnRpbWluZ3M7Cj4KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2Jy
aWRnZS9pbXgvaW14OHF4cC1waXhlbC1saW5rLmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2lt
eC9pbXg4cXhwLXBpeGVsLWxpbmsuYwo+IGluZGV4IGUwOTJjOWVhOTliMDIyNDgwMjkxOWZmODRi
NDQ4YWNiNTM1MDg5NTEuLmU1OTQzNTA2OTgxZGZiOGYxMTNjOTRhZDUyZGRiYmE1MmUwMGVjM2Yg
MTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9pbXgvaW14OHF4cC1waXhlbC1s
aW5rLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2lteC9pbXg4cXhwLXBpeGVsLWxp
bmsuYwo+IEBAIC0zMjcsOSArMzI3LDEwIEBAIHN0YXRpYyBpbnQgaW14OHF4cF9waXhlbF9saW5r
X2JyaWRnZV9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQo+ICAgICAgICAgc3Ry
dWN0IGRldmljZV9ub2RlICpucCA9IGRldi0+b2Zfbm9kZTsKPiAgICAgICAgIGludCByZXQ7Cj4K
PiAtICAgICAgIHBsID0gZGV2bV9remFsbG9jKGRldiwgc2l6ZW9mKCpwbCksIEdGUF9LRVJORUwp
Owo+IC0gICAgICAgaWYgKCFwbCkKPiAtICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4g
KyAgICAgICBwbCA9IGRldm1fZHJtX2JyaWRnZV9hbGxvYyhkZXYsIHN0cnVjdCBpbXg4cXhwX3Bp
eGVsX2xpbmssIGJyaWRnZSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZp
bXg4cXhwX3BpeGVsX2xpbmtfYnJpZGdlX2Z1bmNzKTsKPiArICAgICAgIGlmIChJU19FUlIocGwp
KQo+ICsgICAgICAgICAgICAgICByZXR1cm4gUFRSX0VSUihwbCk7Cj4KPiAgICAgICAgIHJldCA9
IGlteF9zY3VfZ2V0X2hhbmRsZSgmcGwtPmlwY19oYW5kbGUpOwo+ICAgICAgICAgaWYgKHJldCkg
ewo+IEBAIC0zODQsNyArMzg1LDYgQEAgc3RhdGljIGludCBpbXg4cXhwX3BpeGVsX2xpbmtfYnJp
ZGdlX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCj4gICAgICAgICBwbGF0Zm9y
bV9zZXRfZHJ2ZGF0YShwZGV2LCBwbCk7Cj4KPiAgICAgICAgIHBsLT5icmlkZ2UuZHJpdmVyX3By
aXZhdGUgPSBwbDsKPiAtICAgICAgIHBsLT5icmlkZ2UuZnVuY3MgPSAmaW14OHF4cF9waXhlbF9s
aW5rX2JyaWRnZV9mdW5jczsKPiAgICAgICAgIHBsLT5icmlkZ2Uub2Zfbm9kZSA9IG5wOwo+Cj4g
ICAgICAgICBkcm1fYnJpZGdlX2FkZCgmcGwtPmJyaWRnZSk7Cj4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9icmlkZ2UvaW14L2lteDhxeHAtcHhsMmRwaS5jIGIvZHJpdmVycy9ncHUvZHJt
L2JyaWRnZS9pbXgvaW14OHF4cC1weGwyZHBpLmMKPiBpbmRleCBkYTEzOGFiNTFiM2JkMmM2ZWJk
Mzc4MGMwOTgxODg5MWQ1MzIwMDkyLi4xMTEzMTBhY2FiMmNlNDAzYTYyYTQ3ZWNiZTlkOWRkMzcy
Yzc1ZWNkIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvaW14L2lteDhxeHAt
cHhsMmRwaS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9pbXgvaW14OHF4cC1weGwy
ZHBpLmMKPiBAQCAtMzkyLDkgKzM5MiwxMCBAQCBzdGF0aWMgaW50IGlteDhxeHBfcHhsMmRwaV9i
cmlkZ2VfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKPiAgICAgICAgIHN0cnVj
dCBkZXZpY2Vfbm9kZSAqbnAgPSBkZXYtPm9mX25vZGU7Cj4gICAgICAgICBpbnQgcmV0Owo+Cj4g
LSAgICAgICBwMmQgPSBkZXZtX2t6YWxsb2MoZGV2LCBzaXplb2YoKnAyZCksIEdGUF9LRVJORUwp
Owo+IC0gICAgICAgaWYgKCFwMmQpCj4gLSAgICAgICAgICAgICAgIHJldHVybiAtRU5PTUVNOwo+
ICsgICAgICAgcDJkID0gZGV2bV9kcm1fYnJpZGdlX2FsbG9jKGRldiwgc3RydWN0IGlteDhxeHBf
cHhsMmRwaSwgYnJpZGdlLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZp
bXg4cXhwX3B4bDJkcGlfYnJpZGdlX2Z1bmNzKTsKPiArICAgICAgIGlmIChJU19FUlIocDJkKSkK
PiArICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9FUlIocDJkKTsKPgo+ICAgICAgICAgcDJkLT5y
ZWdtYXAgPSBzeXNjb25fbm9kZV90b19yZWdtYXAobnAtPnBhcmVudCk7Cj4gICAgICAgICBpZiAo
SVNfRVJSKHAyZC0+cmVnbWFwKSkgewo+IEBAIC00NDEsNyArNDQyLDYgQEAgc3RhdGljIGludCBp
bXg4cXhwX3B4bDJkcGlfYnJpZGdlX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYp
Cj4gICAgICAgICBwbV9ydW50aW1lX2VuYWJsZShkZXYpOwo+Cj4gICAgICAgICBwMmQtPmJyaWRn
ZS5kcml2ZXJfcHJpdmF0ZSA9IHAyZDsKPiAtICAgICAgIHAyZC0+YnJpZGdlLmZ1bmNzID0gJmlt
eDhxeHBfcHhsMmRwaV9icmlkZ2VfZnVuY3M7Cj4gICAgICAgICBwMmQtPmJyaWRnZS5vZl9ub2Rl
ID0gbnA7Cj4KPiAgICAgICAgIGRybV9icmlkZ2VfYWRkKCZwMmQtPmJyaWRnZSk7Cj4gZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvaXRlLWl0NjI2My5jIGIvZHJpdmVycy9ncHUv
ZHJtL2JyaWRnZS9pdGUtaXQ2MjYzLmMKPiBpbmRleCBhM2E2M2E5NzdiMGE4NDg3YWQzOGZjMDhl
MGVlZDA4NjcyZjRkNDFhLi5hNDE3YjI1YTY1ZTgzNjkxNzdkNGJiMDlkMTc5YTg2NWY2MTg3YWRj
IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvaXRlLWl0NjI2My5jCj4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9pdGUtaXQ2MjYzLmMKPiBAQCAtODE2LDkgKzgxNiwx
MCBAQCBzdGF0aWMgaW50IGl0NjI2M19wcm9iZShzdHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50KQo+
ICAgICAgICAgc3RydWN0IGl0NjI2MyAqaXQ7Cj4gICAgICAgICBpbnQgcmV0Owo+Cj4gLSAgICAg
ICBpdCA9IGRldm1fa3phbGxvYyhkZXYsIHNpemVvZigqaXQpLCBHRlBfS0VSTkVMKTsKPiAtICAg
ICAgIGlmICghaXQpCj4gLSAgICAgICAgICAgICAgIHJldHVybiAtRU5PTUVNOwo+ICsgICAgICAg
aXQgPSBkZXZtX2RybV9icmlkZ2VfYWxsb2MoZGV2LCBzdHJ1Y3QgaXQ2MjYzLCBicmlkZ2UsCj4g
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmaXQ2MjYzX2JyaWRnZV9mdW5jcyk7
Cj4gKyAgICAgICBpZiAoSVNfRVJSKGl0KSkKPiArICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9F
UlIoaXQpOwo+Cj4gICAgICAgICBpdC0+ZGV2ID0gZGV2Owo+ICAgICAgICAgaXQtPmhkbWlfaTJj
ID0gY2xpZW50Owo+IEBAIC04NjUsOCArODY2LDYgQEAgc3RhdGljIGludCBpdDYyNjNfcHJvYmUo
c3RydWN0IGkyY19jbGllbnQgKmNsaWVudCkKPiAgICAgICAgIGl0NjI2M19oZG1pX2NvbmZpZyhp
dCk7Cj4KPiAgICAgICAgIGkyY19zZXRfY2xpZW50ZGF0YShjbGllbnQsIGl0KTsKPiAtCj4gLSAg
ICAgICBpdC0+YnJpZGdlLmZ1bmNzID0gJml0NjI2M19icmlkZ2VfZnVuY3M7Cj4gICAgICAgICBp
dC0+YnJpZGdlLm9mX25vZGUgPSBkZXYtPm9mX25vZGU7Cj4gICAgICAgICAvKiBJVDYyNjMgY2hp
cCBkb2Vzbid0IHN1cHBvcnQgSFBEIGludGVycnVwdC4gKi8KPiAgICAgICAgIGl0LT5icmlkZ2Uu
b3BzID0gRFJNX0JSSURHRV9PUF9ERVRFQ1QgfCBEUk1fQlJJREdFX09QX0VESUQgfAo+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2l0ZS1pdDY1MDUuYyBiL2RyaXZlcnMvZ3B1
L2RybS9icmlkZ2UvaXRlLWl0NjUwNS5jCj4gaW5kZXggMTM4M2QxZTIxYWZlYTFhY2I0NmI3YmQy
ODg2MDkwOGI1ODgzMmRiYy4uYmYyZTg1NDIxMDIzM2JjZWNkMWJlNTgyZWYwOTIzNzBiZDY1MjQx
MiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2l0ZS1pdDY1MDUuYwo+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvaXRlLWl0NjUwNS5jCj4gQEAgLTM1ODMsOSArMzU4
MywxMCBAQCBzdGF0aWMgaW50IGl0NjUwNV9pMmNfcHJvYmUoc3RydWN0IGkyY19jbGllbnQgKmNs
aWVudCkKPiAgICAgICAgIHN0cnVjdCBleHRjb25fZGV2ICpleHRjb247Cj4gICAgICAgICBpbnQg
ZXJyOwo+Cj4gLSAgICAgICBpdDY1MDUgPSBkZXZtX2t6YWxsb2MoJmNsaWVudC0+ZGV2LCBzaXpl
b2YoKml0NjUwNSksIEdGUF9LRVJORUwpOwo+IC0gICAgICAgaWYgKCFpdDY1MDUpCj4gLSAgICAg
ICAgICAgICAgIHJldHVybiAtRU5PTUVNOwo+ICsgICAgICAgaXQ2NTA1ID0gZGV2bV9kcm1fYnJp
ZGdlX2FsbG9jKCZjbGllbnQtPmRldiwgc3RydWN0IGl0NjUwNSwgYnJpZGdlLAo+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZpdDY1MDVfYnJpZGdlX2Z1bmNzKTsKPiAr
ICAgICAgIGlmIChJU19FUlIoaXQ2NTA1KSkKPiArICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9F
UlIoaXQ2NTA1KTsKPgo+ICAgICAgICAgbXV0ZXhfaW5pdCgmaXQ2NTA1LT5leHRjb25fbG9jayk7
Cj4gICAgICAgICBtdXRleF9pbml0KCZpdDY1MDUtPm1vZGVfbG9jayk7Cj4gQEAgLTM2NTksOCAr
MzY2MCw2IEBAIHN0YXRpYyBpbnQgaXQ2NTA1X2kyY19wcm9iZShzdHJ1Y3QgaTJjX2NsaWVudCAq
Y2xpZW50KQo+ICAgICAgICAgaXQ2NTA1LT5hdXguZGV2ID0gZGV2Owo+ICAgICAgICAgaXQ2NTA1
LT5hdXgudHJhbnNmZXIgPSBpdDY1MDVfYXV4X3RyYW5zZmVyOwo+ICAgICAgICAgZHJtX2RwX2F1
eF9pbml0KCZpdDY1MDUtPmF1eCk7Cj4gLQo+IC0gICAgICAgaXQ2NTA1LT5icmlkZ2UuZnVuY3Mg
PSAmaXQ2NTA1X2JyaWRnZV9mdW5jczsKPiAgICAgICAgIGl0NjUwNS0+YnJpZGdlLnR5cGUgPSBE
Uk1fTU9ERV9DT05ORUNUT1JfRGlzcGxheVBvcnQ7Cj4gICAgICAgICBpdDY1MDUtPmJyaWRnZS5v
cHMgPSBEUk1fQlJJREdFX09QX0RFVEVDVCB8IERSTV9CUklER0VfT1BfRURJRCB8Cj4gICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBEUk1fQlJJREdFX09QX0hQRDsKPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9pdGUtaXQ2NjEyMS5jIGIvZHJpdmVycy9ncHUvZHJtL2Jy
aWRnZS9pdGUtaXQ2NjEyMS5jCj4gaW5kZXggN2IxMTBhZTUzMjkxOGQyZDZmOTFlYmM1Zjc0N2Mz
OGU3ZTc3ZGMwNy4uYWVlODg0MzZkNzJlM2MxYzhkOGY2YjYyYWIwNGE4ZDliZTEwYjQxMyAxMDA2
NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2l0ZS1pdDY2MTIxLmMKPiArKysgYi9k
cml2ZXJzL2dwdS9kcm0vYnJpZGdlL2l0ZS1pdDY2MTIxLmMKPiBAQCAtMTUxNiw5ICsxNTE2LDEw
IEBAIHN0YXRpYyBpbnQgaXQ2NjEyMV9wcm9iZShzdHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50KQo+
ICAgICAgICAgICAgICAgICByZXR1cm4gLUVOWElPOwo+ICAgICAgICAgfQo+Cj4gLSAgICAgICBj
dHggPSBkZXZtX2t6YWxsb2MoZGV2LCBzaXplb2YoKmN0eCksIEdGUF9LRVJORUwpOwo+IC0gICAg
ICAgaWYgKCFjdHgpCj4gLSAgICAgICAgICAgICAgIHJldHVybiAtRU5PTUVNOwo+ICsgICAgICAg
Y3R4ID0gZGV2bV9kcm1fYnJpZGdlX2FsbG9jKGRldiwgc3RydWN0IGl0NjYxMjFfY3R4LCBicmlk
Z2UsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJml0NjYxMjFfYnJpZGdl
X2Z1bmNzKTsKPiArICAgICAgIGlmIChJU19FUlIoY3R4KSkKPiArICAgICAgICAgICAgICAgcmV0
dXJuIFBUUl9FUlIoY3R4KTsKPgo+ICAgICAgICAgZXAgPSBvZl9ncmFwaF9nZXRfZW5kcG9pbnRf
YnlfcmVncyhkZXYtPm9mX25vZGUsIDAsIDApOwo+ICAgICAgICAgaWYgKCFlcCkKPiBAQCAtMTU3
Niw4ICsxNTc3LDYgQEAgc3RhdGljIGludCBpdDY2MTIxX3Byb2JlKHN0cnVjdCBpMmNfY2xpZW50
ICpjbGllbnQpCj4gICAgICAgICAgICAgKGRldmljZV9pZHNbMV0gPDwgOCB8IGRldmljZV9pZHNb
MF0pICE9IGN0eC0+aW5mby0+cGlkKSB7Cj4gICAgICAgICAgICAgICAgIHJldHVybiAtRU5PREVW
Owo+ICAgICAgICAgfQo+IC0KPiAtICAgICAgIGN0eC0+YnJpZGdlLmZ1bmNzID0gJml0NjYxMjFf
YnJpZGdlX2Z1bmNzOwo+ICAgICAgICAgY3R4LT5icmlkZ2Uub2Zfbm9kZSA9IGRldi0+b2Zfbm9k
ZTsKPiAgICAgICAgIGN0eC0+YnJpZGdlLnR5cGUgPSBEUk1fTU9ERV9DT05ORUNUT1JfSERNSUE7
Cj4gICAgICAgICBjdHgtPmJyaWRnZS5vcHMgPSBEUk1fQlJJREdFX09QX0RFVEVDVCB8IERSTV9C
UklER0VfT1BfRURJRDsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9sb250
aXVtLWx0ODkxMmIuYyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvbG9udGl1bS1sdDg5MTJiLmMK
PiBpbmRleCAzZTQ5ZDg1NWIzNjQ4ODgwY2VhOWJjZTVmM2YwNGZiYjZmODM4YTQ1Li5jMmEwN2Y3
YzgzZmExZTBhZWZiYmJjYzg1NTM2N2FkYzYxNDBmMzRkIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9icmlkZ2UvbG9udGl1bS1sdDg5MTJiLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0v
YnJpZGdlL2xvbnRpdW0tbHQ4OTEyYi5jCj4gQEAgLTc2MSw5ICs3NjEsMTAgQEAgc3RhdGljIGlu
dCBsdDg5MTJfcHJvYmUoc3RydWN0IGkyY19jbGllbnQgKmNsaWVudCkKPiAgICAgICAgIGludCBy
ZXQgPSAwOwo+ICAgICAgICAgc3RydWN0IGRldmljZSAqZGV2ID0gJmNsaWVudC0+ZGV2Owo+Cj4g
LSAgICAgICBsdCA9IGRldm1fa3phbGxvYyhkZXYsIHNpemVvZihzdHJ1Y3QgbHQ4OTEyKSwgR0ZQ
X0tFUk5FTCk7Cj4gLSAgICAgICBpZiAoIWx0KQo+IC0gICAgICAgICAgICAgICByZXR1cm4gLUVO
T01FTTsKPiArICAgICAgIGx0ID0gZGV2bV9kcm1fYnJpZGdlX2FsbG9jKGRldiwgc3RydWN0IGx0
ODkxMiwgYnJpZGdlLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJmx0ODkx
Ml9icmlkZ2VfZnVuY3MpOwo+ICsgICAgICAgaWYgKElTX0VSUihsdCkpCj4gKyAgICAgICAgICAg
ICAgIHJldHVybiBQVFJfRVJSKGx0KTsKPgo+ICAgICAgICAgbHQtPmRldiA9IGRldjsKPiAgICAg
ICAgIGx0LT5pMmNfY2xpZW50WzBdID0gY2xpZW50Owo+IEBAIC03NzcsOCArNzc4LDYgQEAgc3Rh
dGljIGludCBsdDg5MTJfcHJvYmUoc3RydWN0IGkyY19jbGllbnQgKmNsaWVudCkKPiAgICAgICAg
ICAgICAgICAgZ290byBlcnJfaTJjOwo+Cj4gICAgICAgICBpMmNfc2V0X2NsaWVudGRhdGEoY2xp
ZW50LCBsdCk7Cj4gLQo+IC0gICAgICAgbHQtPmJyaWRnZS5mdW5jcyA9ICZsdDg5MTJfYnJpZGdl
X2Z1bmNzOwo+ICAgICAgICAgbHQtPmJyaWRnZS5vZl9ub2RlID0gZGV2LT5vZl9ub2RlOwo+ICAg
ICAgICAgbHQtPmJyaWRnZS5vcHMgPSAoRFJNX0JSSURHRV9PUF9FRElEIHwKPiAgICAgICAgICAg
ICAgICAgICAgICAgICAgIERSTV9CUklER0VfT1BfREVURUNUKTsKPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2JyaWRnZS9sb250aXVtLWx0OTIxMS5jIGIvZHJpdmVycy9ncHUvZHJtL2Jy
aWRnZS9sb250aXVtLWx0OTIxMS5jCj4gaW5kZXggOWIyZGFjOWJkNjNjNWFmZDRmZmJhZmFmZGJi
YjEyMzA1NDliYzM2Zi4uOTcwMjZmYTY2YzVkMzlkNDljZjUwYWQ2OWY3MDdhODRkNTg0Yjc2ZCAx
MDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2xvbnRpdW0tbHQ5MjExLmMKPiAr
KysgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2xvbnRpdW0tbHQ5MjExLmMKPiBAQCAtNzI3LDkg
KzcyNyw5IEBAIHN0YXRpYyBpbnQgbHQ5MjExX3Byb2JlKHN0cnVjdCBpMmNfY2xpZW50ICpjbGll
bnQpCj4gICAgICAgICBzdHJ1Y3QgbHQ5MjExICpjdHg7Cj4gICAgICAgICBpbnQgcmV0Owo+Cj4g
LSAgICAgICBjdHggPSBkZXZtX2t6YWxsb2MoZGV2LCBzaXplb2YoKmN0eCksIEdGUF9LRVJORUwp
Owo+IC0gICAgICAgaWYgKCFjdHgpCj4gLSAgICAgICAgICAgICAgIHJldHVybiAtRU5PTUVNOwo+
ICsgICAgICAgY3R4ID0gZGV2bV9kcm1fYnJpZGdlX2FsbG9jKGRldiwgc3RydWN0IGx0OTIxMSwg
YnJpZGdlLCAmbHQ5MjExX2Z1bmNzKTsKPiArICAgICAgIGlmIChJU19FUlIoY3R4KSkKPiArICAg
ICAgICAgICAgICAgcmV0dXJuIFBUUl9FUlIoY3R4KTsKPgo+ICAgICAgICAgY3R4LT5kZXYgPSBk
ZXY7Cj4KPiBAQCAtNzU0LDggKzc1NCw2IEBAIHN0YXRpYyBpbnQgbHQ5MjExX3Byb2JlKHN0cnVj
dCBpMmNfY2xpZW50ICpjbGllbnQpCj4KPiAgICAgICAgIGRldl9zZXRfZHJ2ZGF0YShkZXYsIGN0
eCk7Cj4gICAgICAgICBpMmNfc2V0X2NsaWVudGRhdGEoY2xpZW50LCBjdHgpOwo+IC0KPiAtICAg
ICAgIGN0eC0+YnJpZGdlLmZ1bmNzID0gJmx0OTIxMV9mdW5jczsKPiAgICAgICAgIGN0eC0+YnJp
ZGdlLm9mX25vZGUgPSBkZXYtPm9mX25vZGU7Cj4gICAgICAgICBkcm1fYnJpZGdlX2FkZCgmY3R4
LT5icmlkZ2UpOwo+Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvbG9udGl1
bS1sdDk2MTEuYyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvbG9udGl1bS1sdDk2MTEuYwo+IGlu
ZGV4IDUzOTg3ZTgyNmNjZDMzNjhlOTRhMWQ3NTYzMzU0ZDM1OWViY2JiMTcuLjYwMmM4OWUzZTM5
ZjMxMzNjOTQ0MzRhZWM5MWUwZDY4ODczN2RkNjMgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL2JyaWRnZS9sb250aXVtLWx0OTYxMS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRn
ZS9sb250aXVtLWx0OTYxMS5jCj4gQEAgLTEwNzIsOSArMTA3MiwxMCBAQCBzdGF0aWMgaW50IGx0
OTYxMV9wcm9iZShzdHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50KQo+ICAgICAgICAgICAgICAgICBy
ZXR1cm4gLUVOT0RFVjsKPiAgICAgICAgIH0KPgo+IC0gICAgICAgbHQ5NjExID0gZGV2bV9remFs
bG9jKGRldiwgc2l6ZW9mKCpsdDk2MTEpLCBHRlBfS0VSTkVMKTsKPiAtICAgICAgIGlmICghbHQ5
NjExKQo+IC0gICAgICAgICAgICAgICByZXR1cm4gLUVOT01FTTsKPiArICAgICAgIGx0OTYxMSA9
IGRldm1fZHJtX2JyaWRnZV9hbGxvYyhkZXYsIHN0cnVjdCBsdDk2MTEsIGJyaWRnZSwKPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmbHQ5NjExX2JyaWRnZV9mdW5jcyk7
Cj4gKyAgICAgICBpZiAoSVNfRVJSKGx0OTYxMSkpCj4gKyAgICAgICAgICAgICAgIHJldHVybiBQ
VFJfRVJSKGx0OTYxMSk7Cj4KPiAgICAgICAgIGx0OTYxMS0+ZGV2ID0gZGV2Owo+ICAgICAgICAg
bHQ5NjExLT5jbGllbnQgPSBjbGllbnQ7Cj4gQEAgLTExMjYsOCArMTEyNyw2IEBAIHN0YXRpYyBp
bnQgbHQ5NjExX3Byb2JlKHN0cnVjdCBpMmNfY2xpZW50ICpjbGllbnQpCj4KPiAgICAgICAgIC8q
IERpc2FibGUgQXVkaW8gSW5mb0ZyYW1lLCBlbmFibGVkIGJ5IGRlZmF1bHQgKi8KPiAgICAgICAg
IHJlZ21hcF91cGRhdGVfYml0cyhsdDk2MTEtPnJlZ21hcCwgMHg4NDNkLCBMVDk2MTFfSU5GT0ZS
QU1FX0FVRElPLCAwKTsKPiAtCj4gLSAgICAgICBsdDk2MTEtPmJyaWRnZS5mdW5jcyA9ICZsdDk2
MTFfYnJpZGdlX2Z1bmNzOwo+ICAgICAgICAgbHQ5NjExLT5icmlkZ2Uub2Zfbm9kZSA9IGNsaWVu
dC0+ZGV2Lm9mX25vZGU7Cj4gICAgICAgICBsdDk2MTEtPmJyaWRnZS5vcHMgPSBEUk1fQlJJREdF
X09QX0RFVEVDVCB8IERSTV9CUklER0VfT1BfRURJRCB8Cj4gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBEUk1fQlJJREdFX09QX0hQRCB8IERSTV9CUklER0VfT1BfTU9ERVMgfAo+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2x2ZHMtY29kZWMuYyBiL2RyaXZlcnMvZ3B1
L2RybS9icmlkZ2UvbHZkcy1jb2RlYy5jCj4gaW5kZXggMTY0NmU0NTRlMGIwYjU1OGQwMGY5NDIx
ZjE1YmI3MDg0ZTJhYTQ1YS4uZTZhNzE0N2UxNDFiNjRmYzc3ZGZlZjAzYTczN2VlNTk5YTBlY2Qx
MCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL2x2ZHMtY29kZWMuYwo+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvbHZkcy1jb2RlYy5jCj4gQEAgLTExOCw5ICsxMTgs
MTAgQEAgc3RhdGljIGludCBsdmRzX2NvZGVjX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2Ug
KnBkZXYpCj4gICAgICAgICB1MzIgdmFsOwo+ICAgICAgICAgaW50IHJldDsKPgo+IC0gICAgICAg
bHZkc19jb2RlYyA9IGRldm1fa3phbGxvYyhkZXYsIHNpemVvZigqbHZkc19jb2RlYyksIEdGUF9L
RVJORUwpOwo+IC0gICAgICAgaWYgKCFsdmRzX2NvZGVjKQo+IC0gICAgICAgICAgICAgICByZXR1
cm4gLUVOT01FTTsKPiArICAgICAgIGx2ZHNfY29kZWMgPSBkZXZtX2RybV9icmlkZ2VfYWxsb2Mo
ZGV2LCBzdHJ1Y3QgbHZkc19jb2RlYywgYnJpZGdlLAo+ICsgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAmZnVuY3MpOwo+ICsgICAgICAgaWYgKElTX0VSUihsdmRzX2Nv
ZGVjKSkKPiArICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9FUlIobHZkc19jb2RlYyk7Cj4KPiAg
ICAgICAgIGx2ZHNfY29kZWMtPmRldiA9ICZwZGV2LT5kZXY7Cj4gICAgICAgICBsdmRzX2NvZGVj
LT5jb25uZWN0b3JfdHlwZSA9ICh1aW50cHRyX3Qpb2ZfZGV2aWNlX2dldF9tYXRjaF9kYXRhKGRl
dik7Cj4gQEAgLTE1Niw4ICsxNTcsNiBAQCBzdGF0aWMgaW50IGx2ZHNfY29kZWNfcHJvYmUoc3Ry
dWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKPiAgICAgICAgIGlmIChJU19FUlIobHZkc19jb2Rl
Yy0+cGFuZWxfYnJpZGdlKSkKPiAgICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9FUlIobHZkc19j
b2RlYy0+cGFuZWxfYnJpZGdlKTsKPgo+IC0gICAgICAgbHZkc19jb2RlYy0+YnJpZGdlLmZ1bmNz
ID0gJmZ1bmNzOwo+IC0KPiAgICAgICAgIC8qCj4gICAgICAgICAgKiBEZWNvZGVyIGlucHV0IExW
RFMgZm9ybWF0IGlzIGEgcHJvcGVydHkgb2YgdGhlIGRlY29kZXIgY2hpcCBvciBldmVuCj4gICAg
ICAgICAgKiBpdHMgc3RyYXBwaW5nLiBIYW5kbGUgZGF0YS1tYXBwaW5nIHRoZSBzYW1lIHdheSBs
dmRzLXBhbmVsIGRvZXMuIEluCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2Uv
bWljcm9jaGlwLWx2ZHMuYyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvbWljcm9jaGlwLWx2ZHMu
Ywo+IGluZGV4IDFkNGFlMDA5N2RmODQ3ZDlmOTNjNzllZWNmZjBjNDU4N2FlMzMxYmEuLjlmNGZm
ODJiYzZiNDkwMTBmODcyN2RhM2IzNjdmNWE3NDRhMjhlZGMgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2JyaWRnZS9taWNyb2NoaXAtbHZkcy5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L2JyaWRnZS9taWNyb2NoaXAtbHZkcy5jCj4gQEAgLTE1Nyw5ICsxNTcsMTAgQEAgc3RhdGljIGlu
dCBtY2hwX2x2ZHNfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKPiAgICAgICAg
IGlmICghZGV2LT5vZl9ub2RlKQo+ICAgICAgICAgICAgICAgICByZXR1cm4gLUVOT0RFVjsKPgo+
IC0gICAgICAgbHZkcyA9IGRldm1fa3phbGxvYygmcGRldi0+ZGV2LCBzaXplb2YoKmx2ZHMpLCBH
RlBfS0VSTkVMKTsKPiAtICAgICAgIGlmICghbHZkcykKPiAtICAgICAgICAgICAgICAgcmV0dXJu
IC1FTk9NRU07Cj4gKyAgICAgICBsdmRzID0gZGV2bV9kcm1fYnJpZGdlX2FsbG9jKCZwZGV2LT5k
ZXYsIHN0cnVjdCBtY2hwX2x2ZHMsIGJyaWRnZSwKPiArICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgJm1jaHBfbHZkc19icmlkZ2VfZnVuY3MpOwo+ICsgICAgICAgaWYgKElTX0VS
UihsdmRzKSkKPiArICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9FUlIobHZkcyk7Cj4KPiAgICAg
ICAgIGx2ZHMtPmRldiA9IGRldjsKPgo+IEBAIC0xOTIsNyArMTkzLDYgQEAgc3RhdGljIGludCBt
Y2hwX2x2ZHNfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKPgo+ICAgICAgICAg
bHZkcy0+YnJpZGdlLm9mX25vZGUgPSBkZXYtPm9mX25vZGU7Cj4gICAgICAgICBsdmRzLT5icmlk
Z2UudHlwZSA9IERSTV9NT0RFX0NPTk5FQ1RPUl9MVkRTOwo+IC0gICAgICAgbHZkcy0+YnJpZGdl
LmZ1bmNzID0gJm1jaHBfbHZkc19icmlkZ2VfZnVuY3M7Cj4KPiAgICAgICAgIGRldl9zZXRfZHJ2
ZGF0YShkZXYsIGx2ZHMpOwo+ICAgICAgICAgcmV0ID0gZGV2bV9wbV9ydW50aW1lX2VuYWJsZShk
ZXYpOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL253bC1kc2kuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9icmlkZ2UvbndsLWRzaS5jCj4gaW5kZXggNTU5MTJhZTExZjQ2YTFkNTUx
ZTExZjkzYTMwNmE4YTAwZWYzZjdkOC4uMmY3NDI5YjI0ZmMyMGRiMTA0ZGVjMTcxODJmMTExOWM2
Yzc1ZTYwMCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL253bC1kc2kuYwo+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvbndsLWRzaS5jCj4gQEAgLTExNDksOSArMTE0
OSwxMCBAQCBzdGF0aWMgaW50IG53bF9kc2lfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAq
cGRldikKPiAgICAgICAgIHN0cnVjdCBud2xfZHNpICpkc2k7Cj4gICAgICAgICBpbnQgcmV0Owo+
Cj4gLSAgICAgICBkc2kgPSBkZXZtX2t6YWxsb2MoZGV2LCBzaXplb2YoKmRzaSksIEdGUF9LRVJO
RUwpOwo+IC0gICAgICAgaWYgKCFkc2kpCj4gLSAgICAgICAgICAgICAgIHJldHVybiAtRU5PTUVN
Owo+ICsgICAgICAgZHNpID0gZGV2bV9kcm1fYnJpZGdlX2FsbG9jKGRldiwgc3RydWN0IG53bF9k
c2ksIGJyaWRnZSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmbndsX2Rz
aV9icmlkZ2VfZnVuY3MpOwo+ICsgICAgICAgaWYgKElTX0VSUihkc2kpKQo+ICsgICAgICAgICAg
ICAgICByZXR1cm4gUFRSX0VSUihkc2kpOwo+Cj4gICAgICAgICBkc2ktPmRldiA9IGRldjsKPgo+
IEBAIC0xMTgwLDcgKzExODEsNiBAQCBzdGF0aWMgaW50IG53bF9kc2lfcHJvYmUoc3RydWN0IHBs
YXRmb3JtX2RldmljZSAqcGRldikKPiAgICAgICAgICAgICAgICAgZHNpLT5xdWlya3MgPSAodWlu
dHB0cl90KWF0dHItPmRhdGE7Cj4KPiAgICAgICAgIGRzaS0+YnJpZGdlLmRyaXZlcl9wcml2YXRl
ID0gZHNpOwo+IC0gICAgICAgZHNpLT5icmlkZ2UuZnVuY3MgPSAmbndsX2RzaV9icmlkZ2VfZnVu
Y3M7Cj4gICAgICAgICBkc2ktPmJyaWRnZS5vZl9ub2RlID0gZGV2LT5vZl9ub2RlOwo+ICAgICAg
ICAgZHNpLT5icmlkZ2UudGltaW5ncyA9ICZud2xfZHNpX3RpbWluZ3M7Cj4gICAgICAgICBkc2kt
PmJyaWRnZS50eXBlID0gRFJNX01PREVfQ09OTkVDVE9SX0RTSTsKPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2JyaWRnZS9wYXJhZGUtcHM4NjIyLmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJp
ZGdlL3BhcmFkZS1wczg2MjIuYwo+IGluZGV4IDg3MjZmZWZjNWM2NTRlNDliY2UwMjlkOTQzZDI0
MTc4OWNhNGY4MDIuLjgxYWE4ZGM4ZWUxMmFmOGI1NWY0MmQ0Nzg2YjQ0YjNiOTAyNjY0OTEgMTAw
NjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9wYXJhZGUtcHM4NjIyLmMKPiArKysg
Yi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3BhcmFkZS1wczg2MjIuYwo+IEBAIC00NDksOSArNDQ5
LDEwIEBAIHN0YXRpYyBpbnQgcHM4NjIyX3Byb2JlKHN0cnVjdCBpMmNfY2xpZW50ICpjbGllbnQp
Cj4gICAgICAgICBzdHJ1Y3QgZHJtX2JyaWRnZSAqcGFuZWxfYnJpZGdlOwo+ICAgICAgICAgaW50
IHJldDsKPgo+IC0gICAgICAgcHM4NjIyID0gZGV2bV9remFsbG9jKGRldiwgc2l6ZW9mKCpwczg2
MjIpLCBHRlBfS0VSTkVMKTsKPiAtICAgICAgIGlmICghcHM4NjIyKQo+IC0gICAgICAgICAgICAg
ICByZXR1cm4gLUVOT01FTTsKPiArICAgICAgIHBzODYyMiA9IGRldm1fZHJtX2JyaWRnZV9hbGxv
YyhkZXYsIHN0cnVjdCBwczg2MjJfYnJpZGdlLCBicmlkZ2UsCj4gKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgJnBzODYyMl9icmlkZ2VfZnVuY3MpOwo+ICsgICAgICAgaWYg
KElTX0VSUihwczg2MjIpKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gUFRSX0VSUihwczg2MjIp
Owo+Cj4gICAgICAgICBwYW5lbF9icmlkZ2UgPSBkZXZtX2RybV9vZl9nZXRfYnJpZGdlKGRldiwg
ZGV2LT5vZl9ub2RlLCAwLCAwKTsKPiAgICAgICAgIGlmIChJU19FUlIocGFuZWxfYnJpZGdlKSkK
PiBAQCAtNTA4LDggKzUwOSw2IEBAIHN0YXRpYyBpbnQgcHM4NjIyX3Byb2JlKHN0cnVjdCBpMmNf
Y2xpZW50ICpjbGllbnQpCj4gICAgICAgICAgICAgICAgIHBzODYyMi0+YmwtPnByb3BzLm1heF9i
cmlnaHRuZXNzID0gUFM4NjIyX01BWF9CUklHSFRORVNTOwo+ICAgICAgICAgICAgICAgICBwczg2
MjItPmJsLT5wcm9wcy5icmlnaHRuZXNzID0gUFM4NjIyX01BWF9CUklHSFRORVNTOwo+ICAgICAg
ICAgfQo+IC0KPiAtICAgICAgIHBzODYyMi0+YnJpZGdlLmZ1bmNzID0gJnBzODYyMl9icmlkZ2Vf
ZnVuY3M7Cj4gICAgICAgICBwczg2MjItPmJyaWRnZS50eXBlID0gRFJNX01PREVfQ09OTkVDVE9S
X0xWRFM7Cj4gICAgICAgICBwczg2MjItPmJyaWRnZS5vZl9ub2RlID0gZGV2LT5vZl9ub2RlOwo+
ICAgICAgICAgZHJtX2JyaWRnZV9hZGQoJnBzODYyMi0+YnJpZGdlKTsKPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9wYXJhZGUtcHM4NjQwLmMgYi9kcml2ZXJzL2dwdS9kcm0v
YnJpZGdlL3BhcmFkZS1wczg2NDAuYwo+IGluZGV4IDI0MjJmZjY4YzEwNDJiZDhlYWE2ODIxZmYz
ODdkNGZhYWQ0N2M1NTAuLmQ1OGZmMDk0ZGRjNzUzNmFjZjA0MjExMzY3Yjk0ODJlNDg3Yjg3N2Eg
MTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9wYXJhZGUtcHM4NjQwLmMKPiAr
KysgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3BhcmFkZS1wczg2NDAuYwo+IEBAIC02MzYsOSAr
NjM2LDEwIEBAIHN0YXRpYyBpbnQgcHM4NjQwX3Byb2JlKHN0cnVjdCBpMmNfY2xpZW50ICpjbGll
bnQpCj4gICAgICAgICBpbnQgcmV0Owo+ICAgICAgICAgdTMyIGk7Cj4KPiAtICAgICAgIHBzX2Jy
aWRnZSA9IGRldm1fa3phbGxvYyhkZXYsIHNpemVvZigqcHNfYnJpZGdlKSwgR0ZQX0tFUk5FTCk7
Cj4gLSAgICAgICBpZiAoIXBzX2JyaWRnZSkKPiAtICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9N
RU07Cj4gKyAgICAgICBwc19icmlkZ2UgPSBkZXZtX2RybV9icmlkZ2VfYWxsb2MoZGV2LCBzdHJ1
Y3QgcHM4NjQwLCBicmlkZ2UsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgJnBzODY0MF9icmlkZ2VfZnVuY3MpOwo+ICsgICAgICAgaWYgKElTX0VSUihwc19icmlk
Z2UpKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gUFRSX0VSUihwc19icmlkZ2UpOwo+Cj4gICAg
ICAgICBtdXRleF9pbml0KCZwc19icmlkZ2UtPmF1eF9sb2NrKTsKPgo+IEBAIC02NjEsOCArNjYy
LDYgQEAgc3RhdGljIGludCBwczg2NDBfcHJvYmUoc3RydWN0IGkyY19jbGllbnQgKmNsaWVudCkK
PiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdQSU9EX09V
VF9ISUdIKTsKPiAgICAgICAgIGlmIChJU19FUlIocHNfYnJpZGdlLT5ncGlvX3Jlc2V0KSkKPiAg
ICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9FUlIocHNfYnJpZGdlLT5ncGlvX3Jlc2V0KTsKPiAt
Cj4gLSAgICAgICBwc19icmlkZ2UtPmJyaWRnZS5mdW5jcyA9ICZwczg2NDBfYnJpZGdlX2Z1bmNz
Owo+ICAgICAgICAgcHNfYnJpZGdlLT5icmlkZ2Uub2Zfbm9kZSA9IGRldi0+b2Zfbm9kZTsKPiAg
ICAgICAgIHBzX2JyaWRnZS0+YnJpZGdlLnR5cGUgPSBEUk1fTU9ERV9DT05ORUNUT1JfZURQOwo+
Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2Uvc2lpOTIzNC5jIGIvZHJpdmVy
cy9ncHUvZHJtL2JyaWRnZS9zaWk5MjM0LmMKPiBpbmRleCBjZDc4MzdjOWE2ZTAwYjU3MmEzZmI2
NWU1ZTBjOWZhODg0NTU1YTczLi40ODdmMzU1MTQ0YTBlNjE1Mjk4YTNkZDE3NmI5MzY4ODVjMmE4
ZjMzIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2Uvc2lpOTIzNC5jCj4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9zaWk5MjM0LmMKPiBAQCAtODg4LDkgKzg4OCwxMCBA
QCBzdGF0aWMgaW50IHNpaTkyMzRfcHJvYmUoc3RydWN0IGkyY19jbGllbnQgKmNsaWVudCkKPiAg
ICAgICAgIHN0cnVjdCBkZXZpY2UgKmRldiA9ICZjbGllbnQtPmRldjsKPiAgICAgICAgIGludCBy
ZXQ7Cj4KPiAtICAgICAgIGN0eCA9IGRldm1fa3phbGxvYyhkZXYsIHNpemVvZigqY3R4KSwgR0ZQ
X0tFUk5FTCk7Cj4gLSAgICAgICBpZiAoIWN0eCkKPiAtICAgICAgICAgICAgICAgcmV0dXJuIC1F
Tk9NRU07Cj4gKyAgICAgICBjdHggPSBkZXZtX2RybV9icmlkZ2VfYWxsb2MoZGV2LCBzdHJ1Y3Qg
c2lpOTIzNCwgYnJpZGdlLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZz
aWk5MjM0X2JyaWRnZV9mdW5jcyk7Cj4gKyAgICAgICBpZiAoSVNfRVJSKGN0eCkpCj4gKyAgICAg
ICAgICAgICAgIHJldHVybiBQVFJfRVJSKGN0eCk7Cj4KPiAgICAgICAgIGN0eC0+ZGV2ID0gZGV2
Owo+ICAgICAgICAgbXV0ZXhfaW5pdCgmY3R4LT5sb2NrKTsKPiBAQCAtOTIwLDggKzkyMSw2IEBA
IHN0YXRpYyBpbnQgc2lpOTIzNF9wcm9iZShzdHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50KQo+ICAg
ICAgICAgICAgICAgICByZXR1cm4gcmV0Owo+Cj4gICAgICAgICBpMmNfc2V0X2NsaWVudGRhdGEo
Y2xpZW50LCBjdHgpOwo+IC0KPiAtICAgICAgIGN0eC0+YnJpZGdlLmZ1bmNzID0gJnNpaTkyMzRf
YnJpZGdlX2Z1bmNzOwo+ICAgICAgICAgY3R4LT5icmlkZ2Uub2Zfbm9kZSA9IGRldi0+b2Zfbm9k
ZTsKPiAgICAgICAgIGRybV9icmlkZ2VfYWRkKCZjdHgtPmJyaWRnZSk7Cj4KPiBkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9zaWwtc2lpODYyMC5jIGIvZHJpdmVycy9ncHUvZHJt
L2JyaWRnZS9zaWwtc2lpODYyMC5jCj4gaW5kZXggM2FmNjUwZGM5MmExNjEyY2E4OGZlMzc4MzE5
NTE5NTQ2Yjc5OTAxZi4uN2RlNmYwZWM0ZWMyMzcyZjYzM2NmMWQ3Mzg1M2M3M2ZkOWNhZjE3NSAx
MDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3NpbC1zaWk4NjIwLmMKPiArKysg
Yi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3NpbC1zaWk4NjIwLmMKPiBAQCAtMjI5MSw5ICsyMjkx
LDEwIEBAIHN0YXRpYyBpbnQgc2lpODYyMF9wcm9iZShzdHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50
KQo+ICAgICAgICAgc3RydWN0IHNpaTg2MjAgKmN0eDsKPiAgICAgICAgIGludCByZXQ7Cj4KPiAt
ICAgICAgIGN0eCA9IGRldm1fa3phbGxvYyhkZXYsIHNpemVvZigqY3R4KSwgR0ZQX0tFUk5FTCk7
Cj4gLSAgICAgICBpZiAoIWN0eCkKPiAtICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4g
KyAgICAgICBjdHggPSBkZXZtX2RybV9icmlkZ2VfYWxsb2MoZGV2LCBzdHJ1Y3Qgc2lpODYyMCwg
YnJpZGdlLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZzaWk4NjIwX2Jy
aWRnZV9mdW5jcyk7Cj4gKyAgICAgICBpZiAoSVNfRVJSKGN0eCkpCj4gKyAgICAgICAgICAgICAg
IHJldHVybiBQVFJfRVJSKGN0eCk7Cj4KPiAgICAgICAgIGN0eC0+ZGV2ID0gZGV2Owo+ICAgICAg
ICAgbXV0ZXhfaW5pdCgmY3R4LT5sb2NrKTsKPiBAQCAtMjMzNSw4ICsyMzM2LDYgQEAgc3RhdGlj
IGludCBzaWk4NjIwX3Byb2JlKHN0cnVjdCBpMmNfY2xpZW50ICpjbGllbnQpCj4gICAgICAgICB9
Cj4KPiAgICAgICAgIGkyY19zZXRfY2xpZW50ZGF0YShjbGllbnQsIGN0eCk7Cj4gLQo+IC0gICAg
ICAgY3R4LT5icmlkZ2UuZnVuY3MgPSAmc2lpODYyMF9icmlkZ2VfZnVuY3M7Cj4gICAgICAgICBj
dHgtPmJyaWRnZS5vZl9ub2RlID0gZGV2LT5vZl9ub2RlOwo+ICAgICAgICAgZHJtX2JyaWRnZV9h
ZGQoJmN0eC0+YnJpZGdlKTsKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdl
L3NpbXBsZS1icmlkZ2UuYyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2Uvc2ltcGxlLWJyaWRnZS5j
Cj4gaW5kZXggNzBkYjViOTllNWJiODRmMDk5ZWM1NGNmNjJhYmJkYTUzNDc1MzExZC4uZjliZTRl
YWZhZGZkMWU0MjI5MTYxMzc1ZTQ3ZGE5NWEzMDc1YjA5MCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJz
L2dwdS9kcm0vYnJpZGdlL3NpbXBsZS1icmlkZ2UuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9i
cmlkZ2Uvc2ltcGxlLWJyaWRnZS5jCj4gQEAgLTE2OCw5ICsxNjgsMTAgQEAgc3RhdGljIGludCBz
aW1wbGVfYnJpZGdlX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCj4gICAgICAg
ICBzdHJ1Y3Qgc2ltcGxlX2JyaWRnZSAqc2JyaWRnZTsKPiAgICAgICAgIHN0cnVjdCBkZXZpY2Vf
bm9kZSAqcmVtb3RlOwo+Cj4gLSAgICAgICBzYnJpZGdlID0gZGV2bV9remFsbG9jKCZwZGV2LT5k
ZXYsIHNpemVvZigqc2JyaWRnZSksIEdGUF9LRVJORUwpOwo+IC0gICAgICAgaWYgKCFzYnJpZGdl
KQo+IC0gICAgICAgICAgICAgICByZXR1cm4gLUVOT01FTTsKPiArICAgICAgIHNicmlkZ2UgPSBk
ZXZtX2RybV9icmlkZ2VfYWxsb2MoJnBkZXYtPmRldiwgc3RydWN0IHNpbXBsZV9icmlkZ2UsCj4g
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyaWRnZSwgJnNpbXBsZV9i
cmlkZ2VfYnJpZGdlX2Z1bmNzKTsKPiArICAgICAgIGlmIChJU19FUlIoc2JyaWRnZSkpCj4gKyAg
ICAgICAgICAgICAgIHJldHVybiBQVFJfRVJSKHNicmlkZ2UpOwo+Cj4gICAgICAgICBzYnJpZGdl
LT5pbmZvID0gb2ZfZGV2aWNlX2dldF9tYXRjaF9kYXRhKCZwZGV2LT5kZXYpOwo+Cj4gQEAgLTIw
Miw5ICsyMDMsNiBAQCBzdGF0aWMgaW50IHNpbXBsZV9icmlkZ2VfcHJvYmUoc3RydWN0IHBsYXRm
b3JtX2RldmljZSAqcGRldikKPiAgICAgICAgIGlmIChJU19FUlIoc2JyaWRnZS0+ZW5hYmxlKSkK
PiAgICAgICAgICAgICAgICAgcmV0dXJuIGRldl9lcnJfcHJvYmUoJnBkZXYtPmRldiwgUFRSX0VS
UihzYnJpZGdlLT5lbmFibGUpLAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAiVW5hYmxlIHRvIHJldHJpZXZlIGVuYWJsZSBHUElPXG4iKTsKPiAtCj4gLSAgICAgICAvKiBS
ZWdpc3RlciB0aGUgYnJpZGdlLiAqLwo+IC0gICAgICAgc2JyaWRnZS0+YnJpZGdlLmZ1bmNzID0g
JnNpbXBsZV9icmlkZ2VfYnJpZGdlX2Z1bmNzOwo+ICAgICAgICAgc2JyaWRnZS0+YnJpZGdlLm9m
X25vZGUgPSBwZGV2LT5kZXYub2Zfbm9kZTsKPiAgICAgICAgIHNicmlkZ2UtPmJyaWRnZS50aW1p
bmdzID0gc2JyaWRnZS0+aW5mby0+dGltaW5nczsKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vYnJpZGdlL3N5bm9wc3lzL2R3LWhkbWktcXAuYyBiL2RyaXZlcnMvZ3B1L2RybS9icmlk
Z2Uvc3lub3BzeXMvZHctaGRtaS1xcC5jCj4gaW5kZXggNjE2NmYxOTdlMzdiNTUyY2I4YTUyYjdi
MGQyM2ZmYzYzMmY1NDU1Ny4uODFhYTNhNGEwMDkwZTkxODM0MDJjMWIyZGY3ZTRkZDhmNzk2M2I5
ZiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3N5bm9wc3lzL2R3LWhkbWkt
cXAuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2Uvc3lub3BzeXMvZHctaGRtaS1xcC5j
Cj4gQEAgLTEwNDUsOSArMTA0NSwxMCBAQCBzdHJ1Y3QgZHdfaGRtaV9xcCAqZHdfaGRtaV9xcF9i
aW5kKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYsCj4gICAgICAgICAgICAgICAgIHJldHVy
biBFUlJfUFRSKC1FTk9ERVYpOwo+ICAgICAgICAgfQo+Cj4gLSAgICAgICBoZG1pID0gZGV2bV9r
emFsbG9jKGRldiwgc2l6ZW9mKCpoZG1pKSwgR0ZQX0tFUk5FTCk7Cj4gLSAgICAgICBpZiAoIWhk
bWkpCj4gLSAgICAgICAgICAgICAgIHJldHVybiBFUlJfUFRSKC1FTk9NRU0pOwo+ICsgICAgICAg
aGRtaSA9IGRldm1fZHJtX2JyaWRnZV9hbGxvYyhkZXYsIHN0cnVjdCBkd19oZG1pX3FwLCBicmlk
Z2UsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZkd19oZG1pX3FwX2Jy
aWRnZV9mdW5jcyk7Cj4gKyAgICAgICBpZiAoSVNfRVJSKGhkbWkpKQo+ICsgICAgICAgICAgICAg
ICByZXR1cm4gaGRtaTsKPgo+ICAgICAgICAgaGRtaS0+ZGV2ID0gZGV2Owo+Cj4gQEAgLTEwNzMs
NyArMTA3NCw2IEBAIHN0cnVjdCBkd19oZG1pX3FwICpkd19oZG1pX3FwX2JpbmQoc3RydWN0IHBs
YXRmb3JtX2RldmljZSAqcGRldiwKPiAgICAgICAgICAgICAgICAgcmV0dXJuIEVSUl9QVFIocmV0
KTsKPgo+ICAgICAgICAgaGRtaS0+YnJpZGdlLmRyaXZlcl9wcml2YXRlID0gaGRtaTsKPiAtICAg
ICAgIGhkbWktPmJyaWRnZS5mdW5jcyA9ICZkd19oZG1pX3FwX2JyaWRnZV9mdW5jczsKPiAgICAg
ICAgIGhkbWktPmJyaWRnZS5vcHMgPSBEUk1fQlJJREdFX09QX0RFVEVDVCB8Cj4gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgRFJNX0JSSURHRV9PUF9FRElEIHwKPiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBEUk1fQlJJREdFX09QX0hETUkgfAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vYnJpZGdlL3N5bm9wc3lzL2R3LW1pcGktZHNpLmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJp
ZGdlL3N5bm9wc3lzL2R3LW1pcGktZHNpLmMKPiBpbmRleCBiMDhhZGE5MjBhNTAxZDZhNjJmMzk1
ODE5NDRhODcwMTlmNWU1YzE1Li5lZjU3ODQ4OWE2ZDFjODY1MDZkZjQzYTI2MjExYWEwZTVjNTg1
ZTIzIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2Uvc3lub3BzeXMvZHctbWlw
aS1kc2kuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2Uvc3lub3BzeXMvZHctbWlwaS1k
c2kuYwo+IEBAIC0xMTk0LDkgKzExOTQsMTAgQEAgX19kd19taXBpX2RzaV9wcm9iZShzdHJ1Y3Qg
cGxhdGZvcm1fZGV2aWNlICpwZGV2LAo+ICAgICAgICAgc3RydWN0IGR3X21pcGlfZHNpICpkc2k7
Cj4gICAgICAgICBpbnQgcmV0Owo+Cj4gLSAgICAgICBkc2kgPSBkZXZtX2t6YWxsb2MoZGV2LCBz
aXplb2YoKmRzaSksIEdGUF9LRVJORUwpOwo+IC0gICAgICAgaWYgKCFkc2kpCj4gLSAgICAgICAg
ICAgICAgIHJldHVybiBFUlJfUFRSKC1FTk9NRU0pOwo+ICsgICAgICAgZHNpID0gZGV2bV9kcm1f
YnJpZGdlX2FsbG9jKGRldiwgc3RydWN0IGR3X21pcGlfZHNpLCBicmlkZ2UsCj4gKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgJmR3X21pcGlfZHNpX2JyaWRnZV9mdW5jcyk7Cj4g
KyAgICAgICBpZiAoSVNfRVJSKGRzaSkpCj4gKyAgICAgICAgICAgICAgIHJldHVybiBkc2k7Cj4K
PiAgICAgICAgIGRzaS0+ZGV2ID0gZGV2Owo+ICAgICAgICAgZHNpLT5wbGF0X2RhdGEgPSBwbGF0
X2RhdGE7Cj4gQEAgLTEyNjUsNyArMTI2Niw2IEBAIF9fZHdfbWlwaV9kc2lfcHJvYmUoc3RydWN0
IHBsYXRmb3JtX2RldmljZSAqcGRldiwKPiAgICAgICAgIH0KPgo+ICAgICAgICAgZHNpLT5icmlk
Z2UuZHJpdmVyX3ByaXZhdGUgPSBkc2k7Cj4gLSAgICAgICBkc2ktPmJyaWRnZS5mdW5jcyA9ICZk
d19taXBpX2RzaV9icmlkZ2VfZnVuY3M7Cj4gICAgICAgICBkc2ktPmJyaWRnZS5vZl9ub2RlID0g
cGRldi0+ZGV2Lm9mX25vZGU7Cj4KPiAgICAgICAgIHJldHVybiBkc2k7Cj4gZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9icmlkZ2Uvc3lub3BzeXMvZHctbWlwaS1kc2kyLmMgYi9kcml2ZXJz
L2dwdS9kcm0vYnJpZGdlL3N5bm9wc3lzL2R3LW1pcGktZHNpMi5jCj4gaW5kZXggYzc2ZjVmMmU3
NGQxNGJkMzcyZjk2OWM2Yzc4MzJhYTU3ZjgwNzcyYi4uOTgxZDcxMTg3NmNmNWVlZTE0NjdjMmZj
OWVkMTI1MTQxYWE4ZGMxNCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3N5
bm9wc3lzL2R3LW1pcGktZHNpMi5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS9zeW5v
cHN5cy9kdy1taXBpLWRzaTIuYwo+IEBAIC05MTQsOSArOTE0LDEwIEBAIF9fZHdfbWlwaV9kc2ky
X3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYsCj4gICAgICAgICBzdHJ1Y3QgZHdf
bWlwaV9kc2kyICpkc2kyOwo+ICAgICAgICAgaW50IHJldDsKPgo+IC0gICAgICAgZHNpMiA9IGRl
dm1fa3phbGxvYyhkZXYsIHNpemVvZigqZHNpMiksIEdGUF9LRVJORUwpOwo+IC0gICAgICAgaWYg
KCFkc2kyKQo+IC0gICAgICAgICAgICAgICByZXR1cm4gRVJSX1BUUigtRU5PTUVNKTsKPiArICAg
ICAgIGRzaTIgPSBkZXZtX2RybV9icmlkZ2VfYWxsb2MoZGV2LCBzdHJ1Y3QgZHdfbWlwaV9kc2ky
LCBicmlkZ2UsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZkd19taXBp
X2RzaTJfYnJpZGdlX2Z1bmNzKTsKPiArICAgICAgIGlmIChJU19FUlIoZHNpMikpCj4gKyAgICAg
ICAgICAgICAgIHJldHVybiBkc2kyOwo+Cj4gICAgICAgICBkc2kyLT5kZXYgPSBkZXY7Cj4gICAg
ICAgICBkc2kyLT5wbGF0X2RhdGEgPSBwbGF0X2RhdGE7Cj4gQEAgLTk4MSw3ICs5ODIsNiBAQCBf
X2R3X21pcGlfZHNpMl9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2LAo+ICAgICAg
ICAgfQo+Cj4gICAgICAgICBkc2kyLT5icmlkZ2UuZHJpdmVyX3ByaXZhdGUgPSBkc2kyOwo+IC0g
ICAgICAgZHNpMi0+YnJpZGdlLmZ1bmNzID0gJmR3X21pcGlfZHNpMl9icmlkZ2VfZnVuY3M7Cj4g
ICAgICAgICBkc2kyLT5icmlkZ2Uub2Zfbm9kZSA9IHBkZXYtPmRldi5vZl9ub2RlOwo+Cj4gICAg
ICAgICByZXR1cm4gZHNpMjsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS90
YzM1ODc2Mi5jIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS90YzM1ODc2Mi5jCj4gaW5kZXggZWRm
MDE0NzZmMmVmNmUwNWVmMmMxNDRmZjQ0NjdlN2Y2YmFiYzRjNi4uNjkwZjRjNWE2ZmIxMTNhNmQ1
OTQ3YTM2NDkyMjYwNWQyOGQzM2VkZiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJp
ZGdlL3RjMzU4NzYyLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3RjMzU4NzYyLmMK
PiBAQCAtMjY1LDkgKzI2NSwxMCBAQCBzdGF0aWMgaW50IHRjMzU4NzYyX3Byb2JlKHN0cnVjdCBt
aXBpX2RzaV9kZXZpY2UgKmRzaSkKPiAgICAgICAgIHN0cnVjdCB0YzM1ODc2MiAqY3R4Owo+ICAg
ICAgICAgaW50IHJldDsKPgo+IC0gICAgICAgY3R4ID0gZGV2bV9remFsbG9jKGRldiwgc2l6ZW9m
KHN0cnVjdCB0YzM1ODc2MiksIEdGUF9LRVJORUwpOwo+IC0gICAgICAgaWYgKCFjdHgpCj4gLSAg
ICAgICAgICAgICAgIHJldHVybiAtRU5PTUVNOwo+ICsgICAgICAgY3R4ID0gZGV2bV9kcm1fYnJp
ZGdlX2FsbG9jKGRldiwgc3RydWN0IHRjMzU4NzYyLCBicmlkZ2UsCj4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgJnRjMzU4NzYyX2JyaWRnZV9mdW5jcyk7Cj4gKyAgICAgICBp
ZiAoSVNfRVJSKGN0eCkpCj4gKyAgICAgICAgICAgICAgIHJldHVybiBQVFJfRVJSKGN0eCk7Cj4K
PiAgICAgICAgIG1pcGlfZHNpX3NldF9kcnZkYXRhKGRzaSwgY3R4KTsKPgo+IEBAIC0yODcsOCAr
Mjg4LDYgQEAgc3RhdGljIGludCB0YzM1ODc2Ml9wcm9iZShzdHJ1Y3QgbWlwaV9kc2lfZGV2aWNl
ICpkc2kpCj4gICAgICAgICByZXQgPSB0YzM1ODc2Ml9jb25maWd1cmVfcmVndWxhdG9ycyhjdHgp
Owo+ICAgICAgICAgaWYgKHJldCA8IDApCj4gICAgICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4g
LQo+IC0gICAgICAgY3R4LT5icmlkZ2UuZnVuY3MgPSAmdGMzNTg3NjJfYnJpZGdlX2Z1bmNzOwo+
ICAgICAgICAgY3R4LT5icmlkZ2UudHlwZSA9IERSTV9NT0RFX0NPTk5FQ1RPUl9EUEk7Cj4gICAg
ICAgICBjdHgtPmJyaWRnZS5vZl9ub2RlID0gZGV2LT5vZl9ub2RlOwo+ICAgICAgICAgY3R4LT5i
cmlkZ2UucHJlX2VuYWJsZV9wcmV2X2ZpcnN0ID0gdHJ1ZTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2JyaWRnZS90YzM1ODc2NC5jIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS90YzM1
ODc2NC5jCj4gaW5kZXggM2Y3NmM4OTBmYWQ5ZmZhNTBkYzAyZjI4OWEzNzM3ODMzMjgzMDUxNi4u
YzU0YTZlNTcxZGFjY2ZiY2U4ZWViMzRlNmUzOGZhYTc4OTU2NDJkZiAxMDA2NDQKPiAtLS0gYS9k
cml2ZXJzL2dwdS9kcm0vYnJpZGdlL3RjMzU4NzY0LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0v
YnJpZGdlL3RjMzU4NzY0LmMKPiBAQCAtMzQ3LDkgKzM0NywxMCBAQCBzdGF0aWMgaW50IHRjMzU4
NzY0X3Byb2JlKHN0cnVjdCBtaXBpX2RzaV9kZXZpY2UgKmRzaSkKPiAgICAgICAgIHN0cnVjdCB0
YzM1ODc2NCAqY3R4Owo+ICAgICAgICAgaW50IHJldDsKPgo+IC0gICAgICAgY3R4ID0gZGV2bV9r
emFsbG9jKGRldiwgc2l6ZW9mKHN0cnVjdCB0YzM1ODc2NCksIEdGUF9LRVJORUwpOwo+IC0gICAg
ICAgaWYgKCFjdHgpCj4gLSAgICAgICAgICAgICAgIHJldHVybiAtRU5PTUVNOwo+ICsgICAgICAg
Y3R4ID0gZGV2bV9kcm1fYnJpZGdlX2FsbG9jKGRldiwgc3RydWN0IHRjMzU4NzY0LCBicmlkZ2Us
Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJnRjMzU4NzY0X2JyaWRnZV9m
dW5jcyk7Cj4gKyAgICAgICBpZiAoSVNfRVJSKGN0eCkpCj4gKyAgICAgICAgICAgICAgIHJldHVy
biBQVFJfRVJSKGN0eCk7Cj4KPiAgICAgICAgIG1pcGlfZHNpX3NldF9kcnZkYXRhKGRzaSwgY3R4
KTsKPgo+IEBAIC0zNjcsOCArMzY4LDYgQEAgc3RhdGljIGludCB0YzM1ODc2NF9wcm9iZShzdHJ1
Y3QgbWlwaV9kc2lfZGV2aWNlICpkc2kpCj4gICAgICAgICByZXQgPSB0YzM1ODc2NF9jb25maWd1
cmVfcmVndWxhdG9ycyhjdHgpOwo+ICAgICAgICAgaWYgKHJldCA8IDApCj4gICAgICAgICAgICAg
ICAgIHJldHVybiByZXQ7Cj4gLQo+IC0gICAgICAgY3R4LT5icmlkZ2UuZnVuY3MgPSAmdGMzNTg3
NjRfYnJpZGdlX2Z1bmNzOwo+ICAgICAgICAgY3R4LT5icmlkZ2Uub2Zfbm9kZSA9IGRldi0+b2Zf
bm9kZTsKPiAgICAgICAgIGN0eC0+YnJpZGdlLnByZV9lbmFibGVfcHJldl9maXJzdCA9IHRydWU7
Cj4KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS90YzM1ODc2OC5jIGIvZHJp
dmVycy9ncHUvZHJtL2JyaWRnZS90YzM1ODc2OC5jCj4gaW5kZXggMDYzZjIxN2ExN2I2Y2YzMmU5
NzkzYjhhOTZhNWFjNjEyODU4NDA5OC4uMTg2ODAyNmIzZWUwMTJlZGM3MDBmMTk5NGM4ODc3Nzc2
NTE2MTY1MSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3RjMzU4NzY4LmMK
PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3RjMzU4NzY4LmMKPiBAQCAtMTI4Nyw5ICsx
Mjg3LDEwIEBAIHN0YXRpYyBpbnQgdGMzNTg3NjhfaTJjX3Byb2JlKHN0cnVjdCBpMmNfY2xpZW50
ICpjbGllbnQpCj4gICAgICAgICBpZiAoIW5wKQo+ICAgICAgICAgICAgICAgICByZXR1cm4gLUVO
T0RFVjsKPgo+IC0gICAgICAgcHJpdiA9IGRldm1fa3phbGxvYyhkZXYsIHNpemVvZigqcHJpdiks
IEdGUF9LRVJORUwpOwo+IC0gICAgICAgaWYgKCFwcml2KQo+IC0gICAgICAgICAgICAgICByZXR1
cm4gLUVOT01FTTsKPiArICAgICAgIHByaXYgPSBkZXZtX2RybV9icmlkZ2VfYWxsb2MoZGV2LCBz
dHJ1Y3QgdGMzNTg3NjhfcHJpdiwgYnJpZGdlLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAmdGMzNTg3NjhfYnJpZGdlX2Z1bmNzKTsKPiArICAgICAgIGlmIChJU19FUlIo
cHJpdikpCj4gKyAgICAgICAgICAgICAgIHJldHVybiBQVFJfRVJSKHByaXYpOwo+Cj4gICAgICAg
ICBkZXZfc2V0X2RydmRhdGEoZGV2LCBwcml2KTsKPiAgICAgICAgIHByaXYtPmRldiA9IGRldjsK
PiBAQCAtMTMyMCw4ICsxMzIxLDYgQEAgc3RhdGljIGludCB0YzM1ODc2OF9pMmNfcHJvYmUoc3Ry
dWN0IGkyY19jbGllbnQgKmNsaWVudCkKPgo+ICAgICAgICAgcHJpdi0+ZHNpX2hvc3QuZGV2ID0g
ZGV2Owo+ICAgICAgICAgcHJpdi0+ZHNpX2hvc3Qub3BzID0gJnRjMzU4NzY4X2RzaV9ob3N0X29w
czsKPiAtCj4gLSAgICAgICBwcml2LT5icmlkZ2UuZnVuY3MgPSAmdGMzNTg3NjhfYnJpZGdlX2Z1
bmNzOwo+ICAgICAgICAgcHJpdi0+YnJpZGdlLnRpbWluZ3MgPSAmZGVmYXVsdF90YzM1ODc2OF90
aW1pbmdzOwo+ICAgICAgICAgcHJpdi0+YnJpZGdlLm9mX25vZGUgPSBucDsKPgo+IGRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3RjMzU4Nzc1LmMgYi9kcml2ZXJzL2dwdS9kcm0v
YnJpZGdlL3RjMzU4Nzc1LmMKPiBpbmRleCAxYjEwZTZlZTE3MjRmZmI0YmI4OTQ2Zjg2ZDJmMThl
NTM0MjgzODFhLi5iN2Q1ZWYzNzcwNDk2NTZlZmVhY2E5NmFiYzVmNjhlNjFkZTFlZTFlIDEwMDY0
NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvdGMzNTg3NzUuYwo+ICsrKyBiL2RyaXZl
cnMvZ3B1L2RybS9icmlkZ2UvdGMzNTg3NzUuYwo+IEBAIC02NTksOSArNjU5LDEwIEBAIHN0YXRp
YyBpbnQgdGNfcHJvYmUoc3RydWN0IGkyY19jbGllbnQgKmNsaWVudCkKPiAgICAgICAgIHN0cnVj
dCB0Y19kYXRhICp0YzsKPiAgICAgICAgIGludCByZXQ7Cj4KPiAtICAgICAgIHRjID0gZGV2bV9r
emFsbG9jKGRldiwgc2l6ZW9mKCp0YyksIEdGUF9LRVJORUwpOwo+IC0gICAgICAgaWYgKCF0YykK
PiAtICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gKyAgICAgICB0YyA9IGRldm1fZHJt
X2JyaWRnZV9hbGxvYyhkZXYsIHN0cnVjdCB0Y19kYXRhLCBicmlkZ2UsCj4gKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAmdGNfYnJpZGdlX2Z1bmNzKTsKPiArICAgICAgIGlmIChJ
U19FUlIodGMpKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gUFRSX0VSUih0Yyk7Cj4KPiAgICAg
ICAgIHRjLT5kZXYgPSBkZXY7Cj4gICAgICAgICB0Yy0+aTJjID0gY2xpZW50Owo+IEBAIC03MDAs
OCArNzAxLDYgQEAgc3RhdGljIGludCB0Y19wcm9iZShzdHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50
KQo+ICAgICAgICAgICAgICAgICBkZXZfZXJyKGRldiwgImNhbm5vdCBnZXQgcmVzZXQtZ3Bpb3Mg
JWRcbiIsIHJldCk7Cj4gICAgICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4gICAgICAgICB9Cj4g
LQo+IC0gICAgICAgdGMtPmJyaWRnZS5mdW5jcyA9ICZ0Y19icmlkZ2VfZnVuY3M7Cj4gICAgICAg
ICB0Yy0+YnJpZGdlLm9mX25vZGUgPSBkZXYtPm9mX25vZGU7Cj4gICAgICAgICB0Yy0+YnJpZGdl
LnByZV9lbmFibGVfcHJldl9maXJzdCA9IHRydWU7Cj4gICAgICAgICBkcm1fYnJpZGdlX2FkZCgm
dGMtPmJyaWRnZSk7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvdGhjNjNs
dmQxMDI0LmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3RoYzYzbHZkMTAyNC5jCj4gaW5kZXgg
ZTJmYzc4YWRlYmNmMjJmMGQ4Y2RiNDg0MDc4ZTM3Yjc0OGI3NzZjNi4uMmNiN2NkMGMwNjA4MjQy
NTZiYmZhNTExZjgzM2NjMDA0MzdkMzE4YiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
YnJpZGdlL3RoYzYzbHZkMTAyNC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS90aGM2
M2x2ZDEwMjQuYwo+IEBAIC0xODEsOSArMTgxLDEwIEBAIHN0YXRpYyBpbnQgdGhjNjNfcHJvYmUo
c3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKPiAgICAgICAgIHN0cnVjdCB0aGM2M19kZXYg
KnRoYzYzOwo+ICAgICAgICAgaW50IHJldDsKPgo+IC0gICAgICAgdGhjNjMgPSBkZXZtX2t6YWxs
b2MoJnBkZXYtPmRldiwgc2l6ZW9mKCp0aGM2MyksIEdGUF9LRVJORUwpOwo+IC0gICAgICAgaWYg
KCF0aGM2MykKPiAtICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gKyAgICAgICB0aGM2
MyA9IGRldm1fZHJtX2JyaWRnZV9hbGxvYygmcGRldi0+ZGV2LCBzdHJ1Y3QgdGhjNjNfZGV2LCBi
cmlkZ2UsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmdGhjNjNfYnJp
ZGdlX2Z1bmMpOwo+ICsgICAgICAgaWYgKElTX0VSUih0aGM2MykpCj4gKyAgICAgICAgICAgICAg
IHJldHVybiBQVFJfRVJSKHRoYzYzKTsKPgo+ICAgICAgICAgdGhjNjMtPmRldiA9ICZwZGV2LT5k
ZXY7Cj4gICAgICAgICBwbGF0Zm9ybV9zZXRfZHJ2ZGF0YShwZGV2LCB0aGM2Myk7Cj4gQEAgLTIw
OCw3ICsyMDksNiBAQCBzdGF0aWMgaW50IHRoYzYzX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZp
Y2UgKnBkZXYpCj4KPiAgICAgICAgIHRoYzYzLT5icmlkZ2UuZHJpdmVyX3ByaXZhdGUgPSB0aGM2
MzsKPiAgICAgICAgIHRoYzYzLT5icmlkZ2Uub2Zfbm9kZSA9IHBkZXYtPmRldi5vZl9ub2RlOwo+
IC0gICAgICAgdGhjNjMtPmJyaWRnZS5mdW5jcyA9ICZ0aGM2M19icmlkZ2VfZnVuYzsKPiAgICAg
ICAgIHRoYzYzLT5icmlkZ2UudGltaW5ncyA9ICZ0aGM2My0+dGltaW5nczsKPgo+ICAgICAgICAg
ZHJtX2JyaWRnZV9hZGQoJnRoYzYzLT5icmlkZ2UpOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vYnJpZGdlL3RpLWRscGMzNDMzLmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3RpLWRs
cGMzNDMzLmMKPiBpbmRleCA0NzYzOGQxYzk2ZWM1YWQ5OTk2MDRjOGM3ZTg4MzlmZjg1OTM2ZDk4
Li5mZGRlNTIyMDhjN2MxZjE3YjVmYjJhYzMwNmZkMzAxMWNiMWJiNDI3IDEwMDY0NAo+IC0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvdGktZGxwYzM0MzMuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1
L2RybS9icmlkZ2UvdGktZGxwYzM0MzMuYwo+IEBAIC0zNDgsOSArMzQ4LDEwIEBAIHN0YXRpYyBp
bnQgZGxwYzM0MzNfcHJvYmUoc3RydWN0IGkyY19jbGllbnQgKmNsaWVudCkKPiAgICAgICAgIHN0
cnVjdCBkbHBjICpkbHBjOwo+ICAgICAgICAgaW50IHJldDsKPgo+IC0gICAgICAgZGxwYyA9IGRl
dm1fa3phbGxvYyhkZXYsIHNpemVvZigqZGxwYyksIEdGUF9LRVJORUwpOwo+IC0gICAgICAgaWYg
KCFkbHBjKQo+IC0gICAgICAgICAgICAgICByZXR1cm4gLUVOT01FTTsKPiArICAgICAgIGRscGMg
PSBkZXZtX2RybV9icmlkZ2VfYWxsb2MoZGV2LCBzdHJ1Y3QgZGxwYywgYnJpZGdlLAo+ICsgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmZGxwY19icmlkZ2VfZnVuY3MpOwo+ICsg
ICAgICAgaWYgKElTX0VSUihkbHBjKSkKPiArICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9FUlIo
ZGxwYyk7Cj4KPiAgICAgICAgIGRscGMtPmRldiA9IGRldjsKPgo+IEBAIC0zNjQsOCArMzY1LDYg
QEAgc3RhdGljIGludCBkbHBjMzQzM19wcm9iZShzdHJ1Y3QgaTJjX2NsaWVudCAqY2xpZW50KQo+
Cj4gICAgICAgICBkZXZfc2V0X2RydmRhdGEoZGV2LCBkbHBjKTsKPiAgICAgICAgIGkyY19zZXRf
Y2xpZW50ZGF0YShjbGllbnQsIGRscGMpOwo+IC0KPiAtICAgICAgIGRscGMtPmJyaWRnZS5mdW5j
cyA9ICZkbHBjX2JyaWRnZV9mdW5jczsKPiAgICAgICAgIGRscGMtPmJyaWRnZS5vZl9ub2RlID0g
ZGV2LT5vZl9ub2RlOwo+ICAgICAgICAgZHJtX2JyaWRnZV9hZGQoJmRscGMtPmJyaWRnZSk7Cj4K
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS90aS10ZHAxNTguYyBiL2RyaXZl
cnMvZ3B1L2RybS9icmlkZ2UvdGktdGRwMTU4LmMKPiBpbmRleCBjY2E3NTQ0M2YwMTIxZTM5NTI3
YTZjZWNmNzExZWZmMmMwZDUwN2I1Li4yNzA1M2QwMjBkZjdjNmZhYmJkNWNlNjMxYjQ2YzNmMjM1
OGYxMmIyIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvdGktdGRwMTU4LmMK
PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3RpLXRkcDE1OC5jCj4gQEAgLTY4LDkgKzY4
LDEwIEBAIHN0YXRpYyBpbnQgdGRwMTU4X3Byb2JlKHN0cnVjdCBpMmNfY2xpZW50ICpjbGllbnQp
Cj4gICAgICAgICBzdHJ1Y3QgdGRwMTU4ICp0ZHAxNTg7Cj4gICAgICAgICBzdHJ1Y3QgZGV2aWNl
ICpkZXYgPSAmY2xpZW50LT5kZXY7Cj4KPiAtICAgICAgIHRkcDE1OCA9IGRldm1fa3phbGxvYyhk
ZXYsIHNpemVvZigqdGRwMTU4KSwgR0ZQX0tFUk5FTCk7Cj4gLSAgICAgICBpZiAoIXRkcDE1OCkK
PiAtICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gKyAgICAgICB0ZHAxNTggPSBkZXZt
X2RybV9icmlkZ2VfYWxsb2MoZGV2LCBzdHJ1Y3QgdGRwMTU4LCBicmlkZ2UsCj4gKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJnRkcDE1OF9icmlkZ2VfZnVuY3MpOwo+ICsg
ICAgICAgaWYgKElTX0VSUih0ZHAxNTgpKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gUFRSX0VS
Uih0ZHAxNTgpOwo+Cj4gICAgICAgICB0ZHAxNTgtPm5leHQgPSBkZXZtX2RybV9vZl9nZXRfYnJp
ZGdlKGRldiwgZGV2LT5vZl9ub2RlLCAxLCAwKTsKPiAgICAgICAgIGlmIChJU19FUlIodGRwMTU4
LT5uZXh0KSkKPiBAQCAtODksNyArOTAsNiBAQCBzdGF0aWMgaW50IHRkcDE1OF9wcm9iZShzdHJ1
Y3QgaTJjX2NsaWVudCAqY2xpZW50KQo+ICAgICAgICAgICAgICAgICByZXR1cm4gZGV2X2Vycl9w
cm9iZShkZXYsIFBUUl9FUlIodGRwMTU4LT5lbmFibGUpLCAiZW5hYmxlIik7Cj4KPiAgICAgICAg
IHRkcDE1OC0+YnJpZGdlLm9mX25vZGUgPSBkZXYtPm9mX25vZGU7Cj4gLSAgICAgICB0ZHAxNTgt
PmJyaWRnZS5mdW5jcyA9ICZ0ZHAxNThfYnJpZGdlX2Z1bmNzOwo+ICAgICAgICAgdGRwMTU4LT5i
cmlkZ2UuZHJpdmVyX3ByaXZhdGUgPSB0ZHAxNTg7Cj4gICAgICAgICB0ZHAxNTgtPmRldiA9IGRl
djsKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3RpLXRmcDQxMC5jIGIv
ZHJpdmVycy9ncHUvZHJtL2JyaWRnZS90aS10ZnA0MTAuYwo+IGluZGV4IGUxNWQyMzJkZGJhYzU1
YzZmNWY5NjY0NzFhNmM2M2Y5YzI5YTA2YzEuLmE2MmM0M2ZiYTg1NDAzMjc5MDA1NTc1MWI3MTNh
YmIwMTJlZTBjYzYgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS90aS10ZnA0
MTAuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvdGktdGZwNDEwLmMKPiBAQCAtMzQx
LDE0ICszNDEsMTMgQEAgc3RhdGljIGludCB0ZnA0MTBfaW5pdChzdHJ1Y3QgZGV2aWNlICpkZXYs
IGJvb2wgaTJjKQo+ICAgICAgICAgICAgICAgICByZXR1cm4gLUVOWElPOwo+ICAgICAgICAgfQo+
Cj4gLSAgICAgICBkdmkgPSBkZXZtX2t6YWxsb2MoZGV2LCBzaXplb2YoKmR2aSksIEdGUF9LRVJO
RUwpOwo+IC0gICAgICAgaWYgKCFkdmkpCj4gLSAgICAgICAgICAgICAgIHJldHVybiAtRU5PTUVN
Owo+ICsgICAgICAgZHZpID0gZGV2bV9kcm1fYnJpZGdlX2FsbG9jKGRldiwgc3RydWN0IHRmcDQx
MCwgYnJpZGdlLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZ0ZnA0MTBf
YnJpZGdlX2Z1bmNzKTsKPiArICAgICAgIGlmIChJU19FUlIoZHZpKSkKPiArICAgICAgICAgICAg
ICAgcmV0dXJuIFBUUl9FUlIoZHZpKTsKPgo+ICAgICAgICAgZHZpLT5kZXYgPSBkZXY7Cj4gICAg
ICAgICBkZXZfc2V0X2RydmRhdGEoZGV2LCBkdmkpOwo+IC0KPiAtICAgICAgIGR2aS0+YnJpZGdl
LmZ1bmNzID0gJnRmcDQxMF9icmlkZ2VfZnVuY3M7Cj4gICAgICAgICBkdmktPmJyaWRnZS5vZl9u
b2RlID0gZGV2LT5vZl9ub2RlOwo+ICAgICAgICAgZHZpLT5icmlkZ2UudGltaW5ncyA9ICZkdmkt
PnRpbWluZ3M7Cj4gICAgICAgICBkdmktPmJyaWRnZS50eXBlID0gRFJNX01PREVfQ09OTkVDVE9S
X0RWSUQ7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9icmlkZ2UvdGktdHBkMTJzMDE1
LmMgYi9kcml2ZXJzL2dwdS9kcm0vYnJpZGdlL3RpLXRwZDEyczAxNS5jCj4gaW5kZXggMWMyODkw
NTFhNTk4N2UwYWVjNGMyODZlZjRjMDFlZTFhMmY5NDIxZi4uZjRkNjMxNzFkYTU0Nzc2ZTViMzE0
NTk1YjZhMDI4ZmRiODE5ZTRhOCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYnJpZGdl
L3RpLXRwZDEyczAxNS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2JyaWRnZS90aS10cGQxMnMw
MTUuYwo+IEBAIC0xMTYsMTMgKzExNiwxMiBAQCBzdGF0aWMgaW50IHRwZDEyczAxNV9wcm9iZShz
dHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQo+ICAgICAgICAgc3RydWN0IGdwaW9fZGVzYyAq
Z3BpbzsKPiAgICAgICAgIGludCByZXQ7Cj4KPiAtICAgICAgIHRwZCA9IGRldm1fa3phbGxvYygm
cGRldi0+ZGV2LCBzaXplb2YoKnRwZCksIEdGUF9LRVJORUwpOwo+IC0gICAgICAgaWYgKCF0cGQp
Cj4gLSAgICAgICAgICAgICAgIHJldHVybiAtRU5PTUVNOwo+ICsgICAgICAgdHBkID0gZGV2bV9k
cm1fYnJpZGdlX2FsbG9jKCZwZGV2LT5kZXYsIHN0cnVjdCB0cGQxMnMwMTVfZGV2aWNlLAo+ICsg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyaWRnZSwgJnRwZDEyczAxNV9icmlk
Z2VfZnVuY3MpOwo+ICsgICAgICAgaWYgKElTX0VSUih0cGQpKQo+ICsgICAgICAgICAgICAgICBy
ZXR1cm4gUFRSX0VSUih0cGQpOwo+Cj4gICAgICAgICBwbGF0Zm9ybV9zZXRfZHJ2ZGF0YShwZGV2
LCB0cGQpOwo+IC0KPiAtICAgICAgIHRwZC0+YnJpZGdlLmZ1bmNzID0gJnRwZDEyczAxNV9icmlk
Z2VfZnVuY3M7Cj4gICAgICAgICB0cGQtPmJyaWRnZS5vZl9ub2RlID0gcGRldi0+ZGV2Lm9mX25v
ZGU7Cj4gICAgICAgICB0cGQtPmJyaWRnZS50eXBlID0gRFJNX01PREVfQ09OTkVDVE9SX0hETUlB
Owo+ICAgICAgICAgdHBkLT5icmlkZ2Uub3BzID0gRFJNX0JSSURHRV9PUF9ERVRFQ1Q7Cj4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfZHAuYyBiL2RyaXZlcnMvZ3B1
L2RybS9tZWRpYXRlay9tdGtfZHAuYwo+IGluZGV4IDQ1MjNjYzBhMmRiOGNkOGI1NzE4M2UxMTE0
MGI4YTY1ODRlOTVhMzQuLjlmMGUyOGUwNzUwMTg1ODcxYzI2OGUyMjdiNWIxMGQ1Y2JhMGFiZGIg
MTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL21lZGlhdGVrL210a19kcC5jCj4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL21lZGlhdGVrL210a19kcC5jCj4gQEAgLTI3MjUsOSArMjcyNSwxMCBA
QCBzdGF0aWMgaW50IG10a19kcF9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQo+
ICAgICAgICAgc3RydWN0IGRldmljZSAqZGV2ID0gJnBkZXYtPmRldjsKPiAgICAgICAgIGludCBy
ZXQ7Cj4KPiAtICAgICAgIG10a19kcCA9IGRldm1fa3phbGxvYyhkZXYsIHNpemVvZigqbXRrX2Rw
KSwgR0ZQX0tFUk5FTCk7Cj4gLSAgICAgICBpZiAoIW10a19kcCkKPiAtICAgICAgICAgICAgICAg
cmV0dXJuIC1FTk9NRU07Cj4gKyAgICAgICBtdGtfZHAgPSBkZXZtX2RybV9icmlkZ2VfYWxsb2Mo
ZGV2LCBzdHJ1Y3QgbXRrX2RwLCBicmlkZ2UsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgJm10a19kcF9icmlkZ2VfZnVuY3MpOwo+ICsgICAgICAgaWYgKElTX0VSUiht
dGtfZHApKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gUFRSX0VSUihtdGtfZHApOwo+Cj4gICAg
ICAgICBtdGtfZHAtPmRldiA9IGRldjsKPiAgICAgICAgIG10a19kcC0+ZGF0YSA9IChzdHJ1Y3Qg
bXRrX2RwX2RhdGEgKilvZl9kZXZpY2VfZ2V0X21hdGNoX2RhdGEoZGV2KTsKPiBAQCAtMjc4NCw4
ICsyNzg1LDYgQEAgc3RhdGljIGludCBtdGtfZHBfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2Rldmlj
ZSAqcGRldikKPiAgICAgICAgIHJldCA9IG10a19kcF9yZWdpc3Rlcl9waHkobXRrX2RwKTsKPiAg
ICAgICAgIGlmIChyZXQpCj4gICAgICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4gLQo+IC0gICAg
ICAgbXRrX2RwLT5icmlkZ2UuZnVuY3MgPSAmbXRrX2RwX2JyaWRnZV9mdW5jczsKPiAgICAgICAg
IG10a19kcC0+YnJpZGdlLm9mX25vZGUgPSBkZXYtPm9mX25vZGU7Cj4gICAgICAgICBtdGtfZHAt
PmJyaWRnZS50eXBlID0gbXRrX2RwLT5kYXRhLT5icmlkZ2VfdHlwZTsKPgo+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vbWVkaWF0ZWsvbXRrX2RwaS5jIGIvZHJpdmVycy9ncHUvZHJtL21l
ZGlhdGVrL210a19kcGkuYwo+IGluZGV4IDZiOTZlZDRmYzg2MTQ1NjllNTNmNzZmZTNlNTI1MDdj
N2RjMTI0OWMuLjA5YzNiMDA1MDc1NDJhYWIxOGRlZDg5YmI4ODViMmRjNjRmMmIyMDggMTAwNjQ0
Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL21lZGlhdGVrL210a19kcGkuYwo+ICsrKyBiL2RyaXZl
cnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfZHBpLmMKPiBAQCAtMTAyMSw5ICsxMDIxLDEwIEBAIHN0
YXRpYyBpbnQgbXRrX2RwaV9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQo+ICAg
ICAgICAgc3RydWN0IG10a19kcGkgKmRwaTsKPiAgICAgICAgIGludCByZXQ7Cj4KPiAtICAgICAg
IGRwaSA9IGRldm1fa3phbGxvYyhkZXYsIHNpemVvZigqZHBpKSwgR0ZQX0tFUk5FTCk7Cj4gLSAg
ICAgICBpZiAoIWRwaSkKPiAtICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gKyAgICAg
ICBkcGkgPSBkZXZtX2RybV9icmlkZ2VfYWxsb2MoZGV2LCBzdHJ1Y3QgbXRrX2RwaSwgYnJpZGdl
LAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZtdGtfZHBpX2JyaWRnZV9m
dW5jcyk7Cj4gKyAgICAgICBpZiAoSVNfRVJSKGRwaSkpCj4gKyAgICAgICAgICAgICAgIHJldHVy
biBQVFJfRVJSKGRwaSk7Cj4KPiAgICAgICAgIGRwaS0+ZGV2ID0gZGV2Owo+ICAgICAgICAgZHBp
LT5jb25mID0gKHN0cnVjdCBtdGtfZHBpX2NvbmYgKilvZl9kZXZpY2VfZ2V0X21hdGNoX2RhdGEo
ZGV2KTsKPiBAQCAtMTA3NCw4ICsxMDc1LDYgQEAgc3RhdGljIGludCBtdGtfZHBpX3Byb2JlKHN0
cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCj4gICAgICAgICAgICAgICAgIHJldHVybiBkcGkt
PmlycTsKPgo+ICAgICAgICAgcGxhdGZvcm1fc2V0X2RydmRhdGEocGRldiwgZHBpKTsKPiAtCj4g
LSAgICAgICBkcGktPmJyaWRnZS5mdW5jcyA9ICZtdGtfZHBpX2JyaWRnZV9mdW5jczsKPiAgICAg
ICAgIGRwaS0+YnJpZGdlLm9mX25vZGUgPSBkZXYtPm9mX25vZGU7Cj4gICAgICAgICBkcGktPmJy
aWRnZS50eXBlID0gRFJNX01PREVfQ09OTkVDVE9SX0RQSTsKPgo+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vbWVkaWF0ZWsvbXRrX2RzaS5jIGIvZHJpdmVycy9ncHUvZHJtL21lZGlhdGVr
L210a19kc2kuYwo+IGluZGV4IGNkMmZiZDg0ODdjNTU5MzBiZjNhYmQxYzMxMzExNTM0NjllNTE2
NmEuLjE3MzM2NDNiYTAwYjg0NWJjYWRkYTJhYWZjZTNhZmI4YTNiZTZmOGIgMTAwNjQ0Cj4gLS0t
IGEvZHJpdmVycy9ncHUvZHJtL21lZGlhdGVrL210a19kc2kuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1
L2RybS9tZWRpYXRlay9tdGtfZHNpLmMKPiBAQCAtMTE5Niw5ICsxMTk2LDEwIEBAIHN0YXRpYyBp
bnQgbXRrX2RzaV9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQo+ICAgICAgICAg
aW50IGlycV9udW07Cj4gICAgICAgICBpbnQgcmV0Owo+Cj4gLSAgICAgICBkc2kgPSBkZXZtX2t6
YWxsb2MoZGV2LCBzaXplb2YoKmRzaSksIEdGUF9LRVJORUwpOwo+IC0gICAgICAgaWYgKCFkc2kp
Cj4gLSAgICAgICAgICAgICAgIHJldHVybiAtRU5PTUVNOwo+ICsgICAgICAgZHNpID0gZGV2bV9k
cm1fYnJpZGdlX2FsbG9jKGRldiwgc3RydWN0IG10a19kc2ksIGJyaWRnZSwKPiArICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAmbXRrX2RzaV9icmlkZ2VfZnVuY3MpOwo+ICsgICAg
ICAgaWYgKElTX0VSUihkc2kpKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gUFRSX0VSUihkc2kp
Owo+Cj4gICAgICAgICBkc2ktPmRyaXZlcl9kYXRhID0gb2ZfZGV2aWNlX2dldF9tYXRjaF9kYXRh
KGRldik7Cj4KPiBAQCAtMTI0NSw4ICsxMjQ2LDYgQEAgc3RhdGljIGludCBtdGtfZHNpX3Byb2Jl
KHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCj4gICAgICAgICBpbml0X3dhaXRxdWV1ZV9o
ZWFkKCZkc2ktPmlycV93YWl0X3F1ZXVlKTsKPgo+ICAgICAgICAgcGxhdGZvcm1fc2V0X2RydmRh
dGEocGRldiwgZHNpKTsKPiAtCj4gLSAgICAgICBkc2ktPmJyaWRnZS5mdW5jcyA9ICZtdGtfZHNp
X2JyaWRnZV9mdW5jczsKPiAgICAgICAgIGRzaS0+YnJpZGdlLm9mX25vZGUgPSBkZXYtPm9mX25v
ZGU7Cj4gICAgICAgICBkc2ktPmJyaWRnZS50eXBlID0gRFJNX01PREVfQ09OTkVDVE9SX0RTSTsK
Pgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbWVkaWF0ZWsvbXRrX2hkbWkuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfaGRtaS5jCj4gaW5kZXggZTc1M2I4ZTJkOTFiOTQ3
MWRmMDA2NzhjNWFkNjZlNmFkZWM2YzM2ZC4uNThmNGRiNGFmYmZjNmJiZWY3NDUyMTBjNzMwMDMy
NDMzZTAzNTI2YiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vbWVkaWF0ZWsvbXRrX2hk
bWkuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9tZWRpYXRlay9tdGtfaGRtaS5jCj4gQEAgLTE2
ODgsOSArMTY4OCwxMCBAQCBzdGF0aWMgaW50IG10a19oZG1pX3Byb2JlKHN0cnVjdCBwbGF0Zm9y
bV9kZXZpY2UgKnBkZXYpCj4gICAgICAgICBzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmcGRldi0+ZGV2
Owo+ICAgICAgICAgaW50IHJldDsKPgo+IC0gICAgICAgaGRtaSA9IGRldm1fa3phbGxvYyhkZXYs
IHNpemVvZigqaGRtaSksIEdGUF9LRVJORUwpOwo+IC0gICAgICAgaWYgKCFoZG1pKQo+IC0gICAg
ICAgICAgICAgICByZXR1cm4gLUVOT01FTTsKPiArICAgICAgIGhkbWkgPSBkZXZtX2RybV9icmlk
Z2VfYWxsb2MoZGV2LCBzdHJ1Y3QgbXRrX2hkbWksIGJyaWRnZSwKPiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgJm10a19oZG1pX2JyaWRnZV9mdW5jcyk7Cj4gKyAgICAgICBp
ZiAoSVNfRVJSKGhkbWkpKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gUFRSX0VSUihoZG1pKTsK
Pgo+ICAgICAgICAgaGRtaS0+ZGV2ID0gZGV2Owo+ICAgICAgICAgaGRtaS0+Y29uZiA9IG9mX2Rl
dmljZV9nZXRfbWF0Y2hfZGF0YShkZXYpOwo+IEBAIC0xNzE2LDggKzE3MTcsNiBAQCBzdGF0aWMg
aW50IG10a19oZG1pX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCj4gICAgICAg
ICBpZiAocmV0KQo+ICAgICAgICAgICAgICAgICByZXR1cm4gZGV2X2Vycl9wcm9iZShkZXYsIHJl
dCwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkZhaWxlZCB0byByZWdp
c3RlciBhdWRpbyBkcml2ZXJcbiIpOwo+IC0KPiAtICAgICAgIGhkbWktPmJyaWRnZS5mdW5jcyA9
ICZtdGtfaGRtaV9icmlkZ2VfZnVuY3M7Cj4gICAgICAgICBoZG1pLT5icmlkZ2Uub2Zfbm9kZSA9
IHBkZXYtPmRldi5vZl9ub2RlOwo+ICAgICAgICAgaGRtaS0+YnJpZGdlLm9wcyA9IERSTV9CUklE
R0VfT1BfREVURUNUIHwgRFJNX0JSSURHRV9PUF9FRElECj4gICAgICAgICAgICAgICAgICAgICAg
ICAgIHwgRFJNX0JSSURHRV9PUF9IUEQ7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9t
ZXNvbi9tZXNvbl9lbmNvZGVyX2N2YnMuYyBiL2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9tZXNvbl9l
bmNvZGVyX2N2YnMuYwo+IGluZGV4IGM5Njc4ZGM2OGZhMTQyODgyZTJiZWIyNGZlODExODVmYmRl
ZjczM2IuLjI0YTk2YjBhOWUzMWRlOGYyMzE5MmZkMzZjOTUxNWM2NWM0ZDg3ZDMgMTAwNjQ0Cj4g
LS0tIGEvZHJpdmVycy9ncHUvZHJtL21lc29uL21lc29uX2VuY29kZXJfY3Zicy5jCj4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL21lc29uL21lc29uX2VuY29kZXJfY3Zicy5jCj4gQEAgLTIyNyw5ICsy
MjcsMTIgQEAgaW50IG1lc29uX2VuY29kZXJfY3Zic19wcm9iZShzdHJ1Y3QgbWVzb25fZHJtICpw
cml2KQo+ICAgICAgICAgc3RydWN0IGRldmljZV9ub2RlICpyZW1vdGU7Cj4gICAgICAgICBpbnQg
cmV0Owo+Cj4gLSAgICAgICBtZXNvbl9lbmNvZGVyX2N2YnMgPSBkZXZtX2t6YWxsb2MocHJpdi0+
ZGV2LCBzaXplb2YoKm1lc29uX2VuY29kZXJfY3ZicyksIEdGUF9LRVJORUwpOwo+IC0gICAgICAg
aWYgKCFtZXNvbl9lbmNvZGVyX2N2YnMpCj4gLSAgICAgICAgICAgICAgIHJldHVybiAtRU5PTUVN
Owo+ICsgICAgICAgbWVzb25fZW5jb2Rlcl9jdmJzID0gZGV2bV9kcm1fYnJpZGdlX2FsbG9jKHBy
aXYtPmRldiwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBzdHJ1Y3QgbWVzb25fZW5jb2Rlcl9jdmJzLAo+ICsgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyaWRnZSwKPiArICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmbWVzb25fZW5jb2Rlcl9jdmJzX2JyaWRn
ZV9mdW5jcyk7Cj4gKyAgICAgICBpZiAoSVNfRVJSKG1lc29uX2VuY29kZXJfY3ZicykpCj4gKyAg
ICAgICAgICAgICAgIHJldHVybiBQVFJfRVJSKG1lc29uX2VuY29kZXJfY3Zicyk7Cj4KPiAgICAg
ICAgIC8qIENWQlMgQ29ubmVjdG9yIEJyaWRnZSAqLwo+ICAgICAgICAgcmVtb3RlID0gb2ZfZ3Jh
cGhfZ2V0X3JlbW90ZV9ub2RlKHByaXYtPmRldi0+b2Zfbm9kZSwgMCwgMCk7Cj4gQEAgLTI0Myw5
ICsyNDYsNiBAQCBpbnQgbWVzb25fZW5jb2Rlcl9jdmJzX3Byb2JlKHN0cnVjdCBtZXNvbl9kcm0g
KnByaXYpCj4gICAgICAgICBpZiAoIW1lc29uX2VuY29kZXJfY3Zicy0+bmV4dF9icmlkZ2UpCj4g
ICAgICAgICAgICAgICAgIHJldHVybiBkZXZfZXJyX3Byb2JlKHByaXYtPmRldiwgLUVQUk9CRV9E
RUZFUiwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkZhaWxlZCB0byBm
aW5kIENWQlMgQ29ubmVjdG9yIGJyaWRnZVxuIik7Cj4gLQo+IC0gICAgICAgLyogQ1ZCUyBFbmNv
ZGVyIEJyaWRnZSAqLwo+IC0gICAgICAgbWVzb25fZW5jb2Rlcl9jdmJzLT5icmlkZ2UuZnVuY3Mg
PSAmbWVzb25fZW5jb2Rlcl9jdmJzX2JyaWRnZV9mdW5jczsKPiAgICAgICAgIG1lc29uX2VuY29k
ZXJfY3Zicy0+YnJpZGdlLm9mX25vZGUgPSBwcml2LT5kZXYtPm9mX25vZGU7Cj4gICAgICAgICBt
ZXNvbl9lbmNvZGVyX2N2YnMtPmJyaWRnZS50eXBlID0gRFJNX01PREVfQ09OTkVDVE9SX0NvbXBv
c2l0ZTsKPiAgICAgICAgIG1lc29uX2VuY29kZXJfY3Zicy0+YnJpZGdlLm9wcyA9IERSTV9CUklE
R0VfT1BfTU9ERVM7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9tZXNvbl9l
bmNvZGVyX2RzaS5jIGIvZHJpdmVycy9ncHUvZHJtL21lc29uL21lc29uX2VuY29kZXJfZHNpLmMK
PiBpbmRleCAzZGI1MThlNWY5NWQzMjRjMjE4YjczMGUwOTQ4YzNkYzg0NTM4MmJkLi5iOTgyNjQ4
MDFlZTZlYzQ1YTFiOWFmMWM1MDgyZDYwNWI5YjM0YWE0IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9tZXNvbi9tZXNvbl9lbmNvZGVyX2RzaS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L21lc29uL21lc29uX2VuY29kZXJfZHNpLmMKPiBAQCAtMTA2LDkgKzEwNiwxMiBAQCBpbnQgbWVz
b25fZW5jb2Rlcl9kc2lfcHJvYmUoc3RydWN0IG1lc29uX2RybSAqcHJpdikKPiAgICAgICAgIHN0
cnVjdCBkZXZpY2Vfbm9kZSAqcmVtb3RlOwo+ICAgICAgICAgaW50IHJldDsKPgo+IC0gICAgICAg
bWVzb25fZW5jb2Rlcl9kc2kgPSBkZXZtX2t6YWxsb2MocHJpdi0+ZGV2LCBzaXplb2YoKm1lc29u
X2VuY29kZXJfZHNpKSwgR0ZQX0tFUk5FTCk7Cj4gLSAgICAgICBpZiAoIW1lc29uX2VuY29kZXJf
ZHNpKQo+IC0gICAgICAgICAgICAgICByZXR1cm4gLUVOT01FTTsKPiArICAgICAgIG1lc29uX2Vu
Y29kZXJfZHNpID0gZGV2bV9kcm1fYnJpZGdlX2FsbG9jKHByaXYtPmRldiwKPiArICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBtZXNvbl9lbmNv
ZGVyX2RzaSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIGJyaWRnZSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICZtZXNvbl9lbmNvZGVyX2RzaV9icmlkZ2VfZnVuY3MpOwo+ICsgICAgICAgaWYgKElT
X0VSUihtZXNvbl9lbmNvZGVyX2RzaSkpCj4gKyAgICAgICAgICAgICAgIHJldHVybiBQVFJfRVJS
KG1lc29uX2VuY29kZXJfZHNpKTsKPgo+ICAgICAgICAgLyogRFNJIFRyYW5zY2VpdmVyIEJyaWRn
ZSAqLwo+ICAgICAgICAgcmVtb3RlID0gb2ZfZ3JhcGhfZ2V0X3JlbW90ZV9ub2RlKHByaXYtPmRl
di0+b2Zfbm9kZSwgMiwgMCk7Cj4gQEAgLTEyMSw5ICsxMjQsNiBAQCBpbnQgbWVzb25fZW5jb2Rl
cl9kc2lfcHJvYmUoc3RydWN0IG1lc29uX2RybSAqcHJpdikKPiAgICAgICAgIGlmICghbWVzb25f
ZW5jb2Rlcl9kc2ktPm5leHRfYnJpZGdlKQo+ICAgICAgICAgICAgICAgICByZXR1cm4gZGV2X2Vy
cl9wcm9iZShwcml2LT5kZXYsIC1FUFJPQkVfREVGRVIsCj4gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICJGYWlsZWQgdG8gZmluZCBEU0kgdHJhbnNjZWl2ZXIgYnJpZGdlXG4i
KTsKPiAtCj4gLSAgICAgICAvKiBEU0kgRW5jb2RlciBCcmlkZ2UgKi8KPiAtICAgICAgIG1lc29u
X2VuY29kZXJfZHNpLT5icmlkZ2UuZnVuY3MgPSAmbWVzb25fZW5jb2Rlcl9kc2lfYnJpZGdlX2Z1
bmNzOwo+ICAgICAgICAgbWVzb25fZW5jb2Rlcl9kc2ktPmJyaWRnZS5vZl9ub2RlID0gcHJpdi0+
ZGV2LT5vZl9ub2RlOwo+ICAgICAgICAgbWVzb25fZW5jb2Rlcl9kc2ktPmJyaWRnZS50eXBlID0g
RFJNX01PREVfQ09OTkVDVE9SX0RTSTsKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
bWVzb24vbWVzb25fZW5jb2Rlcl9oZG1pLmMgYi9kcml2ZXJzL2dwdS9kcm0vbWVzb24vbWVzb25f
ZW5jb2Rlcl9oZG1pLmMKPiBpbmRleCA1ZjAyNjk1YWFmZDFhYTg0NDRjZDkzNmEzNmU4ZjNhODAx
MDg4MWEwLi5hYmIzMzVlYzQ2OTU3NjgxN2Y1MDk1ZGQwMmE1OGIzZmU2MzgyN2RkIDEwMDY0NAo+
IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9tZXNvbl9lbmNvZGVyX2hkbWkuYwo+ICsrKyBi
L2RyaXZlcnMvZ3B1L2RybS9tZXNvbi9tZXNvbl9lbmNvZGVyX2hkbWkuYwo+IEBAIC0zNzMsOSAr
MzczLDEyIEBAIGludCBtZXNvbl9lbmNvZGVyX2hkbWlfcHJvYmUoc3RydWN0IG1lc29uX2RybSAq
cHJpdikKPiAgICAgICAgIHN0cnVjdCBkZXZpY2Vfbm9kZSAqcmVtb3RlOwo+ICAgICAgICAgaW50
IHJldDsKPgo+IC0gICAgICAgbWVzb25fZW5jb2Rlcl9oZG1pID0gZGV2bV9remFsbG9jKHByaXYt
PmRldiwgc2l6ZW9mKCptZXNvbl9lbmNvZGVyX2hkbWkpLCBHRlBfS0VSTkVMKTsKPiAtICAgICAg
IGlmICghbWVzb25fZW5jb2Rlcl9oZG1pKQo+IC0gICAgICAgICAgICAgICByZXR1cm4gLUVOT01F
TTsKPiArICAgICAgIG1lc29uX2VuY29kZXJfaGRtaSA9IGRldm1fZHJtX2JyaWRnZV9hbGxvYyhw
cml2LT5kZXYsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgc3RydWN0IG1lc29uX2VuY29kZXJfaGRtaSwKPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmlkZ2UsCj4gKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJm1lc29uX2VuY29kZXJfaGRtaV9icmlk
Z2VfZnVuY3MpOwo+ICsgICAgICAgaWYgKElTX0VSUihtZXNvbl9lbmNvZGVyX2hkbWkpKQo+ICsg
ICAgICAgICAgICAgICByZXR1cm4gUFRSX0VSUihtZXNvbl9lbmNvZGVyX2hkbWkpOwo+Cj4gICAg
ICAgICAvKiBIRE1JIFRyYW5zY2VpdmVyIEJyaWRnZSAqLwo+ICAgICAgICAgcmVtb3RlID0gb2Zf
Z3JhcGhfZ2V0X3JlbW90ZV9ub2RlKHByaXYtPmRldi0+b2Zfbm9kZSwgMSwgMCk7Cj4gQEAgLTM5
MCw5ICszOTMsNiBAQCBpbnQgbWVzb25fZW5jb2Rlcl9oZG1pX3Byb2JlKHN0cnVjdCBtZXNvbl9k
cm0gKnByaXYpCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkZhaWxlZCB0
byBmaW5kIEhETUkgdHJhbnNjZWl2ZXIgYnJpZGdlXG4iKTsKPiAgICAgICAgICAgICAgICAgZ290
byBlcnJfcHV0X25vZGU7Cj4gICAgICAgICB9Cj4gLQo+IC0gICAgICAgLyogSERNSSBFbmNvZGVy
IEJyaWRnZSAqLwo+IC0gICAgICAgbWVzb25fZW5jb2Rlcl9oZG1pLT5icmlkZ2UuZnVuY3MgPSAm
bWVzb25fZW5jb2Rlcl9oZG1pX2JyaWRnZV9mdW5jczsKPiAgICAgICAgIG1lc29uX2VuY29kZXJf
aGRtaS0+YnJpZGdlLm9mX25vZGUgPSBwcml2LT5kZXYtPm9mX25vZGU7Cj4gICAgICAgICBtZXNv
bl9lbmNvZGVyX2hkbWktPmJyaWRnZS50eXBlID0gRFJNX01PREVfQ09OTkVDVE9SX0hETUlBOwo+
ICAgICAgICAgbWVzb25fZW5jb2Rlcl9oZG1pLT5icmlkZ2UuaW50ZXJsYWNlX2FsbG93ZWQgPSB0
cnVlOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcmVuZXNhcy9yY2FyLWR1L3JjYXJf
bHZkcy5jIGIvZHJpdmVycy9ncHUvZHJtL3JlbmVzYXMvcmNhci1kdS9yY2FyX2x2ZHMuYwo+IGlu
ZGV4IGE5MTQ1MjUzMjk0ZmNhZWY2YmFlNGUxNDA2YTc4MWY2ZDcxMGQzNTcuLmI5MGM5MGYzMWU4
NmVmODFiZjYwODI3YWU5YmNiOWQzZjhmY2E2ZTQgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL3JlbmVzYXMvcmNhci1kdS9yY2FyX2x2ZHMuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9y
ZW5lc2FzL3JjYXItZHUvcmNhcl9sdmRzLmMKPiBAQCAtODc4LDkgKzg3OCwxMCBAQCBzdGF0aWMg
aW50IHJjYXJfbHZkc19wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQo+ICAgICAg
ICAgc3RydWN0IHJjYXJfbHZkcyAqbHZkczsKPiAgICAgICAgIGludCByZXQ7Cj4KPiAtICAgICAg
IGx2ZHMgPSBkZXZtX2t6YWxsb2MoJnBkZXYtPmRldiwgc2l6ZW9mKCpsdmRzKSwgR0ZQX0tFUk5F
TCk7Cj4gLSAgICAgICBpZiAobHZkcyA9PSBOVUxMKQo+IC0gICAgICAgICAgICAgICByZXR1cm4g
LUVOT01FTTsKPiArICAgICAgIGx2ZHMgPSBkZXZtX2RybV9icmlkZ2VfYWxsb2MoJnBkZXYtPmRl
diwgc3RydWN0IHJjYXJfbHZkcywgYnJpZGdlLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAmcmNhcl9sdmRzX2JyaWRnZV9vcHMpOwo+ICsgICAgICAgaWYgKElTX0VSUihs
dmRzKSkKPiArICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9FUlIobHZkcyk7Cj4KPiAgICAgICAg
IHBsYXRmb3JtX3NldF9kcnZkYXRhKHBkZXYsIGx2ZHMpOwo+Cj4gQEAgLTg5NCw4ICs4OTUsNiBA
QCBzdGF0aWMgaW50IHJjYXJfbHZkc19wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2
KQo+ICAgICAgICAgcmV0ID0gcmNhcl9sdmRzX3BhcnNlX2R0KGx2ZHMpOwo+ICAgICAgICAgaWYg
KHJldCA8IDApCj4gICAgICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4gLQo+IC0gICAgICAgbHZk
cy0+YnJpZGdlLmZ1bmNzID0gJnJjYXJfbHZkc19icmlkZ2Vfb3BzOwo+ICAgICAgICAgbHZkcy0+
YnJpZGdlLm9mX25vZGUgPSBwZGV2LT5kZXYub2Zfbm9kZTsKPgo+ICAgICAgICAgbHZkcy0+bW1p
byA9IGRldm1fcGxhdGZvcm1faW9yZW1hcF9yZXNvdXJjZShwZGV2LCAwKTsKPiBkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL3JlbmVzYXMvcnotZHUvcnpnMmxfbWlwaV9kc2kuYyBiL2RyaXZl
cnMvZ3B1L2RybS9yZW5lc2FzL3J6LWR1L3J6ZzJsX21pcGlfZHNpLmMKPiBpbmRleCA5NmMwMTQ0
NDk1NDdiNDA0MmQ3NTY4NTczZmRlODc2YjViMzliZDA0Li44M2U3YmM3MzU3OThhODk5NDJiNWYy
ODhkZjNmNTNiNDdjMWUzMzRiIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9yZW5lc2Fz
L3J6LWR1L3J6ZzJsX21pcGlfZHNpLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vcmVuZXNhcy9y
ei1kdS9yemcybF9taXBpX2RzaS5jCj4gQEAgLTcwMSw5ICs3MDEsMTAgQEAgc3RhdGljIGludCBy
emcybF9taXBpX2RzaV9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQo+ICAgICAg
ICAgdTMyIHR4c2V0cjsKPiAgICAgICAgIGludCByZXQ7Cj4KPiAtICAgICAgIGRzaSA9IGRldm1f
a3phbGxvYygmcGRldi0+ZGV2LCBzaXplb2YoKmRzaSksIEdGUF9LRVJORUwpOwo+IC0gICAgICAg
aWYgKCFkc2kpCj4gLSAgICAgICAgICAgICAgIHJldHVybiAtRU5PTUVNOwo+ICsgICAgICAgZHNp
ID0gZGV2bV9kcm1fYnJpZGdlX2FsbG9jKCZwZGV2LT5kZXYsIHN0cnVjdCByemcybF9taXBpX2Rz
aSwgYnJpZGdlLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZyemcybF9t
aXBpX2RzaV9icmlkZ2Vfb3BzKTsKPiArICAgICAgIGlmIChJU19FUlIoZHNpKSkKPiArICAgICAg
ICAgICAgICAgcmV0dXJuIFBUUl9FUlIoZHNpKTsKPgo+ICAgICAgICAgcGxhdGZvcm1fc2V0X2Ry
dmRhdGEocGRldiwgZHNpKTsKPiAgICAgICAgIGRzaS0+ZGV2ID0gJnBkZXYtPmRldjsKPiBAQCAt
NzU5LDkgKzc2MCw2IEBAIHN0YXRpYyBpbnQgcnpnMmxfbWlwaV9kc2lfcHJvYmUoc3RydWN0IHBs
YXRmb3JtX2RldmljZSAqcGRldikKPiAgICAgICAgIGRzaS0+bnVtX2RhdGFfbGFuZXMgPSBtaW4o
KCh0eHNldHIgPj4gMTYpICYgMykgKyAxLCBudW1fZGF0YV9sYW5lcyk7Cj4gICAgICAgICByemcy
bF9taXBpX2RzaV9kcGh5X2V4aXQoZHNpKTsKPiAgICAgICAgIHBtX3J1bnRpbWVfcHV0KGRzaS0+
ZGV2KTsKPiAtCj4gLSAgICAgICAvKiBJbml0aWFsaXplIHRoZSBEUk0gYnJpZGdlLiAqLwo+IC0g
ICAgICAgZHNpLT5icmlkZ2UuZnVuY3MgPSAmcnpnMmxfbWlwaV9kc2lfYnJpZGdlX29wczsKPiAg
ICAgICAgIGRzaS0+YnJpZGdlLm9mX25vZGUgPSBkc2ktPmRldi0+b2Zfbm9kZTsKPgo+ICAgICAg
ICAgLyogSW5pdCBob3N0IGRldmljZSAqLwo+Cj4gLS0KPiAyLjQ5LjAKPgpfX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpMaW51eC1zdG0zMiBtYWlsaW5nIGxp
c3QKTGludXgtc3RtMzJAc3QtbWQtbWFpbG1hbi5zdG9ybXJlcGx5LmNvbQpodHRwczovL3N0LW1k
LW1haWxtYW4uc3Rvcm1yZXBseS5jb20vbWFpbG1hbi9saXN0aW5mby9saW51eC1zdG0zMgo=
