Return-Path: <linux-stm32-bounces@st-md-mailman.stormreply.com>
X-Original-To: lists+linux-stm32@lfdr.de
Delivered-To: lists+linux-stm32@lfdr.de
Received: from stm-ict-prod-mailman-01.stormreply.prv (st-md-mailman.stormreply.com [52.209.6.89])
	by mail.lfdr.de (Postfix) with ESMTPS id EEF04A72FD2
	for <lists+linux-stm32@lfdr.de>; Thu, 27 Mar 2025 12:38:26 +0100 (CET)
Received: from ip-172-31-3-47.eu-west-1.compute.internal (localhost [127.0.0.1])
	by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTP id AD25BC78F75;
	Thu, 27 Mar 2025 11:38:26 +0000 (UTC)
Received: from foss.arm.com (foss.arm.com [217.140.110.172])
 by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTP id B7D22C78F74
 for <linux-stm32@st-md-mailman.stormreply.com>;
 Thu, 27 Mar 2025 11:38:24 +0000 (UTC)
Received: from usa-sjc-imap-foss1.foss.arm.com (unknown [10.121.207.14])
 by usa-sjc-mx-foss1.foss.arm.com (Postfix) with ESMTP id 401791762;
 Thu, 27 Mar 2025 04:38:29 -0700 (PDT)
Received: from e132581.cambridge.arm.com (e132581.arm.com [10.1.196.87])
 by usa-sjc-imap-foss1.foss.arm.com (Postfix) with ESMTPA id 094503F58B;
 Thu, 27 Mar 2025 04:38:21 -0700 (PDT)
From: Leo Yan <leo.yan@arm.com>
To: Suzuki K Poulose <suzuki.poulose@arm.com>,
 Mike Leach <mike.leach@linaro.org>, James Clark <james.clark@linaro.org>,
 Anshuman Khandual <anshuman.khandual@arm.com>,
 Alexander Shishkin <alexander.shishkin@linux.intel.com>,
 Maxime Coquelin <mcoquelin.stm32@gmail.com>,
 Alexandre Torgue <alexandre.torgue@foss.st.com>,
 Greg Kroah-Hartman <gregkh@linuxfoundation.org>,
 coresight@lists.linaro.org, linux-arm-kernel@lists.infradead.org,
 linux-kernel@vger.kernel.org, linux-stm32@st-md-mailman.stormreply.com
Date: Thu, 27 Mar 2025 11:37:55 +0000
Message-Id: <20250327113803.1452108-2-leo.yan@arm.com>
X-Mailer: git-send-email 2.34.1
In-Reply-To: <20250327113803.1452108-1-leo.yan@arm.com>
References: <20250327113803.1452108-1-leo.yan@arm.com>
MIME-Version: 1.0
Cc: Leo Yan <leo.yan@arm.com>
Subject: [Linux-stm32] [PATCH v1 1/9] coresight: tmc: Support atclk
X-BeenThere: linux-stm32@st-md-mailman.stormreply.com
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: <linux-stm32.st-md-mailman.stormreply.com>
List-Unsubscribe: <https://st-md-mailman.stormreply.com/mailman/options/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=unsubscribe>
List-Archive: <http://st-md-mailman.stormreply.com/pipermail/linux-stm32/>
List-Post: <mailto:linux-stm32@st-md-mailman.stormreply.com>
List-Help: <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=help>
List-Subscribe: <https://st-md-mailman.stormreply.com/mailman/listinfo/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: linux-stm32-bounces@st-md-mailman.stormreply.com
Sender: "Linux-stm32" <linux-stm32-bounces@st-md-mailman.stormreply.com>

VGhlIGF0Y2xrIGlzIGFuIG9wdGlvbmFsIGNsb2NrIGZvciB0aGUgQ29yZVNpZ2h0IFRNQywgYnV0
IHRoZSBkcml2ZXIKbWlzc2VzIHRvIGluaXRpYWxpemUgaXQuICBJbiBtb3N0IGNhc2VzLCB0aGUg
VE1DIHNoYXJlcyB0aGUgc2FtZSBhdGNsawp3aXRoIG90aGVyIENvcmVTaWdodCBjb21wb25lbnRz
LiAgU2luY2UgdGhlc2UgY29tcG9uZW50cyBlbmFibGUgdGhlCmNsb2NrIGJlZm9yZSB0aGUgVE1D
IGRldmljZSBpcyBpbml0aWFsaXplZCwgdGhlIFRNQyBjb250aW51ZXMgcHJvcGVybHksCndoaWNo
IGlzIHdoeSB3ZSBkb27igJl0IG9ic2VydmUgYW55IGxvY2t1cCBpc3N1ZXMuCgpUaGlzIGNoYW5n
ZSBlbmFibGVzIGF0Y2xrIGluIHByb2JlIG9mIHRoZSBUTUMgZHJpdmVyLiAgR2l2ZW4gdGhlIGNs
b2NrCmlzIG9wdGlvbmFsLCBpdCBpcyBwb3NzaWJsZSB0byByZXR1cm4gTlVMTCBpZiB0aGUgY2xv
Y2sgZG9lcyBub3QgZXhpc3QuCklTX0VSUigpIGlzIHRvbGVyYW50IGZvciB0aGlzIGNhc2UuCgpE
eW5hbWljYWxseSBkaXNhYmxlIGFuZCBlbmFibGUgYXRjbGsgZHVyaW5nIHN1c3BlbmQgYW5kIHJl
c3VtZS4gIFRoZQpjbG9jayBwb2ludGVycyB3aWxsIG5ldmVyIGJlIGVycm9yIHZhbHVlcyBpZiB0
aGUgZHJpdmVyIGhhcyBzdWNjZXNzZnVsbHkKcHJvYmVkLCBhbmQgdGhlIGNhc2Ugb2YgYSBOVUxM
IHBvaW50ZXIgY2FzZSB3aWxsIGJlIGhhbmRsZWQgYnkgdGhlIGNsb2NrCmNvcmUgbGF5ZXIuICBU
aGUgZHJpdmVyIGRhdGEgaXMgYWx3YXlzIHZhbGlkIGFmdGVyIHByb2JlLiBUaGVyZWZvcmUsCnJl
bW92ZSB0aGUgcmVsYXRlZCBjaGVja3MuICBBbHNvIGluIHRoZSByZXN1bWUgZmxvdyBhZGRzIGVy
cm9yIGhhbmRsaW5nLgoKRml4ZXM6IGJjNGJmN2ZlOThkYSAoImNvcmVzaWdodC10bWM6IGFkZCBD
b3JlU2lnaHQgVE1DIGRyaXZlciIpClNpZ25lZC1vZmYtYnk6IExlbyBZYW4gPGxlby55YW5AYXJt
LmNvbT4KLS0tCiBkcml2ZXJzL2h3dHJhY2luZy9jb3Jlc2lnaHQvY29yZXNpZ2h0LXRtYy1jb3Jl
LmMgfCAyMiArKysrKysrKysrKysrKysrKy0tLS0tCiBkcml2ZXJzL2h3dHJhY2luZy9jb3Jlc2ln
aHQvY29yZXNpZ2h0LXRtYy5oICAgICAgfCAgMiArKwogMiBmaWxlcyBjaGFuZ2VkLCAxOSBpbnNl
cnRpb25zKCspLCA1IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvaHd0cmFjaW5n
L2NvcmVzaWdodC9jb3Jlc2lnaHQtdG1jLWNvcmUuYyBiL2RyaXZlcnMvaHd0cmFjaW5nL2NvcmVz
aWdodC9jb3Jlc2lnaHQtdG1jLWNvcmUuYwppbmRleCA1OTc4YmNkYTI1NTYuLjZhYWQyYWNkMDM3
OCAxMDA2NDQKLS0tIGEvZHJpdmVycy9od3RyYWNpbmcvY29yZXNpZ2h0L2NvcmVzaWdodC10bWMt
Y29yZS5jCisrKyBiL2RyaXZlcnMvaHd0cmFjaW5nL2NvcmVzaWdodC9jb3Jlc2lnaHQtdG1jLWNv
cmUuYwpAQCAtNzg5LDYgKzc4OSwxMCBAQCBzdGF0aWMgaW50IF9fdG1jX3Byb2JlKHN0cnVjdCBk
ZXZpY2UgKmRldiwgc3RydWN0IHJlc291cmNlICpyZXMpCiAJc3RydWN0IGNvcmVzaWdodF9kZXNj
IGRlc2MgPSB7IDAgfTsKIAlzdHJ1Y3QgY29yZXNpZ2h0X2Rldl9saXN0ICpkZXZfbGlzdCA9IE5V
TEw7CiAKKwlkcnZkYXRhLT5hdGNsayA9IGRldm1fY2xrX2dldF9vcHRpb25hbF9lbmFibGVkKGRl
diwgImF0Y2xrIik7CisJaWYgKElTX0VSUihkcnZkYXRhLT5hdGNsaykpCisJCXJldHVybiBQVFJf
RVJSKGRydmRhdGEtPmF0Y2xrKTsKKwogCXJldCA9IC1FTk9NRU07CiAKIAkvKiBWYWxpZGl0eSBm
b3IgdGhlIHJlc291cmNlIGlzIGFscmVhZHkgY2hlY2tlZCBieSB0aGUgQU1CQSBjb3JlICovCkBA
IC0xMDE5LDE4ICsxMDIzLDI2IEBAIHN0YXRpYyBpbnQgdG1jX3J1bnRpbWVfc3VzcGVuZChzdHJ1
Y3QgZGV2aWNlICpkZXYpCiB7CiAJc3RydWN0IHRtY19kcnZkYXRhICpkcnZkYXRhID0gZGV2X2dl
dF9kcnZkYXRhKGRldik7CiAKLQlpZiAoZHJ2ZGF0YSAmJiAhSVNfRVJSX09SX05VTEwoZHJ2ZGF0
YS0+cGNsaykpCi0JCWNsa19kaXNhYmxlX3VucHJlcGFyZShkcnZkYXRhLT5wY2xrKTsKKwljbGtf
ZGlzYWJsZV91bnByZXBhcmUoZHJ2ZGF0YS0+YXRjbGspOworCWNsa19kaXNhYmxlX3VucHJlcGFy
ZShkcnZkYXRhLT5wY2xrKTsKKwogCXJldHVybiAwOwogfQogCiBzdGF0aWMgaW50IHRtY19ydW50
aW1lX3Jlc3VtZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiB7CiAJc3RydWN0IHRtY19kcnZkYXRhICpk
cnZkYXRhID0gZGV2X2dldF9kcnZkYXRhKGRldik7CisJaW50IHJldDsKIAotCWlmIChkcnZkYXRh
ICYmICFJU19FUlJfT1JfTlVMTChkcnZkYXRhLT5wY2xrKSkKLQkJY2xrX3ByZXBhcmVfZW5hYmxl
KGRydmRhdGEtPnBjbGspOwotCXJldHVybiAwOworCXJldCA9IGNsa19wcmVwYXJlX2VuYWJsZShk
cnZkYXRhLT5wY2xrKTsKKwlpZiAocmV0KQorCQlyZXR1cm4gcmV0OworCisJcmV0ID0gY2xrX3By
ZXBhcmVfZW5hYmxlKGRydmRhdGEtPmF0Y2xrKTsKKwlpZiAocmV0KQorCQljbGtfZGlzYWJsZV91
bnByZXBhcmUoZHJ2ZGF0YS0+cGNsayk7CisKKwlyZXR1cm4gcmV0OwogfQogI2VuZGlmCiAKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvaHd0cmFjaW5nL2NvcmVzaWdodC9jb3Jlc2lnaHQtdG1jLmggYi9k
cml2ZXJzL2h3dHJhY2luZy9jb3Jlc2lnaHQvY29yZXNpZ2h0LXRtYy5oCmluZGV4IDY1NDFhMjdh
MDE4ZS4uY2JiNGJhNDM5MTU4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2h3dHJhY2luZy9jb3Jlc2ln
aHQvY29yZXNpZ2h0LXRtYy5oCisrKyBiL2RyaXZlcnMvaHd0cmFjaW5nL2NvcmVzaWdodC9jb3Jl
c2lnaHQtdG1jLmgKQEAgLTIxMCw2ICsyMTAsNyBAQCBzdHJ1Y3QgdG1jX3Jlc3J2X2J1ZiB7CiAK
IC8qKgogICogc3RydWN0IHRtY19kcnZkYXRhIC0gc3BlY2lmaWNzIGFzc29jaWF0ZWQgdG8gYW4g
VE1DIGNvbXBvbmVudAorICogQGF0Y2xrOglvcHRpb25hbCBjbG9jayBmb3IgdGhlIGNvcmUgcGFy
dHMgb2YgdGhlIFRNQy4KICAqIEBwY2xrOglBUEIgY2xvY2sgaWYgcHJlc2VudCwgb3RoZXJ3aXNl
IE5VTEwKICAqIEBiYXNlOgltZW1vcnkgbWFwcGVkIGJhc2UgYWRkcmVzcyBmb3IgdGhpcyBjb21w
b25lbnQuCiAgKiBAY3NkZXY6CWNvbXBvbmVudCB2aXRhbHMgbmVlZGVkIGJ5IHRoZSBmcmFtZXdv
cmsuCkBAIC0yNDQsNiArMjQ1LDcgQEAgc3RydWN0IHRtY19yZXNydl9idWYgewogICoJCSBVc2Vk
IGJ5IEVUUi9FVEYuCiAgKi8KIHN0cnVjdCB0bWNfZHJ2ZGF0YSB7CisJc3RydWN0IGNsawkJKmF0
Y2xrOwogCXN0cnVjdCBjbGsJCSpwY2xrOwogCXZvaWQgX19pb21lbQkJKmJhc2U7CiAJc3RydWN0
IGNvcmVzaWdodF9kZXZpY2UJKmNzZGV2OwotLSAKMi4zNC4xCgpfX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fXwpMaW51eC1zdG0zMiBtYWlsaW5nIGxpc3QKTGlu
dXgtc3RtMzJAc3QtbWQtbWFpbG1hbi5zdG9ybXJlcGx5LmNvbQpodHRwczovL3N0LW1kLW1haWxt
YW4uc3Rvcm1yZXBseS5jb20vbWFpbG1hbi9saXN0aW5mby9saW51eC1zdG0zMgo=
