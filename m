Return-Path: <linux-stm32-bounces@st-md-mailman.stormreply.com>
X-Original-To: lists+linux-stm32@lfdr.de
Delivered-To: lists+linux-stm32@lfdr.de
Received: from stm-ict-prod-mailman-01.stormreply.prv (st-md-mailman.stormreply.com [52.209.6.89])
	by mail.lfdr.de (Postfix) with ESMTPS id 0E4D7A2C971
	for <lists+linux-stm32@lfdr.de>; Fri,  7 Feb 2025 17:57:47 +0100 (CET)
Received: from ip-172-31-3-47.eu-west-1.compute.internal (localhost [127.0.0.1])
	by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTP id E45C7C78F8E;
	Fri,  7 Feb 2025 16:57:46 +0000 (UTC)
Received: from mgamail.intel.com (mgamail.intel.com [198.175.65.16])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
 (No client certificate requested)
 by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTPS id BD753C78F8C
 for <linux-stm32@st-md-mailman.stormreply.com>;
 Fri,  7 Feb 2025 16:57:45 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=intel.com; i=@intel.com; q=dns/txt; s=Intel;
 t=1738947466; x=1770483466;
 h=from:to:subject:date:message-id:in-reply-to:references:
 mime-version:content-transfer-encoding;
 bh=X5bnu914dQXA2uIKrYCghscn8cJkCSy7eCFLxCqjJ/w=;
 b=I4LF3eT4OVeTFxYTWIVF5jKJV0j2W66p6Pa8ZR8qBDzhfxS4tcS9f2GH
 FHnV6kYuMGn8NQEBgQ6f7NcZma7GDkCWWWYEs4pl/P+371NrFaiGwZHv+
 R+nudDMldpj8E3ZoJkL8DD3Cx58MH85EU7K+dpO/N+javMJIj1NZpEx7D
 UHbclfuTgbdnEC4kmP+9T7YL79DoHoPI0XCs0TkwULUcpRBzWqnrby9U4
 Q+VXC9FtWptjYL2wtNy8ODFBiQuAaCWBXUnfhduV+HjJSb+6Yx0Zk/A3R
 mWTNoJ50G+GQqwNaVQz8qfIW0c+zUR9HnpTs1RDhbNXzWjlKbyEmCVFZ4 A==;
X-CSE-ConnectionGUID: ztsnxd7CQKqvw52L5JTjzg==
X-CSE-MsgGUID: 01fpipCpTDuHjeWeoy8QQA==
X-IronPort-AV: E=McAfee;i="6700,10204,11338"; a="39722971"
X-IronPort-AV: E=Sophos;i="6.13,267,1732608000"; d="scan'208";a="39722971"
Received: from orviesa006.jf.intel.com ([10.64.159.146])
 by orvoesa108.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 07 Feb 2025 08:57:44 -0800
X-CSE-ConnectionGUID: kyUTLbvkQs218MHqqmAj1w==
X-CSE-MsgGUID: gE3cTKpORCKCZOi40FnSvQ==
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="6.13,267,1732608000"; d="scan'208";a="111534578"
Received: from mohdfai2-ilbpg12-1.png.intel.com ([10.88.227.73])
 by orviesa006.jf.intel.com with ESMTP; 07 Feb 2025 08:57:35 -0800
From: Faizal Rahim <faizal.abdul.rahim@linux.intel.com>
To: Tony Nguyen <anthony.l.nguyen@intel.com>,
 Przemek Kitszel <przemyslaw.kitszel@intel.com>,
 Andrew Lunn <andrew+netdev@lunn.ch>,
 "David S . Miller" <davem@davemloft.net>,
 Eric Dumazet <edumazet@google.com>, Jakub Kicinski <kuba@kernel.org>,
 Paolo Abeni <pabeni@redhat.com>,
 Maxime Coquelin <mcoquelin.stm32@gmail.com>,
 Alexandre Torgue <alexandre.torgue@foss.st.com>,
 Simon Horman <horms@kernel.org>, Russell King <linux@armlinux.org.uk>,
 Alexei Starovoitov <ast@kernel.org>,
 Daniel Borkmann <daniel@iogearbox.net>,
 Jesper Dangaard Brouer <hawk@kernel.org>,
 John Fastabend <john.fastabend@gmail.com>, Furong Xu <0x1207@gmail.com>,
 Russell King <rmk+kernel@armlinux.org.uk>,
 Vladimir Oltean <vladimir.oltean@nxp.com>,
 Serge Semin <fancer.lancer@gmail.com>,
 Xiaolei Wang <xiaolei.wang@windriver.com>,
 Suraj Jaiswal <quic_jsuraj@quicinc.com>,
 Kory Maincent <kory.maincent@bootlin.com>, Gal Pressman <gal@nvidia.com>,
 Jesper Nilsson <jesper.nilsson@axis.com>,
 Andrew Halaney <ahalaney@redhat.com>,
 Choong Yong Liang <yong.liang.choong@linux.intel.com>,
 Faizal Rahim <faizal.abdul.rahim@linux.intel.com>,
 Kunihiko Hayashi <hayashi.kunihiko@socionext.com>,
 Vinicius Costa Gomes <vinicius.gomes@intel.com>,
 intel-wired-lan@lists.osuosl.org, netdev@vger.kernel.org,
 linux-kernel@vger.kernel.org, linux-stm32@st-md-mailman.stormreply.com,
 linux-arm-kernel@lists.infradead.org, bpf@vger.kernel.org
Date: Fri,  7 Feb 2025 11:56:45 -0500
Message-Id: <20250207165649.2245320-6-faizal.abdul.rahim@linux.intel.com>
X-Mailer: git-send-email 2.34.1
In-Reply-To: <20250207165649.2245320-1-faizal.abdul.rahim@linux.intel.com>
References: <20250207165649.2245320-1-faizal.abdul.rahim@linux.intel.com>
MIME-Version: 1.0
Subject: [Linux-stm32] [PATCH iwl-next v3 5/9] igc: Add support for frame
	preemption verification
X-BeenThere: linux-stm32@st-md-mailman.stormreply.com
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: <linux-stm32.st-md-mailman.stormreply.com>
List-Unsubscribe: <https://st-md-mailman.stormreply.com/mailman/options/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=unsubscribe>
List-Archive: <http://st-md-mailman.stormreply.com/pipermail/linux-stm32/>
List-Post: <mailto:linux-stm32@st-md-mailman.stormreply.com>
List-Help: <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=help>
List-Subscribe: <https://st-md-mailman.stormreply.com/mailman/listinfo/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: linux-stm32-bounces@st-md-mailman.stormreply.com
Sender: "Linux-stm32" <linux-stm32-bounces@st-md-mailman.stormreply.com>

VGhpcyBwYXRjaCBpbXBsZW1lbnRzIHRoZSAiZXRodG9vbCAtLXNldC1tbSIgY2FsbGJhY2sgdG8g
dHJpZ2dlciB0aGUKZnJhbWUgcHJlZW1wdGlvbiB2ZXJpZmljYXRpb24gaGFuZHNoYWtlLgoKVXNl
cyB0aGUgTUFDIE1lcmdlIFNvZnR3YXJlIFZlcmlmaWNhdGlvbiAobW1zdikgbWVjaGFuaXNtIGlu
IGV0aHRvb2wKdG8gcGVyZm9ybSB0aGUgdmVyaWZpY2F0aW9uIGhhbmRzaGFrZSBmb3IgaWdjLgpU
aGUgc3RydWN0dXJlIGZwZS5tbXN2IGlzIHNldCBieSBtbXN2IGluIGV0aHRvb2wgYW5kIHNob3Vs
ZCByZW1haW4KcmVhZC1vbmx5IGZvciB0aGUgZHJpdmVyLgoKT3RoZXIgbW1zdiBjYWxsYmFja3M6
CmEpIGNvbmZpZ3VyZV90eCgpIC0+IG5vdCB1c2VkIHlldCBhdCB0aGlzIHBvaW50CiAgIC0gaWdj
IGxhY2tzIHJlZ2lzdGVycyB0byBjb25maWd1cmUgRlBFIGluIHRoZSB0cmFuc21pdCBkaXJlY3Rp
b24sIHNvCiAgICAgdGhpcyBBUEkgaXMgbm90IHV0aWxpemVkIGZvciBub3cuIEEgZnV0dXJlIHBh
dGNoIHdpbGwgdXNlIGl0IHRvCiAgICAgY29udHJvbCBwcmVlbXB0aWJsZSBxdWV1ZSBjb25maWcu
CgpiKSBjb25maWd1cmVfcG1hYygpIC0+IG5vdCB1c2VkCiAgIC0gdGhpcyBjYWxsYmFjayBkeW5h
bWljYWxseSBjb250cm9scyBwbWFjX2VuYWJsZWQgYXQgcnVudGltZS4gRm9yCiAgICAgZXhhbXBs
ZSwgbW1zdiBjYWxscyBjb25maWd1cmVfcG1hYygpIGFuZCBkaXNhYmxlcyBwbWFjX2VuYWJsZWQg
d2hlbgogICAgIHRoZSBsaW5rIHBhcnRuZXIgZ29lcyBkb3duLCBldmVuIGlmIHRoZSB1c2VyIHBy
ZXZpb3VzbHkgZW5hYmxlZCBpdC4KICAgICBUaGUgaW50ZW50aW9uIGlzIHRvIHNhdmUgcG93ZXIg
YnV0IGl0IGlzIG5vdCBmZWFzaWJsZSBpbiBpZ2MKICAgICBiZWNhdXNlIGl0IGNhdXNlcyBhbiBl
bmRsZXNzIGFkYXB0ZXIgcmVzZXQgbG9vcDoKCgkgMSkgQm9hcmQgQSBhbmQgQm9hcmQgQiBjb21w
bGV0ZSB0aGUgdmVyaWZpY2F0aW9uIGhhbmRzaGFrZS4KICAgICAgICAgICAgVHggbW9kZSByZWdp
c3RlciBmb3IgYm90aCBib2FyZHMgYXJlIGluIFRTTiBtb2RlLgoJIDIpIEJvYXJkIEIgbGluayBn
b2VzIGRvd24uCgogICAgICAgICBPbiBCb2FyZCBBOgoJIDMpIG1tc3YgY2FsbHMgY29uZmlndXJl
X3BtYWMoKSB3aXRoIHBtYWNfZW5hYmxlZCA9IGZhbHNlLgoJIDQpIGNvbmZpZ3VyZV9wbWFjKCkg
aW4gaWdjIHVwZGF0ZXMgYSBuZXcgZmllbGQgYmFzZWQgb24KICAgICAgICAgICAgcG1hY19lbmFi
bGVkLiBEcml2ZXIgdXNlcyB0aGlzIGZpZWxkIGluIGlnY190c25fbmV3X2ZsYWdzKCkKICAgICAg
ICAgICAgdG8gaW5kaWNhdGUgdGhhdCB0aGUgdXNlciBlbmFibGVkL2Rpc2FibGVkIEZQRS4KCSA1
KSBjb25maWd1cmVfcG1hYygpIGluIGlnYyBjYWxscyBpZ2NfdHNuX29mZmxvYWRfYXBwbHkoKSB0
byBjaGVjawogICAgICAgICAgICB3aGV0aGVyIGFuIGFkYXB0ZXIgcmVzZXQgaXMgbmVlZGVkLiBD
YWxscyBleGlzdGluZyBsb2dpYyBpbgogICAgICAgICAgICBpZ2NfdHNuX3dpbGxfdHhfbW9kZV9j
aGFuZ2UoKSBhbmQgaWdjX3Rzbl9uZXdfZmxhZ3MoKS4KCSA2KSBTaW5jZSBwbWFjX2VuYWJsZWQg
aXMgbm93IGRpc2FibGVkIGFuZCBubyBvdGhlciBUU04gZmVhdHVyZQogICAgICAgICAgICBpcyBh
Y3RpdmUsIGlnY190c25fd2lsbF90eF9tb2RlX2NoYW5nZSgpIGV2YWx1YXRlcyB0byB0cnVlCiAg
ICAgICAgICAgIGJlY2F1c2UgVHggbW9kZSB3aWxsIHN3aXRjaCBmcm9tIFRTTiB0byBMZWdhY3ku
CgkgNykgRHJpdmVyIHJlc2V0cyB0aGUgYWRhcHRlci4KCSA4KSBSZWdpc3RlcnMgYXJlIHNldCwg
YW5kIFR4IG1vZGUgc3dpdGNoZXMgdG8gTGVnYWN5LgoJIDkpIFdoZW4gbGluayBwYXJ0bmVyIGlz
IHVwLCBzdGVwcyAz4oCTOCByZXBlYXQsIGJ1dCB0aGlzIHRpbWUKICAgICAgICAgICAgd2l0aCBw
bWFjX2VuYWJsZWQgPSB0cnVlLCByZWFjdGl2YXRpbmcgVFNOLgogICAgICAgICAgICBpZ2NfdHNu
X3dpbGxfdHhfbW9kZV9jaGFuZ2UoKSBldmFsdWF0ZXMgdG8gdHJ1ZSBhZ2FpbiwKICAgICAgICAg
ICAgc2luY2UgVHggbW9kZSB3aWxsIHN3aXRjaCBmcm9tIExlZ2FjeSB0byBUU04uCgkxMCkgRHJp
dmVyIHJlc2V0cyB0aGUgYWRhcHRlci4KCTExKSBSZXN0IGFkYXB0ZXIgY29tcGxldGVzLCByZWdp
c3RlcnMgYXJlIHNldCwgYW5kIFR4IG1vZGUKCSAgICBzd2l0Y2hlcyB0byBUU04uCgogICAgICAg
IE9uIEJvYXJkIEI6CgkxMikgQWRhcHRlciByZXNldCBvbiBCb2FyZCBBIGF0IHN0ZXAgMTAgY2F1
c2VzIGl0IHRvIGRldGVjdCBpdHMKICAgICAgICAgICAgbGluayBwYXJ0bmVyIGFzIGRvd24uCgkx
MykgUmVwZWF0cyBzdGVwcyAz4oCTOC4KCTE0KSBPbmNlIHJlc2V0IGFkYXB0ZXIgb24gQm9hcmQg
QSBpcyBjb21wbGV0ZWQgYXQgc3RlcCAxMSwgaXQKICAgICAgICAgICAgZGV0ZWN0cyBpdHMgbGlu
ayBwYXJ0bmVyIGFzIHVwLgoJMTUpIFJlcGVhdHMgc3RlcHMgOeKAkzExLgoKICAgLSB0aGlzIGN5
Y2xlIHJlcGVhdHMgaW5kZWZpbml0ZWx5LiBUbyBhdm9pZCB0aGlzIGlzc3VlLCBpZ2Mgb25seSB1
c2VzCiAgICAgbW1zdi5wbWFjX2VuYWJsZWQgdG8gdHJhY2sgd2hldGhlciBGUEUgaXMgZW5hYmxl
ZCBvciBkaXNhYmxlZC4KCkNvLWRldmVsb3BlZC1ieTogVmluaWNpdXMgQ29zdGEgR29tZXMgPHZp
bmljaXVzLmdvbWVzQGludGVsLmNvbT4KU2lnbmVkLW9mZi1ieTogVmluaWNpdXMgQ29zdGEgR29t
ZXMgPHZpbmljaXVzLmdvbWVzQGludGVsLmNvbT4KQ28tZGV2ZWxvcGVkLWJ5OiBDaG9vbmcgWW9u
ZyBMaWFuZyA8eW9uZy5saWFuZy5jaG9vbmdAbGludXguaW50ZWwuY29tPgpTaWduZWQtb2ZmLWJ5
OiBDaG9vbmcgWW9uZyBMaWFuZyA8eW9uZy5saWFuZy5jaG9vbmdAbGludXguaW50ZWwuY29tPgpT
aWduZWQtb2ZmLWJ5OiBGYWl6YWwgUmFoaW0gPGZhaXphbC5hYmR1bC5yYWhpbUBsaW51eC5pbnRl
bC5jb20+Ci0tLQogZHJpdmVycy9uZXQvZXRoZXJuZXQvaW50ZWwvaWdjL2lnYy5oICAgICAgICAg
fCAgMTIgKy0KIGRyaXZlcnMvbmV0L2V0aGVybmV0L2ludGVsL2lnYy9pZ2NfYmFzZS5oICAgIHwg
ICAxICsKIGRyaXZlcnMvbmV0L2V0aGVybmV0L2ludGVsL2lnYy9pZ2NfZGVmaW5lcy5oIHwgICA4
ICstCiBkcml2ZXJzL25ldC9ldGhlcm5ldC9pbnRlbC9pZ2MvaWdjX2V0aHRvb2wuYyB8ICAyMSAr
KysKIGRyaXZlcnMvbmV0L2V0aGVybmV0L2ludGVsL2lnYy9pZ2NfbWFpbi5jICAgIHwgIDU0ICsr
KysrKy0KIGRyaXZlcnMvbmV0L2V0aGVybmV0L2ludGVsL2lnYy9pZ2NfdHNuLmMgICAgIHwgMTU3
ICsrKysrKysrKysrKysrKysrKy0KIGRyaXZlcnMvbmV0L2V0aGVybmV0L2ludGVsL2lnYy9pZ2Nf
dHNuLmggICAgIHwgIDMzICsrKysKIDcgZmlsZXMgY2hhbmdlZCwgMjgxIGluc2VydGlvbnMoKyks
IDUgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9uZXQvZXRoZXJuZXQvaW50ZWwv
aWdjL2lnYy5oIGIvZHJpdmVycy9uZXQvZXRoZXJuZXQvaW50ZWwvaWdjL2lnYy5oCmluZGV4IDIy
ZWNkYWMyNmNmNC4uNzA1YmQ0NzM5ZTNiIDEwMDY0NAotLS0gYS9kcml2ZXJzL25ldC9ldGhlcm5l
dC9pbnRlbC9pZ2MvaWdjLmgKKysrIGIvZHJpdmVycy9uZXQvZXRoZXJuZXQvaW50ZWwvaWdjL2ln
Yy5oCkBAIC00MCw2ICs0MCwxMCBAQCB2b2lkIGlnY19ldGh0b29sX3NldF9vcHMoc3RydWN0IG5l
dF9kZXZpY2UgKik7CiAKICNkZWZpbmUgSUdDX01BWF9UWF9UU1RBTVBfUkVHUwkJNAogCitzdHJ1
Y3QgZnBlX3QgeworCXN0cnVjdCBldGh0b29sX21tc3YgbW1zdjsKK307CisKIGVudW0gaWdjX21h
Y19maWx0ZXJfdHlwZSB7CiAJSUdDX01BQ19GSUxURVJfVFlQRV9EU1QgPSAwLAogCUlHQ19NQUNf
RklMVEVSX1RZUEVfU1JDCkBAIC0zMzIsNiArMzM2LDggQEAgc3RydWN0IGlnY19hZGFwdGVyIHsK
IAkJc3RydWN0IHRpbWVzcGVjNjQgcGVyaW9kOwogCX0gcGVyb3V0W0lHQ19OX1BFUk9VVF07CiAK
KwlzdHJ1Y3QgZnBlX3QgZnBlOworCiAJLyogTEVEcyAqLwogCXN0cnVjdCBtdXRleCBsZWRfbXV0
ZXg7CiAJc3RydWN0IGlnY19sZWRfY2xhc3NkZXYgKmxlZHM7CkBAIC0zODksMTAgKzM5NSwxMSBA
QCBleHRlcm4gY2hhciBpZ2NfZHJpdmVyX25hbWVbXTsKICNkZWZpbmUgSUdDX0ZMQUdfVFNOX1FC
Vl9FTkFCTEVECUJJVCgxNykKICNkZWZpbmUgSUdDX0ZMQUdfVFNOX1FBVl9FTkFCTEVECUJJVCgx
OCkKICNkZWZpbmUgSUdDX0ZMQUdfVFNOX0xFR0FDWV9FTkFCTEVECUJJVCgxOSkKKyNkZWZpbmUg
SUdDX0ZMQUdfVFNOX1BSRUVNUFRfRU5BQkxFRAlCSVQoMjApCiAKICNkZWZpbmUgSUdDX0ZMQUdf
VFNOX0FOWV9FTkFCTEVECQkJCVwKIAkoSUdDX0ZMQUdfVFNOX1FCVl9FTkFCTEVEIHwgSUdDX0ZM
QUdfVFNOX1FBVl9FTkFCTEVEIHwJXAotCSBJR0NfRkxBR19UU05fTEVHQUNZX0VOQUJMRUQpCisJ
IElHQ19GTEFHX1RTTl9MRUdBQ1lfRU5BQkxFRCB8IElHQ19GTEFHX1RTTl9QUkVFTVBUX0VOQUJM
RUQpCiAKICNkZWZpbmUgSUdDX0ZMQUdfUlNTX0ZJRUxEX0lQVjRfVURQCUJJVCg2KQogI2RlZmlu
ZSBJR0NfRkxBR19SU1NfRklFTERfSVBWNl9VRFAJQklUKDcpCkBAIC03MzYsNyArNzQzLDEwIEBA
IHN0cnVjdCBpZ2NfbmZjX3J1bGUgKmlnY19nZXRfbmZjX3J1bGUoc3RydWN0IGlnY19hZGFwdGVy
ICphZGFwdGVyLAogCQkJCSAgICAgIHUzMiBsb2NhdGlvbik7CiBpbnQgaWdjX2FkZF9uZmNfcnVs
ZShzdHJ1Y3QgaWdjX2FkYXB0ZXIgKmFkYXB0ZXIsIHN0cnVjdCBpZ2NfbmZjX3J1bGUgKnJ1bGUp
Owogdm9pZCBpZ2NfZGVsX25mY19ydWxlKHN0cnVjdCBpZ2NfYWRhcHRlciAqYWRhcHRlciwgc3Ry
dWN0IGlnY19uZmNfcnVsZSAqcnVsZSk7Cit2b2lkIGlnY19kaXNhYmxlX2VtcHR5X2FkZHJfcmVj
dihzdHJ1Y3QgaWdjX2FkYXB0ZXIgKmFkYXB0ZXIpOworaW50IGlnY19lbmFibGVfZW1wdHlfYWRk
cl9yZWN2KHN0cnVjdCBpZ2NfYWRhcHRlciAqYWRhcHRlcik7CiBzdHJ1Y3QgaWdjX3JpbmcgKmln
Y19nZXRfdHhfcmluZyhzdHJ1Y3QgaWdjX2FkYXB0ZXIgKmFkYXB0ZXIsIGludCBjcHUpOwordm9p
ZCBpZ2NfZmx1c2hfdHhfZGVzY3JpcHRvcnMoc3RydWN0IGlnY19yaW5nICpyaW5nKTsKIHZvaWQg
aWdjX3B0cF9pbml0KHN0cnVjdCBpZ2NfYWRhcHRlciAqYWRhcHRlcik7CiB2b2lkIGlnY19wdHBf
cmVzZXQoc3RydWN0IGlnY19hZGFwdGVyICphZGFwdGVyKTsKIHZvaWQgaWdjX3B0cF9zdXNwZW5k
KHN0cnVjdCBpZ2NfYWRhcHRlciAqYWRhcHRlcik7CmRpZmYgLS1naXQgYS9kcml2ZXJzL25ldC9l
dGhlcm5ldC9pbnRlbC9pZ2MvaWdjX2Jhc2UuaCBiL2RyaXZlcnMvbmV0L2V0aGVybmV0L2ludGVs
L2lnYy9pZ2NfYmFzZS5oCmluZGV4IGJmOGNkZmJiYTlmZi4uNjMyMGVhYmI3MmZlIDEwMDY0NAot
LS0gYS9kcml2ZXJzL25ldC9ldGhlcm5ldC9pbnRlbC9pZ2MvaWdjX2Jhc2UuaAorKysgYi9kcml2
ZXJzL25ldC9ldGhlcm5ldC9pbnRlbC9pZ2MvaWdjX2Jhc2UuaApAQCAtNDksNiArNDksNyBAQCBz
dHJ1Y3QgaWdjX2Fkdl90eF9jb250ZXh0X2Rlc2MgewogI2RlZmluZSBJR0NfQURWVFhEX0RDTURf
REVYVAkweDIwMDAwMDAwIC8qIERlc2NyaXB0b3IgZXh0ZW5zaW9uICgxPUFkdikgKi8KICNkZWZp
bmUgSUdDX0FEVlRYRF9EQ01EX1ZMRQkweDQwMDAwMDAwIC8qIFZMQU4gcGt0IGVuYWJsZSAqLwog
I2RlZmluZSBJR0NfQURWVFhEX0RDTURfVFNFCTB4ODAwMDAwMDAgLyogVENQIFNlZyBlbmFibGUg
Ki8KKyNkZWZpbmUgSUdDX0FEVlRYRF9QQVlMRU5fTUFTSwkwWEZGRkZDMDAwIC8qIEFkdiBkZXNj
IFBBWUxFTiBtYXNrICovCiAjZGVmaW5lIElHQ19BRFZUWERfUEFZTEVOX1NISUZUCTE0IC8qIEFk
diBkZXNjIFBBWUxFTiBzaGlmdCAqLwogCiAjZGVmaW5lIElHQ19SQVJfRU5UUklFUwkJMTYKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvbmV0L2V0aGVybmV0L2ludGVsL2lnYy9pZ2NfZGVmaW5lcy5oIGIv
ZHJpdmVycy9uZXQvZXRoZXJuZXQvaW50ZWwvaWdjL2lnY19kZWZpbmVzLmgKaW5kZXggYjE5YWM2
ZjMwZGFjLi4yMmRiMWRlMDI5NjQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvbmV0L2V0aGVybmV0L2lu
dGVsL2lnYy9pZ2NfZGVmaW5lcy5oCisrKyBiL2RyaXZlcnMvbmV0L2V0aGVybmV0L2ludGVsL2ln
Yy9pZ2NfZGVmaW5lcy5oCkBAIC0zMDgsNiArMzA4LDggQEAKICNkZWZpbmUgSUdDX1RYRF9EVFlQ
X0MJCTB4MDAwMDAwMDAgLyogQ29udGV4dCBEZXNjcmlwdG9yICovCiAjZGVmaW5lIElHQ19UWERf
UE9QVFNfSVhTTQkweDAxICAgICAgIC8qIEluc2VydCBJUCBjaGVja3N1bSAqLwogI2RlZmluZSBJ
R0NfVFhEX1BPUFRTX1RYU00JMHgwMiAgICAgICAvKiBJbnNlcnQgVENQL1VEUCBjaGVja3N1bSAq
LworI2RlZmluZSBJR0NfVFhEX1BPUFRTX1NNRF9NQVNLCTB4MzAwMCAgICAgLyogSW5kaWNhdGVz
IHdoZXRoZXIgaXQncyBTTUQtViBvciBTTUQtUiAqLworCiAjZGVmaW5lIElHQ19UWERfQ01EX0VP
UAkJMHgwMTAwMDAwMCAvKiBFbmQgb2YgUGFja2V0ICovCiAjZGVmaW5lIElHQ19UWERfQ01EX0lD
CQkweDA0MDAwMDAwIC8qIEluc2VydCBDaGVja3N1bSAqLwogI2RlZmluZSBJR0NfVFhEX0NNRF9E
RVhUCTB4MjAwMDAwMDAgLyogRGVzYyBleHRlbnNpb24gKDAgPSBsZWdhY3kpICovCkBAIC0zNjMs
NiArMzY1LDggQEAKICNkZWZpbmUgSUdDX1NSUkNUTF9USU1FUjBTRUwodGltZXIpCSgoKHRpbWVy
KSAmIDB4MykgPDwgMTcpCiAKIC8qIFJlY2VpdmUgRGVzY3JpcHRvciBiaXQgZGVmaW5pdGlvbnMg
Ki8KKyNkZWZpbmUgSUdDX1JYRF9TVEFUX1NNRF9UWVBFX1YJMHgwMQkvKiBTTUQtViBQYWNrZXQg
Ki8KKyNkZWZpbmUgSUdDX1JYRF9TVEFUX1NNRF9UWVBFX1IJMHgwMgkvKiBTTUQtUiBQYWNrZXQg
Ki8KICNkZWZpbmUgSUdDX1JYRF9TVEFUX0VPUAkweDAyCS8qIEVuZCBvZiBQYWNrZXQgKi8KICNk
ZWZpbmUgSUdDX1JYRF9TVEFUX0lYU00JMHgwNAkvKiBJZ25vcmUgY2hlY2tzdW0gKi8KICNkZWZp
bmUgSUdDX1JYRF9TVEFUX1VEUENTCTB4MTAJLyogVURQIHhzdW0gY2FsY3VsYXRlZCAqLwpAQCAt
MzcyLDcgKzM3Niw4IEBACiAjZGVmaW5lIElHQ19SWERFWFRfU1RBVEVSUl9MQgkweDAwMDQwMDAw
CiAKIC8qIEFkdmFuY2VkIFJlY2VpdmUgRGVzY3JpcHRvciBiaXQgZGVmaW5pdGlvbnMgKi8KLSNk
ZWZpbmUgSUdDX1JYREFEVl9TVEFUX1RTSVAJMHgwODAwMCAvKiB0aW1lc3RhbXAgaW4gcGFja2V0
ICovCisjZGVmaW5lIElHQ19SWERBRFZfU1RBVF9TTURfVFlQRV9NQVNLCTB4MDYwMDAKKyNkZWZp
bmUgSUdDX1JYREFEVl9TVEFUX1RTSVAJCTB4MDgwMDAgLyogdGltZXN0YW1wIGluIHBhY2tldCAq
LwogCiAjZGVmaW5lIElHQ19SWERFWFRfU1RBVEVSUl9MNEUJCTB4MjAwMDAwMDAKICNkZWZpbmUg
SUdDX1JYREVYVF9TVEFURVJSX0lQRQkJMHg0MDAwMDAwMApAQCAtNTQzLDYgKzU0OCw3IEBACiAK
IC8qIFRyYW5zbWl0IFNjaGVkdWxpbmcgKi8KICNkZWZpbmUgSUdDX1RRQVZDVFJMX1RSQU5TTUlU
X01PREVfVFNOCTB4MDAwMDAwMDEKKyNkZWZpbmUgSUdDX1RRQVZDVFJMX1BSRUVNUFRfRU5BCTB4
MDAwMDAwMDIKICNkZWZpbmUgSUdDX1RRQVZDVFJMX0VOSEFOQ0VEX1FBVgkweDAwMDAwMDA4CiAj
ZGVmaW5lIElHQ19UUUFWQ1RSTF9GVVRTQ0RESVMJCTB4MDAwMDAwODAKIApkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9uZXQvZXRoZXJuZXQvaW50ZWwvaWdjL2lnY19ldGh0b29sLmMgYi9kcml2ZXJzL25l
dC9ldGhlcm5ldC9pbnRlbC9pZ2MvaWdjX2V0aHRvb2wuYwppbmRleCA4MTc4Mzg2Nzc4MTcuLmUy
YTE0ZWRmNzU1MiAxMDA2NDQKLS0tIGEvZHJpdmVycy9uZXQvZXRoZXJuZXQvaW50ZWwvaWdjL2ln
Y19ldGh0b29sLmMKKysrIGIvZHJpdmVycy9uZXQvZXRoZXJuZXQvaW50ZWwvaWdjL2lnY19ldGh0
b29sLmMKQEAgLTgsNiArOCw3IEBACiAKICNpbmNsdWRlICJpZ2MuaCIKICNpbmNsdWRlICJpZ2Nf
ZGlhZy5oIgorI2luY2x1ZGUgImlnY190c24uaCIKIAogLyogZm9yd2FyZCBkZWNsYXJhdGlvbiAq
Lwogc3RydWN0IGlnY19zdGF0cyB7CkBAIC0xNzgxLDYgKzE3ODIsMjUgQEAgc3RhdGljIGludCBp
Z2NfZXRodG9vbF9zZXRfZWVlKHN0cnVjdCBuZXRfZGV2aWNlICpuZXRkZXYsCiAJcmV0dXJuIDA7
CiB9CiAKK3N0YXRpYyBpbnQgaWdjX2V0aHRvb2xfc2V0X21tKHN0cnVjdCBuZXRfZGV2aWNlICpu
ZXRkZXYsCisJCQkgICAgICBzdHJ1Y3QgZXRodG9vbF9tbV9jZmcgKmNtZCwKKwkJCSAgICAgIHN0
cnVjdCBuZXRsaW5rX2V4dF9hY2sgKmV4dGFjaykKK3sKKwlzdHJ1Y3QgaWdjX2FkYXB0ZXIgKmFk
YXB0ZXIgPSBuZXRkZXZfcHJpdihuZXRkZXYpOworCXN0cnVjdCBmcGVfdCAqZnBlID0gJmFkYXB0
ZXItPmZwZTsKKworCWlmIChmcGUtPm1tc3YucG1hY19lbmFibGVkICE9IGNtZC0+cG1hY19lbmFi
bGVkKSB7CisJCWlmIChjbWQtPnBtYWNfZW5hYmxlZCkKKwkJCXN0YXRpY19icmFuY2hfaW5jKCZp
Z2NfZnBlX2VuYWJsZWQpOworCQllbHNlCisJCQlzdGF0aWNfYnJhbmNoX2RlYygmaWdjX2ZwZV9l
bmFibGVkKTsKKwl9CisKKwlldGh0b29sX21tc3Zfc2V0X21tKCZmcGUtPm1tc3YsIGNtZCk7CisK
KwlyZXR1cm4gaWdjX3Rzbl9vZmZsb2FkX2FwcGx5KGFkYXB0ZXIpOworfQorCiBzdGF0aWMgaW50
IGlnY19ldGh0b29sX2dldF9saW5rX2tzZXR0aW5ncyhzdHJ1Y3QgbmV0X2RldmljZSAqbmV0ZGV2
LAogCQkJCQkgIHN0cnVjdCBldGh0b29sX2xpbmtfa3NldHRpbmdzICpjbWQpCiB7CkBAIC0yMDY4
LDYgKzIwODgsNyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGV0aHRvb2xfb3BzIGlnY19ldGh0b29s
X29wcyA9IHsKIAkuc2V0X3J4ZmgJCT0gaWdjX2V0aHRvb2xfc2V0X3J4ZmgsCiAJLmdldF90c19p
bmZvCQk9IGlnY19ldGh0b29sX2dldF90c19pbmZvLAogCS5nZXRfY2hhbm5lbHMJCT0gaWdjX2V0
aHRvb2xfZ2V0X2NoYW5uZWxzLAorCS5zZXRfbW0JCQk9IGlnY19ldGh0b29sX3NldF9tbSwKIAku
c2V0X2NoYW5uZWxzCQk9IGlnY19ldGh0b29sX3NldF9jaGFubmVscywKIAkuZ2V0X3ByaXZfZmxh
Z3MJCT0gaWdjX2V0aHRvb2xfZ2V0X3ByaXZfZmxhZ3MsCiAJLnNldF9wcml2X2ZsYWdzCQk9IGln
Y19ldGh0b29sX3NldF9wcml2X2ZsYWdzLApkaWZmIC0tZ2l0IGEvZHJpdmVycy9uZXQvZXRoZXJu
ZXQvaW50ZWwvaWdjL2lnY19tYWluLmMgYi9kcml2ZXJzL25ldC9ldGhlcm5ldC9pbnRlbC9pZ2Mv
aWdjX21haW4uYwppbmRleCA0NGU0ZjkyNTQ5MWYuLjdmZTY4NzVkN2JmNyAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9uZXQvZXRoZXJuZXQvaW50ZWwvaWdjL2lnY19tYWluLmMKKysrIGIvZHJpdmVycy9u
ZXQvZXRoZXJuZXQvaW50ZWwvaWdjL2lnY19tYWluLmMKQEAgLTI1MjksNyArMjUyOSw3IEBAIHN0
YXRpYyBpbnQgaWdjX3hkcF9ydW5fcHJvZyhzdHJ1Y3QgaWdjX2FkYXB0ZXIgKmFkYXB0ZXIsIHN0
cnVjdCB4ZHBfYnVmZiAqeGRwKQogfQogCiAvKiBUaGlzIGZ1bmN0aW9uIGFzc3VtZXMgX19uZXRp
Zl90eF9sb2NrIGlzIGhlbGQgYnkgdGhlIGNhbGxlci4gKi8KLXN0YXRpYyB2b2lkIGlnY19mbHVz
aF90eF9kZXNjcmlwdG9ycyhzdHJ1Y3QgaWdjX3JpbmcgKnJpbmcpCit2b2lkIGlnY19mbHVzaF90
eF9kZXNjcmlwdG9ycyhzdHJ1Y3QgaWdjX3JpbmcgKnJpbmcpCiB7CiAJLyogT25jZSB0YWlsIHBv
aW50ZXIgaXMgdXBkYXRlZCwgaGFyZHdhcmUgY2FuIGZldGNoIHRoZSBkZXNjcmlwdG9ycwogCSAq
IGFueSB0aW1lIHNvIHdlIGlzc3VlIGEgd3JpdGUgbWVtYmFyIGhlcmUgdG8gZW5zdXJlIGFsbCBt
ZW1vcnkKQEAgLTI2MTgsNiArMjYxOCwxNiBAQCBzdGF0aWMgaW50IGlnY19jbGVhbl9yeF9pcnEo
c3RydWN0IGlnY19xX3ZlY3RvciAqcV92ZWN0b3IsIGNvbnN0IGludCBidWRnZXQpCiAJCQlzaXpl
IC09IElHQ19UU19IRFJfTEVOOwogCQl9CiAKKwkJaWYgKHN0YXRpY19icmFuY2hfdW5saWtlbHko
JmlnY19mcGVfZW5hYmxlZCkgJiYKKwkJICAgIGFkYXB0ZXItPmZwZS5tbXN2LnBtYWNfZW5hYmxl
ZCAmJgorCQkgICAgaWdjX2ZwZV9pc192ZXJpZnlfb3JfcmVzcG9uc2UocnhfZGVzYywgc2l6ZSkp
IHsKKwkJCWlnY19mcGVfbHBfZXZlbnRfc3RhdHVzKHJ4X2Rlc2MsICZhZGFwdGVyLT5mcGUubW1z
dik7CisJCQkvKiBBZHZhbmNlIHRoZSByaW5nIG5leHQtdG8tY2xlYW4gKi8KKwkJCWlnY19pc19u
b25fZW9wKHJ4X3JpbmcsIHJ4X2Rlc2MpOworCQkJY2xlYW5lZF9jb3VudCsrOworCQkJY29udGlu
dWU7CisJCX0KKwogCQlpZiAoIXNrYikgewogCQkJeGRwX2luaXRfYnVmZigmY3R4LnhkcCwgdHJ1
ZXNpemUsICZyeF9yaW5nLT54ZHBfcnhxKTsKIAkJCXhkcF9wcmVwYXJlX2J1ZmYoJmN0eC54ZHAs
IHBrdGJ1ZiAtIGlnY19yeF9vZmZzZXQocnhfcmluZyksCkBAIC0zMDY1LDYgKzMwNzUsMTEgQEAg
c3RhdGljIGJvb2wgaWdjX2NsZWFuX3R4X2lycShzdHJ1Y3QgaWdjX3FfdmVjdG9yICpxX3ZlY3Rv
ciwgaW50IG5hcGlfYnVkZ2V0KQogCQlpZiAoIShlb3BfZGVzYy0+d2Iuc3RhdHVzICYgY3B1X3Rv
X2xlMzIoSUdDX1RYRF9TVEFUX0REKSkpCiAJCQlicmVhazsKIAorCQlpZiAoc3RhdGljX2JyYW5j
aF91bmxpa2VseSgmaWdjX2ZwZV9lbmFibGVkKSAmJgorCQkgICAgaWdjX2ZwZV90cmFuc21pdHRl
ZF9zbWRfdih0eF9kZXNjKSkKKwkJCWV0aHRvb2xfbW1zdl9ldmVudF9oYW5kbGUoJmFkYXB0ZXIt
PmZwZS5tbXN2LAorCQkJCQkJICBFVEhUT09MX01NU1ZfTERfU0VOVF9WRVJJRllfTVBBQ0tFVCk7
CisKIAkJLyogSG9sZCB0aGUgY29tcGxldGlvbnMgd2hpbGUgdGhlcmUncyBhIHBlbmRpbmcgdHgg
aGFyZHdhcmUKIAkJICogdGltZXN0YW1wIHJlcXVlc3QgZnJvbSBYRFAgVHggbWV0YWRhdGEuCiAJ
CSAqLwpAQCAtMzk1Niw2ICszOTcxLDMwIEBAIHN0YXRpYyBpbnQgaWdjX3VjX3Vuc3luYyhzdHJ1
Y3QgbmV0X2RldmljZSAqbmV0ZGV2LCBjb25zdCB1bnNpZ25lZCBjaGFyICphZGRyKQogCXJldHVy
biAwOwogfQogCisvKioKKyAqIGlnY19lbmFibGVfZW1wdHlfYWRkcl9yZWN2IC0gRW5hYmxlIHJ4
IG9mIHBhY2tldHMgd2l0aCBhbGwtemVyb2VzIE1BQyBhZGRyZXNzCisgKiBAYWRhcHRlcjogUG9p
bnRlciB0byB0aGUgaWdjX2FkYXB0ZXIgc3RydWN0dXJlLgorICoKKyAqIEZyYW1lIHByZWVtcHRp
b24gdmVyaWZpY2F0aW9uIHJlcXVpcmVzIHRoYXQgcGFja2V0cyB3aXRoIHRoZSBhbGwtemVyb2Vz
CisgKiBNQUMgYWRkcmVzcyBhcmUgYWxsb3dlZCB0byBiZSByZWNlaXZlZCBieSBJR0MuIFRoaXMg
ZnVuY3Rpb24gYWRkcyB0aGUKKyAqIGFsbC16ZXJvZXMgZGVzdGluYXRpb24gYWRkcmVzcyB0byB0
aGUgbGlzdCBvZiBhY2NlcHRhYmxlIGFkZHJlc3Nlcy4KKyAqCisgKiBSZXR1cm46IDAgb24gc3Vj
Y2VzcywgbmVnYXRpdmUgdmFsdWUgb3RoZXJ3aXNlLgorICovCitpbnQgaWdjX2VuYWJsZV9lbXB0
eV9hZGRyX3JlY3Yoc3RydWN0IGlnY19hZGFwdGVyICphZGFwdGVyKQoreworCXU4IGVtcHR5W0VU
SF9BTEVOXSA9IHsgfTsKKworCXJldHVybiBpZ2NfYWRkX21hY19maWx0ZXIoYWRhcHRlciwgSUdD
X01BQ19GSUxURVJfVFlQRV9EU1QsIGVtcHR5LCAtMSk7Cit9CisKK3ZvaWQgaWdjX2Rpc2FibGVf
ZW1wdHlfYWRkcl9yZWN2KHN0cnVjdCBpZ2NfYWRhcHRlciAqYWRhcHRlcikKK3sKKwl1OCBlbXB0
eVtFVEhfQUxFTl0gPSB7IH07CisKKwlpZ2NfZGVsX21hY19maWx0ZXIoYWRhcHRlciwgSUdDX01B
Q19GSUxURVJfVFlQRV9EU1QsIGVtcHR5KTsKK30KKwogLyoqCiAgKiBpZ2Nfc2V0X3J4X21vZGUg
LSBTZWNvbmRhcnkgVW5pY2FzdCwgTXVsdGljYXN0IGFuZCBQcm9taXNjdW91cyBtb2RlIHNldAog
ICogQG5ldGRldjogbmV0d29yayBpbnRlcmZhY2UgZGV2aWNlIHN0cnVjdHVyZQpAQCAtNTIzMSw2
ICs1MjcwLDkgQEAgdm9pZCBpZ2NfZG93bihzdHJ1Y3QgaWdjX2FkYXB0ZXIgKmFkYXB0ZXIpCiAJ
aWdjX2Rpc2FibGVfYWxsX3R4X3JpbmdzX2h3KGFkYXB0ZXIpOwogCWlnY19jbGVhbl9hbGxfdHhf
cmluZ3MoYWRhcHRlcik7CiAJaWdjX2NsZWFuX2FsbF9yeF9yaW5ncyhhZGFwdGVyKTsKKworCWlm
IChhZGFwdGVyLT5mcGUubW1zdi5wbWFjX2VuYWJsZWQpCisJCWV0aHRvb2xfbW1zdl9zdG9wKCZh
ZGFwdGVyLT5mcGUubW1zdik7CiB9CiAKIHZvaWQgaWdjX3JlaW5pdF9sb2NrZWQoc3RydWN0IGln
Y19hZGFwdGVyICphZGFwdGVyKQpAQCAtNTc1NSw2ICs1Nzk3LDEwIEBAIHN0YXRpYyB2b2lkIGln
Y193YXRjaGRvZ190YXNrKHN0cnVjdCB3b3JrX3N0cnVjdCAqd29yaykKIAkJCSAqLwogCQkJaWdj
X3Rzbl9hZGp1c3RfdHh0aW1lX29mZnNldChhZGFwdGVyKTsKIAorCQkJaWYgKGFkYXB0ZXItPmZw
ZS5tbXN2LnBtYWNfZW5hYmxlZCkKKwkJCQlldGh0b29sX21tc3ZfbGlua19zdGF0ZV9oYW5kbGUo
JmFkYXB0ZXItPmZwZS5tbXN2LAorCQkJCQkJCSAgICAgICB0cnVlKTsKKwogCQkJaWYgKGFkYXB0
ZXItPmxpbmtfc3BlZWQgIT0gU1BFRURfMTAwMCkKIAkJCQlnb3RvIG5vX3dhaXQ7CiAKQEAgLTU3
OTAsNiArNTgzNiwxMCBAQCBzdGF0aWMgdm9pZCBpZ2Nfd2F0Y2hkb2dfdGFzayhzdHJ1Y3Qgd29y
a19zdHJ1Y3QgKndvcmspCiAJCQluZXRkZXZfaW5mbyhuZXRkZXYsICJOSUMgTGluayBpcyBEb3du
XG4iKTsKIAkJCW5ldGlmX2NhcnJpZXJfb2ZmKG5ldGRldik7CiAKKwkJCWlmIChhZGFwdGVyLT5m
cGUubW1zdi5wbWFjX2VuYWJsZWQpCisJCQkJZXRodG9vbF9tbXN2X2xpbmtfc3RhdGVfaGFuZGxl
KCZhZGFwdGVyLT5mcGUubW1zdiwKKwkJCQkJCQkgICAgICAgZmFsc2UpOworCiAJCQkvKiBsaW5r
IHN0YXRlIGhhcyBjaGFuZ2VkLCBzY2hlZHVsZSBwaHkgaW5mbyB1cGRhdGUgKi8KIAkJCWlmICgh
dGVzdF9iaXQoX19JR0NfRE9XTiwgJmFkYXB0ZXItPnN0YXRlKSkKIAkJCQltb2RfdGltZXIoJmFk
YXB0ZXItPnBoeV9pbmZvX3RpbWVyLApAQCAtNzExMCw2ICs3MTYwLDggQEAgc3RhdGljIGludCBp
Z2NfcHJvYmUoc3RydWN0IHBjaV9kZXYgKnBkZXYsCiAKIAlpZ2NfdHNuX2NsZWFyX3NjaGVkdWxl
KGFkYXB0ZXIpOwogCisJaWdjX2ZwZV9pbml0KGFkYXB0ZXIpOworCiAJLyogcmVzZXQgdGhlIGhh
cmR3YXJlIHdpdGggdGhlIG5ldyBzZXR0aW5ncyAqLwogCWlnY19yZXNldChhZGFwdGVyKTsKIApk
aWZmIC0tZ2l0IGEvZHJpdmVycy9uZXQvZXRoZXJuZXQvaW50ZWwvaWdjL2lnY190c24uYyBiL2Ry
aXZlcnMvbmV0L2V0aGVybmV0L2ludGVsL2lnYy9pZ2NfdHNuLmMKaW5kZXggZjAyMTNjZmNlMDdk
Li43YjNjNDY5OTNjZWMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvbmV0L2V0aGVybmV0L2ludGVsL2ln
Yy9pZ2NfdHNuLmMKKysrIGIvZHJpdmVycy9uZXQvZXRoZXJuZXQvaW50ZWwvaWdjL2lnY190c24u
YwpAQCAtMSwxMCArMSwxNTAgQEAKIC8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4w
CiAvKiBDb3B5cmlnaHQgKGMpICAyMDE5IEludGVsIENvcnBvcmF0aW9uICovCiAKKyNpbmNsdWRl
IDxsaW51eC9rZXJuZWwuaD4KICNpbmNsdWRlICJpZ2MuaCIKKyNpbmNsdWRlICJpZ2NfYmFzZS5o
IgogI2luY2x1ZGUgImlnY19ody5oIgogI2luY2x1ZGUgImlnY190c24uaCIKIAorZW51bSBpZ2Nf
dHhkX3BvcHRzX3R5cGUgeworCVNNRF9WID0gMHgwMSwKKwlTTURfUiA9IDB4MDIKK307CisKK0RF
RklORV9TVEFUSUNfS0VZX0ZBTFNFKGlnY19mcGVfZW5hYmxlZCk7CisKK3N0YXRpYyBpbnQgaWdj
X2ZwZV9pbml0X3NtZF9mcmFtZShzdHJ1Y3QgaWdjX3JpbmcgKnJpbmcsCisJCQkJICBzdHJ1Y3Qg
aWdjX3R4X2J1ZmZlciAqYnVmZmVyLAorCQkJCSAgc3RydWN0IHNrX2J1ZmYgKnNrYikKK3sKKwlk
bWFfYWRkcl90IGRtYSA9IGRtYV9tYXBfc2luZ2xlKHJpbmctPmRldiwgc2tiLT5kYXRhLCBza2It
PmxlbiwKKwkJCQkJRE1BX1RPX0RFVklDRSk7CisKKwlpZiAoZG1hX21hcHBpbmdfZXJyb3Iocmlu
Zy0+ZGV2LCBkbWEpKSB7CisJCW5ldGRldl9lcnJfb25jZShyaW5nLT5uZXRkZXYsICJGYWlsZWQg
dG8gbWFwIERNQSBmb3IgVFhcbiIpOworCQlyZXR1cm4gLUVOT01FTTsKKwl9CisKKwlidWZmZXIt
PnNrYiA9IHNrYjsKKwlidWZmZXItPnByb3RvY29sID0gMDsKKwlidWZmZXItPmJ5dGVjb3VudCA9
IHNrYi0+bGVuOworCWJ1ZmZlci0+Z3NvX3NlZ3MgPSAxOworCWJ1ZmZlci0+dGltZV9zdGFtcCA9
IGppZmZpZXM7CisJZG1hX3VubWFwX2xlbl9zZXQoYnVmZmVyLCBsZW4sIHNrYi0+bGVuKTsKKwlk
bWFfdW5tYXBfYWRkcl9zZXQoYnVmZmVyLCBkbWEsIGRtYSk7CisKKwlyZXR1cm4gMDsKK30KKwor
c3RhdGljIGludCBpZ2NfZnBlX2luaXRfdHhfZGVzY3JpcHRvcihzdHJ1Y3QgaWdjX3JpbmcgKnJp
bmcsCisJCQkJICAgICAgc3RydWN0IHNrX2J1ZmYgKnNrYiwKKwkJCQkgICAgICBlbnVtIGlnY190
eGRfcG9wdHNfdHlwZSB0eXBlKQoreworCXN0cnVjdCBpZ2NfdHhfYnVmZmVyICpidWZmZXI7CisJ
dW5pb24gaWdjX2Fkdl90eF9kZXNjICpkZXNjOworCXUzMiBjbWRfdHlwZSwgb2xpbmZvX3N0YXR1
czsKKwlpbnQgZXJyOworCisJaWYgKCFpZ2NfZGVzY191bnVzZWQocmluZykpCisJCXJldHVybiAt
RUJVU1k7CisKKwlidWZmZXIgPSAmcmluZy0+dHhfYnVmZmVyX2luZm9bcmluZy0+bmV4dF90b191
c2VdOworCWVyciA9IGlnY19mcGVfaW5pdF9zbWRfZnJhbWUocmluZywgYnVmZmVyLCBza2IpOwor
CWlmIChlcnIpCisJCXJldHVybiBlcnI7CisKKwljbWRfdHlwZSA9IElHQ19BRFZUWERfRFRZUF9E
QVRBIHwgSUdDX0FEVlRYRF9EQ01EX0RFWFQgfAorCQkgICBJR0NfQURWVFhEX0RDTURfSUZDUyB8
IElHQ19UWERfRENNRCB8CisJCSAgIGJ1ZmZlci0+Ynl0ZWNvdW50OworCisJb2xpbmZvX3N0YXR1
cyB8PSBGSUVMRF9QUkVQKElHQ19BRFZUWERfUEFZTEVOX01BU0ssIGJ1ZmZlci0+Ynl0ZWNvdW50
KTsKKworCXN3aXRjaCAodHlwZSkgeworCWNhc2UgU01EX1Y6CisJY2FzZSBTTURfUjoKKwkJb2xp
bmZvX3N0YXR1cyB8PSBGSUVMRF9QUkVQKElHQ19UWERfUE9QVFNfU01EX01BU0ssIHR5cGUpOwor
CQlicmVhazsKKwl9CisKKwlkZXNjID0gSUdDX1RYX0RFU0MocmluZywgcmluZy0+bmV4dF90b191
c2UpOworCWRlc2MtPnJlYWQuY21kX3R5cGVfbGVuID0gY3B1X3RvX2xlMzIoY21kX3R5cGUpOwor
CWRlc2MtPnJlYWQub2xpbmZvX3N0YXR1cyA9IGNwdV90b19sZTMyKG9saW5mb19zdGF0dXMpOwor
CWRlc2MtPnJlYWQuYnVmZmVyX2FkZHIgPSBjcHVfdG9fbGU2NChkbWFfdW5tYXBfYWRkcihidWZm
ZXIsIGRtYSkpOworCisJbmV0ZGV2X3R4X3NlbnRfcXVldWUodHhyaW5nX3R4cShyaW5nKSwgc2ti
LT5sZW4pOworCisJYnVmZmVyLT5uZXh0X3RvX3dhdGNoID0gZGVzYzsKKwlyaW5nLT5uZXh0X3Rv
X3VzZSA9IChyaW5nLT5uZXh0X3RvX3VzZSArIDEpICUgcmluZy0+Y291bnQ7CisKKwlyZXR1cm4g
MDsKK30KKworYm9vbCBpZ2NfZnBlX3RyYW5zbWl0dGVkX3NtZF92KHVuaW9uIGlnY19hZHZfdHhf
ZGVzYyAqdHhfZGVzYykKK3sKKwl1OCBzbWQgPSBGSUVMRF9HRVQoSUdDX1RYRF9QT1BUU19TTURf
TUFTSywgdHhfZGVzYy0+cmVhZC5vbGluZm9fc3RhdHVzKTsKKworCXJldHVybiBzbWQgPT0gU01E
X1Y7Cit9CisKK3N0YXRpYyBpbnQgaWdjX2ZwZV94bWl0X3NtZF9mcmFtZShzdHJ1Y3QgaWdjX2Fk
YXB0ZXIgKmFkYXB0ZXIsCisJCQkJICBlbnVtIGlnY190eGRfcG9wdHNfdHlwZSB0eXBlKQorewor
CWludCBjcHUgPSBzbXBfcHJvY2Vzc29yX2lkKCk7CisJc3RydWN0IG5ldGRldl9xdWV1ZSAqbnE7
CisJc3RydWN0IGlnY19yaW5nICpyaW5nOworCXN0cnVjdCBza19idWZmICpza2I7CisJdm9pZCAq
ZGF0YTsKKwlpbnQgZXJyOworCisJcmluZyA9IGlnY19nZXRfdHhfcmluZyhhZGFwdGVyLCBjcHUp
OworCW5xID0gdHhyaW5nX3R4cShyaW5nKTsKKworCXNrYiA9IGFsbG9jX3NrYihTTURfRlJBTUVf
U0laRSwgR0ZQX0tFUk5FTCk7CisJaWYgKCFza2IpCisJCXJldHVybiAtRU5PTUVNOworCisJZGF0
YSA9IHNrYl9wdXRfemVybyhza2IsIFNNRF9GUkFNRV9TSVpFKTsKKworCV9fbmV0aWZfdHhfbG9j
ayhucSwgY3B1KTsKKworCWVyciA9IGlnY19mcGVfaW5pdF90eF9kZXNjcmlwdG9yKHJpbmcsIHNr
YiwgdHlwZSk7CisJaWdjX2ZsdXNoX3R4X2Rlc2NyaXB0b3JzKHJpbmcpOworCisJX19uZXRpZl90
eF91bmxvY2sobnEpOworCisJcmV0dXJuIGVycjsKK30KKworc3RhdGljIHZvaWQgaWdjX2ZwZV9z
ZW5kX21wYWNrZXQoc3RydWN0IGV0aHRvb2xfbW1zdiAqbW1zdiwKKwkJCQkgZW51bSBldGh0b29s
X21wYWNrZXQgdHlwZSkKK3sKKwlzdHJ1Y3QgZnBlX3QgKmZwZSA9IGNvbnRhaW5lcl9vZihtbXN2
LCBzdHJ1Y3QgZnBlX3QsIG1tc3YpOworCXN0cnVjdCBpZ2NfYWRhcHRlciAqYWRhcHRlcjsKKwlp
bnQgZXJyOworCisJYWRhcHRlciA9IGNvbnRhaW5lcl9vZihmcGUsIHN0cnVjdCBpZ2NfYWRhcHRl
ciwgZnBlKTsKKworCWlmICh0eXBlID09IEVUSFRPT0xfTVBBQ0tFVF9WRVJJRlkpIHsKKwkJZXJy
ID0gaWdjX2ZwZV94bWl0X3NtZF9mcmFtZShhZGFwdGVyLCBTTURfVik7CisJCWlmIChlcnIgJiYg
bmV0X3JhdGVsaW1pdCgpKQorCQkJbmV0ZGV2X2VycihhZGFwdGVyLT5uZXRkZXYsICJFcnJvciBz
ZW5kaW5nIFNNRC1WXG4iKTsKKwl9IGVsc2UgaWYgKHR5cGUgPT0gRVRIVE9PTF9NUEFDS0VUX1JF
U1BPTlNFKSB7CisJCWVyciA9IGlnY19mcGVfeG1pdF9zbWRfZnJhbWUoYWRhcHRlciwgU01EX1Ip
OworCQlpZiAoZXJyICYmIG5ldF9yYXRlbGltaXQoKSkKKwkJCW5ldGRldl9lcnIoYWRhcHRlci0+
bmV0ZGV2LCAiRXJyb3Igc2VuZGluZyBTTUQtUiBmcmFtZVxuIik7CisJfQorfQorCitzdGF0aWMg
Y29uc3Qgc3RydWN0IGV0aHRvb2xfbW1zdl9vcHMgaWdjX21tc3Zfb3BzID0geworCS5zZW5kX21w
YWNrZXQgPSBpZ2NfZnBlX3NlbmRfbXBhY2tldCwKK307CisKK3ZvaWQgaWdjX2ZwZV9pbml0KHN0
cnVjdCBpZ2NfYWRhcHRlciAqYWRhcHRlcikKK3sKKwlldGh0b29sX21tc3ZfaW5pdCgmYWRhcHRl
ci0+ZnBlLm1tc3YsIGFkYXB0ZXItPm5ldGRldiwgJmlnY19tbXN2X29wcyk7Cit9CisKIHN0YXRp
YyBib29sIGlzX2FueV9sYXVuY2h0aW1lKHN0cnVjdCBpZ2NfYWRhcHRlciAqYWRhcHRlcikKIHsK
IAlpbnQgaTsKQEAgLTQ5LDYgKzE4OSw5IEBAIHN0YXRpYyB1bnNpZ25lZCBpbnQgaWdjX3Rzbl9u
ZXdfZmxhZ3Moc3RydWN0IGlnY19hZGFwdGVyICphZGFwdGVyKQogCWlmIChhZGFwdGVyLT5zdHJp
Y3RfcHJpb3JpdHlfZW5hYmxlKQogCQluZXdfZmxhZ3MgfD0gSUdDX0ZMQUdfVFNOX0xFR0FDWV9F
TkFCTEVEOwogCisJaWYgKGFkYXB0ZXItPmZwZS5tbXN2LnBtYWNfZW5hYmxlZCkKKwkJbmV3X2Zs
YWdzIHw9IElHQ19GTEFHX1RTTl9QUkVFTVBUX0VOQUJMRUQ7CisKIAlyZXR1cm4gbmV3X2ZsYWdz
OwogfQogCkBAIC0xNDgsNyArMjkxLDggQEAgc3RhdGljIGludCBpZ2NfdHNuX2Rpc2FibGVfb2Zm
bG9hZChzdHJ1Y3QgaWdjX2FkYXB0ZXIgKmFkYXB0ZXIpCiAKIAl0cWF2Y3RybCA9IHJkMzIoSUdD
X1RRQVZDVFJMKTsKIAl0cWF2Y3RybCAmPSB+KElHQ19UUUFWQ1RSTF9UUkFOU01JVF9NT0RFX1RT
TiB8Ci0JCSAgICAgIElHQ19UUUFWQ1RSTF9FTkhBTkNFRF9RQVYgfCBJR0NfVFFBVkNUUkxfRlVU
U0NERElTKTsKKwkJICAgICAgSUdDX1RRQVZDVFJMX0VOSEFOQ0VEX1FBViB8IElHQ19UUUFWQ1RS
TF9GVVRTQ0RESVMgfAorCQkgICAgICBJR0NfVFFBVkNUUkxfUFJFRU1QVF9FTkEpOwogCiAJd3Iz
MihJR0NfVFFBVkNUUkwsIHRxYXZjdHJsKTsKIApAQCAtMzcwLDEwICs1MTQsMTQgQEAgc3RhdGlj
IGludCBpZ2NfdHNuX2VuYWJsZV9vZmZsb2FkKHN0cnVjdCBpZ2NfYWRhcHRlciAqYWRhcHRlcikK
IAkJd3IzMihJR0NfVFhRQ1RMKGkpLCB0eHFjdGwpOwogCX0KIAotCXRxYXZjdHJsID0gcmQzMihJ
R0NfVFFBVkNUUkwpICYgfklHQ19UUUFWQ1RSTF9GVVRTQ0RESVM7CisJdHFhdmN0cmwgPSByZDMy
KElHQ19UUUFWQ1RSTCkgJiB+KElHQ19UUUFWQ1RSTF9GVVRTQ0RESVMgfAorCQkgICBJR0NfVFFB
VkNUUkxfUFJFRU1QVF9FTkEpOwogCiAJdHFhdmN0cmwgfD0gSUdDX1RRQVZDVFJMX1RSQU5TTUlU
X01PREVfVFNOIHwgSUdDX1RRQVZDVFJMX0VOSEFOQ0VEX1FBVjsKIAorCWlmIChhZGFwdGVyLT5m
cGUubW1zdi5wbWFjX2VuYWJsZWQpCisJCXRxYXZjdHJsIHw9IElHQ19UUUFWQ1RSTF9QUkVFTVBU
X0VOQTsKKwogCWFkYXB0ZXItPnFidl9jb3VudCsrOwogCiAJY3ljbGUgPSBhZGFwdGVyLT5jeWNs
ZV90aW1lOwpAQCAtNDM0LDYgKzU4MiwxMSBAQCBpbnQgaWdjX3Rzbl9yZXNldChzdHJ1Y3QgaWdj
X2FkYXB0ZXIgKmFkYXB0ZXIpCiAJdW5zaWduZWQgaW50IG5ld19mbGFnczsKIAlpbnQgZXJyID0g
MDsKIAorCWlmIChhZGFwdGVyLT5mcGUubW1zdi5wbWFjX2VuYWJsZWQpCisJCWlnY19lbmFibGVf
ZW1wdHlfYWRkcl9yZWN2KGFkYXB0ZXIpOworCWVsc2UKKwkJaWdjX2Rpc2FibGVfZW1wdHlfYWRk
cl9yZWN2KGFkYXB0ZXIpOworCiAJbmV3X2ZsYWdzID0gaWdjX3Rzbl9uZXdfZmxhZ3MoYWRhcHRl
cik7CiAKIAlpZiAoIShuZXdfZmxhZ3MgJiBJR0NfRkxBR19UU05fQU5ZX0VOQUJMRUQpKQpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9uZXQvZXRoZXJuZXQvaW50ZWwvaWdjL2lnY190c24uaCBiL2RyaXZl
cnMvbmV0L2V0aGVybmV0L2ludGVsL2lnYy9pZ2NfdHNuLmgKaW5kZXggOThlYzg0NWE4NmJmLi44
ODlkNzBjNmQ4MjcgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvbmV0L2V0aGVybmV0L2ludGVsL2lnYy9p
Z2NfdHNuLmgKKysrIGIvZHJpdmVycy9uZXQvZXRoZXJuZXQvaW50ZWwvaWdjL2lnY190c24uaApA
QCAtNCw5ICs0LDQyIEBACiAjaWZuZGVmIF9JR0NfVFNOX0hfCiAjZGVmaW5lIF9JR0NfVFNOX0hf
CiAKKyNkZWZpbmUgU01EX0ZSQU1FX1NJWkUJCQk2MAorCitERUNMQVJFX1NUQVRJQ19LRVlfRkFM
U0UoaWdjX2ZwZV9lbmFibGVkKTsKKwordm9pZCBpZ2NfZnBlX2luaXQoc3RydWN0IGlnY19hZGFw
dGVyICphZGFwdGVyKTsKK3UzMiBpZ2NfZnBlX2dldF9zdXBwb3J0ZWRfZnJhZ19zaXplKHUzMiB1
c2VyX2ZyYWdfc2l6ZSk7Citib29sIGlnY19mcGVfdHJhbnNtaXR0ZWRfc21kX3YodW5pb24gaWdj
X2Fkdl90eF9kZXNjICp0eF9kZXNjKTsKIGludCBpZ2NfdHNuX29mZmxvYWRfYXBwbHkoc3RydWN0
IGlnY19hZGFwdGVyICphZGFwdGVyKTsKIGludCBpZ2NfdHNuX3Jlc2V0KHN0cnVjdCBpZ2NfYWRh
cHRlciAqYWRhcHRlcik7CiB2b2lkIGlnY190c25fYWRqdXN0X3R4dGltZV9vZmZzZXQoc3RydWN0
IGlnY19hZGFwdGVyICphZGFwdGVyKTsKIGJvb2wgaWdjX3Rzbl9pc190YXByaW9fYWN0aXZhdGVk
X2J5X3VzZXIoc3RydWN0IGlnY19hZGFwdGVyICphZGFwdGVyKTsKIAorc3RhdGljIGlubGluZSB2
b2lkIGlnY19mcGVfbHBfZXZlbnRfc3RhdHVzKHVuaW9uIGlnY19hZHZfcnhfZGVzYyAqcnhfZGVz
YywKKwkJCQkJICAgc3RydWN0IGV0aHRvb2xfbW1zdiAqbW1zdikKK3sKKwlfX2xlMzIgc3RhdHVz
X2Vycm9yID0gbGUzMl90b19jcHUocnhfZGVzYy0+d2IudXBwZXIuc3RhdHVzX2Vycm9yKTsKKwlp
bnQgc21kOworCisJc21kID0gRklFTERfR0VUKElHQ19SWERBRFZfU1RBVF9TTURfVFlQRV9NQVNL
LCBzdGF0dXNfZXJyb3IpOworCisJaWYgKHNtZCA9PSBJR0NfUlhEX1NUQVRfU01EX1RZUEVfVikK
KwkJZXRodG9vbF9tbXN2X2V2ZW50X2hhbmRsZShtbXN2LCBFVEhUT09MX01NU1ZfTFBfU0VOVF9W
RVJJRllfTVBBQ0tFVCk7CisJZWxzZSBpZiAoc21kID09IElHQ19SWERfU1RBVF9TTURfVFlQRV9S
KQorCQlldGh0b29sX21tc3ZfZXZlbnRfaGFuZGxlKG1tc3YsIEVUSFRPT0xfTU1TVl9MUF9TRU5U
X1JFU1BPTlNFX01QQUNLRVQpOworfQorCitzdGF0aWMgaW5saW5lIGJvb2wgaWdjX2ZwZV9pc192
ZXJpZnlfb3JfcmVzcG9uc2UodW5pb24gaWdjX2Fkdl9yeF9kZXNjICpyeF9kZXNjLAorCQkJCQkJ
IHVuc2lnbmVkIGludCBzaXplKQoreworCV9fbGUzMiBzdGF0dXNfZXJyb3IgPSBsZTMyX3RvX2Nw
dShyeF9kZXNjLT53Yi51cHBlci5zdGF0dXNfZXJyb3IpOworCWludCBzbWQ7CisKKwlzbWQgPSBG
SUVMRF9HRVQoSUdDX1JYREFEVl9TVEFUX1NNRF9UWVBFX01BU0ssIHN0YXR1c19lcnJvcik7CisK
KwlyZXR1cm4gKChzbWQgPT0gSUdDX1JYRF9TVEFUX1NNRF9UWVBFX1YgfHwgc21kID09IElHQ19S
WERfU1RBVF9TTURfVFlQRV9SKSAmJgorCQlzaXplID09IFNNRF9GUkFNRV9TSVpFKTsKK30KKwog
I2VuZGlmIC8qIF9JR0NfQkFTRV9IICovCi0tIAoyLjM0LjEKCl9fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fCkxpbnV4LXN0bTMyIG1haWxpbmcgbGlzdApMaW51
eC1zdG0zMkBzdC1tZC1tYWlsbWFuLnN0b3JtcmVwbHkuY29tCmh0dHBzOi8vc3QtbWQtbWFpbG1h
bi5zdG9ybXJlcGx5LmNvbS9tYWlsbWFuL2xpc3RpbmZvL2xpbnV4LXN0bTMyCg==
