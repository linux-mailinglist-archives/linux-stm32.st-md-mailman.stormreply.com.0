Return-Path: <linux-stm32-bounces@st-md-mailman.stormreply.com>
X-Original-To: lists+linux-stm32@lfdr.de
Delivered-To: lists+linux-stm32@lfdr.de
Received: from stm-ict-prod-mailman-01.stormreply.prv (st-md-mailman.stormreply.com [52.209.6.89])
	by mail.lfdr.de (Postfix) with ESMTPS id 76AC382529A
	for <lists+linux-stm32@lfdr.de>; Fri,  5 Jan 2024 12:14:51 +0100 (CET)
Received: from ip-172-31-3-47.eu-west-1.compute.internal (localhost [127.0.0.1])
	by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTP id 251EBC6C83D;
	Fri,  5 Jan 2024 11:14:51 +0000 (UTC)
Received: from bee.tesarici.cz (bee.tesarici.cz [77.93.223.253])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
 (No client certificate requested)
 by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTPS id 5B635C6C83C
 for <linux-stm32@st-md-mailman.stormreply.com>;
 Fri,  5 Jan 2024 11:14:49 +0000 (UTC)
Received: from meshulam.tesarici.cz
 (dynamic-2a00-1028-83b8-1e7a-4427-cc85-6706-c595.ipv6.o2.cz
 [IPv6:2a00:1028:83b8:1e7a:4427:cc85:6706:c595])
 (using TLSv1.3 with cipher TLS_AES_256_GCM_SHA384 (256/256 bits)
 key-exchange ECDHE (P-256) server-signature RSA-PSS (2048 bits) server-digest
 SHA256) (No client certificate requested)
 by bee.tesarici.cz (Postfix) with ESMTPSA id 2FCD31A832B;
 Fri,  5 Jan 2024 12:14:48 +0100 (CET)
Authentication-Results: mail.tesarici.cz;
 dmarc=fail (p=none dis=none) header.from=tesarici.cz
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=tesarici.cz; s=mail;
 t=1704453288; bh=VYNlhjSgg7jLCMMITrN8jeGgl0bBjNZ/pe4B+q8QKeE=;
 h=Date:From:To:Cc:Subject:In-Reply-To:References:From;
 b=1VfFDQEadUP+XmGIWATJBwq5CBSGsDI0Qs175mZmz6QFcSuNnGXs/ezrOjxbV5tFL
 gVkmv6JF4QNR1xX84ydALHJ8rGjBjKZh+Mhj8KOHkH/dAeEMCD0O8Mzfyu82Z0CDvE
 y/OOHbSbr7MzKGdjZNe8/7dMrzcA1sPqey7H1LH9MD4LeWlvuk93Fw3VgQu7m07/9d
 O+y1vjz3dvc98K0GPU7o9Pvv6LUMdAaWZ+ayb5JvScSowrOASEKArfwMBXRLdm9Ynm
 UVC1SPCpcnWN/hUPQI5PbZdJiegK7gkv+/38qwPiqPxSwG6vqgUSdUsIl7WbqMdbED
 8S9ghcZ1KmqSg==
Date: Fri, 5 Jan 2024 12:14:47 +0100
From: Petr =?UTF-8?B?VGVzYcWZw61r?= <petr@tesarici.cz>
To: Eric Dumazet <edumazet@google.com>
Message-ID: <20240105121447.11ae80d1@meshulam.tesarici.cz>
In-Reply-To: <CANn89iLEvW9ZS=+WPETPC=mKRyu9AKmueGCWZZOrz9oX3Xef=g@mail.gmail.com>
References: <20240105091556.15516-1-petr@tesarici.cz>
 <CANn89iLuYZBersxq4aH-9Fg_ojD0fh=0xtdLbRdbMrup=nvrkA@mail.gmail.com>
 <20240105113402.0f5f1232@meshulam.tesarici.cz>
 <CANn89iLEvW9ZS=+WPETPC=mKRyu9AKmueGCWZZOrz9oX3Xef=g@mail.gmail.com>
X-Mailer: Claws Mail 4.2.0 (GTK 3.24.39; x86_64-suse-linux-gnu)
MIME-Version: 1.0
Cc: open list <linux-kernel@vger.kernel.org>,
 Samuel Holland <samuel@sholland.org>,
 "open list:STMMAC ETHERNET DRIVER" <netdev@vger.kernel.org>,
 Jernej Skrabec <jernej.skrabec@gmail.com>, "moderated
 list:ARM/STM32 ARCHITECTURE" <linux-stm32@st-md-mailman.stormreply.com>,
 Chen-Yu Tsai <wens@csie.org>, Jose Abreu <joabreu@synopsys.com>,
 Maxime Coquelin <mcoquelin.stm32@gmail.com>, Jakub Kicinski <kuba@kernel.org>,
 Paolo Abeni <pabeni@redhat.com>,
 "open list:ARM/Allwinner sunXi SoC support" <linux-sunxi@lists.linux.dev>,
 "David S. Miller" <davem@davemloft.net>,
 "moderated list:ARM/STM32 ARCHITECTURE" <linux-arm-kernel@lists.infradead.org>
Subject: Re: [Linux-stm32] [PATCH] net: stmmac: protect statistics updates
	with a spinlock
X-BeenThere: linux-stm32@st-md-mailman.stormreply.com
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: <linux-stm32.st-md-mailman.stormreply.com>
List-Unsubscribe: <https://st-md-mailman.stormreply.com/mailman/options/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=unsubscribe>
List-Archive: <http://st-md-mailman.stormreply.com/pipermail/linux-stm32/>
List-Post: <mailto:linux-stm32@st-md-mailman.stormreply.com>
List-Help: <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=help>
List-Subscribe: <https://st-md-mailman.stormreply.com/mailman/listinfo/linux-stm32>, 
 <mailto:linux-stm32-request@st-md-mailman.stormreply.com?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: linux-stm32-bounces@st-md-mailman.stormreply.com
Sender: "Linux-stm32" <linux-stm32-bounces@st-md-mailman.stormreply.com>

T24gRnJpLCA1IEphbiAyMDI0IDExOjQ4OjE5ICswMTAwCkVyaWMgRHVtYXpldCA8ZWR1bWF6ZXRA
Z29vZ2xlLmNvbT4gd3JvdGU6Cgo+IE9uIEZyaSwgSmFuIDUsIDIwMjQgYXQgMTE6MzTigK9BTSBQ
ZXRyIFRlc2HFmcOtayA8cGV0ckB0ZXNhcmljaS5jej4gd3JvdGU6Cj4gPgo+ID4gT24gRnJpLCA1
IEphbiAyMDI0IDEwOjU4OjQyICswMTAwCj4gPiBFcmljIER1bWF6ZXQgPGVkdW1hemV0QGdvb2ds
ZS5jb20+IHdyb3RlOgo+ID4gIAo+ID4gPiBPbiBGcmksIEphbiA1LCAyMDI0IGF0IDEwOjE24oCv
QU0gUGV0ciBUZXNhcmlrIDxwZXRyQHRlc2FyaWNpLmN6PiB3cm90ZTogIAo+ID4gPiA+Cj4gPiA+
ID4gQWRkIGEgc3BpbmxvY2sgdG8gZml4IHJhY2UgY29uZGl0aW9ucyB3aGlsZSB1cGRhdGluZyBU
eC9SeCBzdGF0aXN0aWNzLgo+ID4gPiA+Cj4gPiA+ID4gQXMgZXhwbGFpbmVkIGJ5IGEgY29tbWVu
dCBpbiA8bGludXgvdTY0X3N0YXRzX3N5bmMuaD4sIHdyaXRlIHNpZGUgb2Ygc3RydWN0Cj4gPiA+
ID4gdTY0X3N0YXRzX3N5bmMgbXVzdCBlbnN1cmUgbXV0dWFsIGV4Y2x1c2lvbiwgb3Igb25lIHNl
cWNvdW50IHVwZGF0ZSBjb3VsZAo+ID4gPiA+IGJlIGxvc3Qgb24gMzItYml0IHBsYXRmb3Jtcywg
dGh1cyBibG9ja2luZyByZWFkZXJzIGZvcmV2ZXIuCj4gPiA+ID4KPiA+ID4gPiBTdWNoIGxvY2t1
cHMgaGF2ZSBiZWVuIGFjdHVhbGx5IG9ic2VydmVkIG9uIDMyLWJpdCBBcm0gYWZ0ZXIgc3RtbWFj
X3htaXQoKQo+ID4gPiA+IG9uIG9uZSBjb3JlIHJhY2VkIHdpdGggc3RtbWFjX25hcGlfcG9sbF90
eCgpIG9uIGFub3RoZXIgY29yZS4KPiA+ID4gPgo+ID4gPiA+IFNpZ25lZC1vZmYtYnk6IFBldHIg
VGVzYXJpayA8cGV0ckB0ZXNhcmljaS5jej4gIAo+ID4gPgo+ID4gPiBUaGlzIGlzIGdvaW5nIHRv
IGFkZCBtb3JlIGNvc3RzIHRvIDY0Yml0IHBsYXRmb3JtcyA/ICAKPiA+Cj4gPiBZZXMsIGl0IGFk
ZHMgYSAoaG9wZWZ1bGx5IG5vdCB0b28gY29udGVuZGVkKSBzcGlubG9jayBhbmQgaW4gbW9zdAo+
ID4gcGxhY2VzIGFuIGludGVycnVwdCBkaXNhYmxlL2VuYWJsZSBwYWlyLgo+ID4KPiA+IEZXSVcg
dGhlIHJhY2UgY29uZGl0aW9uIGlzIGFsc28gcHJlc2VudCBvbiA2NC1iaXQgcGxhdGZvcm1zLCBy
ZXN1bHRpbmcKPiA+IGluIGluYWNjdXJhdGUgc3RhdGlzdGljIGNvdW50ZXJzLiBJIGNhbiB1bmRl
cnN0YW5kIGlmIHlvdSBjb25zaWRlciBpdCBhCj4gPiBtaWxkIGFubm95YW5jZSwgbm90IHdvcnRo
IGZpeGluZy4KPiA+ICAKPiA+ID4gSXQgc2VlbXMgdG8gbWUgdGhhdCB0aGUgc2FtZSBzeW5jcCBj
YW4gYmUgdXNlZCBmcm9tIHR3byBkaWZmZXJlbnQKPiA+ID4gdGhyZWFkcyA6IGhhcmQgaXJxIGFu
ZCBuYXBpIHBvbGxlci4uLiAgCj4gPgo+ID4gWWVzLCB0aGF0J3MgZXhhY3RseSB0aGUgc2NlbmFy
aW8gdGhhdCBsb2NrcyB1cCBteSBzeXN0ZW0uCj4gPiAgCj4gPiA+IEF0IHRoaXMgcG9pbnQsIEkg
ZG8gbm90IHNlZSB3aHkgeW91IGtlZXAgbGludXgvdTY0X3N0YXRzX3N5bmMuaCBpZiB5b3UKPiA+
ID4gZGVjaWRlIHRvIGdvIGZvciBhIHNwaW5sb2NrLi4uICAKPiA+Cj4gPiBUaGUgc3BpbmxvY2sg
ZG9lcyBub3QgaGF2Y2UgdG8gYmUgdGFrZW4gb24gdGhlIHJlYWRlciBzaWRlLCBzbyB0aGUKPiA+
IHNlcWNvdW50ZXIgc3RpbGwgYWRkcyBzb21lIHZhbHVlLgo+ID4gIAo+ID4gPiBBbHRlcm5hdGl2
ZSB3b3VsZCB1c2UgYXRvbWljNjRfdCBmaWVsZHMgZm9yIHRoZSBvbmVzIHdoZXJlIHRoZXJlIGlz
IG5vCj4gPiA+IG11dHVhbCBleGNsdXNpb24uCj4gPiA+Cj4gPiA+IFJYIDogbmFwaSBwb2xsIGlz
IGRlZmluaXRlbHkgc2FmZSAocHJvdGVjdGVkIGJ5IGFuIGF0b21pYyBiaXQpCj4gPiA+IFRYIDog
ZWFjaCBUWCBxdWV1ZSBpcyBhbHNvIHNhZmUgKHByb3RlY3RlZCBieSBhbiBhdG9taWMgZXhjbHVz
aW9uIGZvcgo+ID4gPiBub24gTExUWCBkcml2ZXJzKQo+ID4gPgo+ID4gPiBUaGlzIGxlYXZlcyB0
aGUgZmllbGRzIHVwZGF0ZWQgZnJvbSBoYXJkd2FyZSBpbnRlcnJ1cHQgY29udGV4dCA/ICAKPiA+
Cj4gPiBJJ20gYWZyYWlkIEkgZG9uJ3QgaGF2ZSBlbm91Z2ggbmV0d29yay1zdGFjay1mb28gdG8g
Zm9sbG93IGhlcmUuCj4gPgo+ID4gTXkgaXNzdWUgb24gMzIgYml0IGlzIHRoYXQgc3RtbWFjX3ht
aXQoKSBtYXkgYmUgY2FsbGVkIGRpcmVjdGx5IGZyb20KPiA+IHByb2Nlc3MgY29udGV4dCB3aGls
ZSBhbm90aGVyIGNvcmUgcnVucyB0aGUgVFggbmFwaSBvbiB0aGUgc2FtZSBjaGFubmVsCj4gPiAo
aW4gaW50ZXJydXB0IGNvbnRleHQpLiBJIGRpZG4ndCBvYnNlcnZlIGFueSByYWNlIG9uIHRoZSBS
WCBwYXRoLCBidXQgSQo+ID4gYmVsaWV2ZSBpdCdzIHBvc3NpYmxlIHdpdGggTkFQSSBidXN5IHBv
bGxpbmcuCj4gPgo+ID4gSW4gYW55IGNhc2UsIEkgZG9uJ3Qgc2VlIHRoZSBjb25uZWN0aW9uIHdp
dGggTExUWC4gTWF5YmUgeW91IHdhbnQgdG8KPiA+IHNheSB0aGF0IHRoZSBUWCBxdWV1ZSBpcyBz
YWZlIGZvciBzdG1tYWMgKGJlY2F1c2UgaXQgaXMgYSBub24tTExUWAo+ID4gZHJpdmVyKSwgYnV0
IG1pZ2h0IG5vdCBiZSBzYWZlIGZvciBMTFRYIGRyaXZlcnM/ICAKPiAKPiBMTFRYIGRyaXZlcnMg
KG1vc3RseSB2aXJ0dWFsIGRyaXZlcnMgbGlrZSB0dW5uZWxzLi4uKSBjYW4gaGF2ZSBtdWx0aXBs
ZSBjcHVzCj4gcnVubmluZyBuZG9fc3RhcnRfeG1pdCgpIGNvbmN1cnJlbnRseS4gU28gYW55IHVz
ZSBvZiBhICdzaGFyZWQgc3luY3AnCj4gd291bGQgYmUgYSBidWcuCj4gVGhlc2UgZHJpdmVycyB1
c3VhbGx5IHVzZSBwZXItY3B1IHN0YXRzLCB0byBhdm9pZCByYWNlcyBhbmQgZmFsc2UKPiBzaGFy
aW5nIGFueXdheS4KPiAKPiBJIHRoaW5rIHlvdSBzaG91bGQgc3BsaXQgdGhlIHN0cnVjdHVyZXMg
aW50byB0d28gc2VwYXJhdGUgZ3JvdXBzLCBlYWNoCj4gZ3VhcmRlZCB3aXRoIGl0cyBvd24gc3lu
Y3AuCj4gCj4gTm8gZXh0cmEgc3BpbmxvY2tzLCBubyBleHRyYSBjb3N0cyBvbiA2NGJpdCBhcmNo
ZXMuLi4KPiAKPiBJZiBUWCBjb21wbGV0aW9uIGNhbiBydW4gaW4gcGFyYWxsZWwgd2l0aCBuZG9f
c3RhcnRfeG1pdCgpLCB0aGVuCj4gY2xlYXJseSB3ZSBoYXZlIHRvIHNwbGl0IHN0bW1hY190eHFf
c3RhdHMgaW4gdHdvIGhhbHZlczoKCk9oLCBub3cgSSBnZXQgaXQuIFllcywgdGhhdCdzIG11Y2gg
YmV0dGVyLCBpbmRlZWQuCgpJIG1lYW4sIHRoZSBjb3VudGVycyBoYXZlIG5ldmVyIGJlZW4gY29u
c2lzdGVudCAoZHVlIHRvIHRoZSByYWNlIG9uIHRoZQp3cml0ZXIgc2lkZSksIGFuZCBub2JvZHkg
aXMgY29uY2VybmVkLiBTbywgdGhlcmUgaXMgbm8gdmFsdWUgaW4gdGFraW5nCmEgY29uc2lzdGVu
dCBzbmFwc2hvdCBpbiBzdG1tYWNfZ2V0X2V0aHRvb2xfc3RhdHMoKS4KCkknbSBnb2luZyB0byBy
ZXdvcmsgYW5kIHJldGVzdCBteSBwYXRjaC4gVGhhbmsgeW91IGZvciBwb2ludGluZyBtZSBpbgp0
aGUgcmlnaHQgZGlyZWN0aW9uIQoKUGV0ciBUCgo+IEFsc28gcGxlYXNlIG5vdGUgdGhlIGNvbnZl
cnNpb24gZnJvbSB1NjQgdG8gdTY0X3N0YXRzX3QKCk5vdGVkLiBJSVVDIHRoaXMgd2lsbCBpbiB0
dXJuIGNsb3NlIHRoZSB1cGRhdGUgcmFjZSBvbiA2NC1iaXQgYnkgdXNpbmcKYW4gYXRvbWljIHR5
cGUgYW5kIG9uIDMyLWJpdCBieSB1c2luZyBhIHNlcWxvY2suIENsZXZlci4KClBldHIgVAoKPiBW
ZXJ5IHBhcnRpYWwgcGF0Y2gsIG9ubHkgdG8gc2hvdyB0aGUgc3BsaXQgYW5kIG5ldyBzdHJ1Y3R1
cmUgOgo+IAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL25ldC9ldGhlcm5ldC9zdG1pY3JvL3N0bW1h
Yy9jb21tb24uaAo+IGIvZHJpdmVycy9uZXQvZXRoZXJuZXQvc3RtaWNyby9zdG1tYWMvY29tbW9u
LmgKPiBpbmRleCBlM2Y2NTBlODhmODJmOTI3ZjBkY2Y5NTc0OGZiZDEwYzE0YzMwY2JlLi43MDJi
Y2VlYTVkYzhjODc1YTgwZjVlM2E5MmI3YmIwNThmMzczZWRhCj4gMTAwNjQ0Cj4gLS0tIGEvZHJp
dmVycy9uZXQvZXRoZXJuZXQvc3RtaWNyby9zdG1tYWMvY29tbW9uLmgKPiArKysgYi9kcml2ZXJz
L25ldC9ldGhlcm5ldC9zdG1pY3JvL3N0bW1hYy9jb21tb24uaAo+IEBAIC02MCwxNiArNjAsMjIg
QEAKPiAgLyogI2RlZmluZSBGUkFNRV9GSUxURVJfREVCVUcgKi8KPiAKPiAgc3RydWN0IHN0bW1h
Y190eHFfc3RhdHMgewo+IC0gICAgICAgdTY0IHR4X2J5dGVzOwo+IC0gICAgICAgdTY0IHR4X3Bh
Y2tldHM7Cj4gLSAgICAgICB1NjQgdHhfcGt0X247Cj4gLSAgICAgICB1NjQgdHhfbm9ybWFsX2ly
cV9uOwo+IC0gICAgICAgdTY0IG5hcGlfcG9sbDsKPiAtICAgICAgIHU2NCB0eF9jbGVhbjsKPiAt
ICAgICAgIHU2NCB0eF9zZXRfaWNfYml0Owo+IC0gICAgICAgdTY0IHR4X3Rzb19mcmFtZXM7Cj4g
LSAgICAgICB1NjQgdHhfdHNvX25mcmFnczsKPiAtICAgICAgIHN0cnVjdCB1NjRfc3RhdHNfc3lu
YyBzeW5jcDsKPiArLyogRmlyc3QgcGFydCwgdXBkYXRlZCBmcm9tIG5kb19zdGFydF94bWl0KCks
IHByb3RlY3RlZCBieSB0eCBxdWV1ZSBsb2NrICovCj4gKyAgICAgICBzdHJ1Y3QgdTY0X3N0YXRz
X3N5bmMgc3luY3BfdHg7Cj4gKyAgICAgICB1NjRfc3RhdHNfdCB0eF9ieXRlczsKPiArICAgICAg
IHU2NF9zdGF0c190IHR4X3BhY2tldHM7Cj4gKyAgICAgICB1NjRfc3RhdHNfdCB0eF9wa3RfbjsK
PiArICAgICAgIHU2NF9zdGF0c190IHR4X3Rzb19mcmFtZXM7Cj4gKyAgICAgICB1NjRfc3RhdHNf
dCB0eF90c29fbmZyYWdzOwo+ICsKPiArLyogU2Vjb25kIHBhcnQsIHVwZGF0ZWQgZnJvbSBUWCBj
b21wbGV0aW9uIChwcm90ZWN0ZWQgYnkgTkFQSSBwb2xsIGxvZ2ljKSAqLwo+ICsgICAgICAgc3Ry
dWN0IHU2NF9zdGF0c19zeW5jIHN5bmNwX3R4X2NvbXBsZXRpb247Cj4gKyAgICAgICB1NjRfc3Rh
dHNfdCBuYXBpX3BvbGw7Cj4gKyAgICAgICB1NjRfc3RhdHNfdCB0eF9jbGVhbjsKPiArICAgICAg
IHU2NF9zdGF0c190IHR4X3NldF9pY19iaXQ7Cj4gKwo+ICsvKiBGb2xsb3dpbmcgZmVsZCBpcyB1
cGRhdGVkIGZyb20gaGFyZCBpcnEgY29udGV4dC4uLiAqLwo+ICsgICAgICAgYXRvbWljNjRfdCB0
eF9ub3JtYWxfaXJxX247Cj4gIH0gX19fX2NhY2hlbGluZV9hbGlnbmVkX2luX3NtcDsKPiAKPiAg
c3RydWN0IHN0bW1hY19yeHFfc3RhdHMgewoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX18KTGludXgtc3RtMzIgbWFpbGluZyBsaXN0CkxpbnV4LXN0bTMyQHN0
LW1kLW1haWxtYW4uc3Rvcm1yZXBseS5jb20KaHR0cHM6Ly9zdC1tZC1tYWlsbWFuLnN0b3JtcmVw
bHkuY29tL21haWxtYW4vbGlzdGluZm8vbGludXgtc3RtMzIK
